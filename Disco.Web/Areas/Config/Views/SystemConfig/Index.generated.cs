#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.34014
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace Disco.Web.Areas.Config.Views.SystemConfig
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Disco;
    using Disco.BI.Extensions;
    using Disco.Models.Repository;
    using Disco.Services;
    using Disco.Services.Authorization;
    using Disco.Services.Web;
    using Disco.Web;
    using Disco.Web.Extensions;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/Config/Views/SystemConfig/Index.cshtml")]
    public partial class Index : Disco.Services.Web.WebViewPage<Disco.Web.Areas.Config.Models.SystemConfig.IndexModel>
    {
        public Index()
        {
        }
        public override void Execute()
        {
            
            #line 2 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
  
    Authorization.Require(Claims.Config.System.Show);

    var canConfigProxy = Authorization.Has(Claims.Config.System.ConfigureProxy);
    var canConfigAD = Authorization.Has(Claims.Config.System.ConfigureActiveDirectory);

    ViewBag.Title = Html.ToBreadcrumb("Configuration", MVC.Config.Config.Index(), "System");

    if (canConfigAD)
    {
        Html.BundleDeferred("~/Style/Fancytree");
        Html.BundleDeferred("~/ClientScripts/Modules/jQuery-Fancytree");
        Html.BundleDeferred("~/ClientScripts/Modules/Disco-PropertyChangeHelpers");
    }

            
            #line default
            #line hidden
WriteLiteral("\r\n<div");

WriteLiteral(" class=\"form\"");

WriteLiteral(" style=\"width: 450px\"");

WriteLiteral(">\r\n    <table>\r\n        <tr>\r\n            <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Disco Version:\r\n            </th>\r\n            <td>\r\n                <div>\r\n    " +
"                <code>");

            
            #line 24 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                     Write(Model.DiscoVersion.ToString(4));

            
            #line default
            #line hidden
WriteLiteral("</code>\r\n                </div>\r\n                <div");

WriteLiteral(" class=\"smallMessage\"");

WriteAttribute("title", Tuple.Create(" title=\"", 953), Tuple.Create("\"", 1002)
            
            #line 26 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
, Tuple.Create(Tuple.Create("", 961), Tuple.Create<System.Object, System.Int32>(Model.DiscoVersionBuilt.ToFullDateTime()
            
            #line default
            #line hidden
, 961), false)
);

WriteLiteral(">\r\n                    Built ");

            
            #line 27 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                     Write(CommonHelpers.FriendlyDate(Model.DiscoVersionBuilt, "Unknown"));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n       " +
"     <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Database Connection:\r\n            </th>\r\n            <td>\r\n                <tabl" +
"e");

WriteLiteral(" class=\"sub\"");

WriteLiteral(">\r\n                    <tr>\r\n                        <th>Server:</th>\r\n          " +
"              <td><span");

WriteLiteral(" class=\"code\"");

WriteLiteral(">");

            
            #line 38 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                          Write(Model.DatabaseServer);

            
            #line default
            #line hidden
WriteLiteral("</span></td>\r\n                    </tr>\r\n                    <tr>\r\n              " +
"          <th>Database:</th>\r\n                        <td><span");

WriteLiteral(" class=\"code\"");

WriteLiteral(">");

            
            #line 42 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                          Write(Model.DatabaseName);

            
            #line default
            #line hidden
WriteLiteral("</span></td>\r\n                    </tr>\r\n                    <tr>\r\n              " +
"          <th>Authentication:</th>\r\n                        <td>");

            
            #line 46 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                       Write(Model.DatabaseAuthentication);

            
            #line default
            #line hidden
WriteLiteral("</td>\r\n                    </tr>\r\n");

            
            #line 48 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                    
            
            #line default
            #line hidden
            
            #line 48 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                      if (Model.DatabaseSqlAuthUsername != null)
                      {

            
            #line default
            #line hidden
WriteLiteral("                        <tr>\r\n                            <th>SQL&nbsp;User:</th>" +
"\r\n                            <td><span");

WriteLiteral(" class=\"code\"");

WriteLiteral(">");

            
            #line 52 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                              Write(Model.DatabaseSqlAuthUsername);

            
            #line default
            #line hidden
WriteLiteral("</span></td>\r\n                        </tr>      \r\n");

            
            #line 54 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                      }
                    
            
            #line default
            #line hidden
WriteLiteral("\r\n                </table>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n     " +
"       <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Data Store Location:\r\n            </th>\r\n            <td>\r\n                <span" +
"");

WriteLiteral(" class=\"code\"");

WriteLiteral(">");

            
            #line 63 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                              Write(Model.DataStoreLocation);

            
            #line default
            #line hidden
WriteLiteral("</span>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n<div");

WriteLiteral(" class=\"form\"");

WriteLiteral(" style=\"width: 450px; margin-top: 15px;\"");

WriteLiteral(">\r\n    <h2>Updates</h2>\r\n    <table>\r\n");

            
            #line 71 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
        
            
            #line default
            #line hidden
            
            #line 71 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
          
            if (Model.UpdateLatestResponse == null)
            {

            
            #line default
            #line hidden
WriteLiteral("            <tr>\r\n                <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Last Check:\r\n                </th>\r\n                <td>\r\n                    <d" +
"iv");

WriteLiteral(" class=\"error\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-exclamation-circle fa-lg\"");

WriteLiteral("></i>&nbsp;Never</div>\r\n                </td>\r\n            </tr>\r\n");

            
            #line 81 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
            }
            else
            {

            
            #line default
            #line hidden
WriteLiteral("            <tr>\r\n                <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Last Run:\r\n                </th>\r\n                <td>\r\n                    <spa" +
"n>");

            
            #line 88 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                     Write(CommonHelpers.FriendlyDate(Model.UpdateLatestResponse.ResponseTimestamp));

            
            #line default
            #line hidden
WriteLiteral("</span>\r\n                </td>\r\n            </tr>\r\n");

            
            #line 91 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                if (Model.UpdateLatestResponse.IsUpdatable(typeof(DiscoApplication).Assembly.GetName().Version))
                {

            
            #line default
            #line hidden
WriteLiteral("            <tr>\r\n                <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Update Available:\r\n                </th>\r\n                <td>\r\n                " +
"    <div>\r\n                        <i");

WriteLiteral(" class=\"fa fa-info-circle fa-lg information\"");

WriteLiteral("></i>&nbsp;Version ");

            
            #line 98 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                                     Write(Model.UpdateLatestResponse.Version);

            
            #line default
            #line hidden
WriteLiteral(" is available\r\n                    </div>\r\n                    <div");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">\r\n                        [Released ");

            
            #line 101 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                              Write(CommonHelpers.FriendlyDate(Model.UpdateLatestResponse.VersionReleasedTimestamp));

            
            #line default
            #line hidden
WriteLiteral("]\r\n                    </div>\r\n                    <div");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">");

            
            #line 103 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                          Write(new HtmlString(Model.UpdateLatestResponse.Blurb));

            
            #line default
            #line hidden
WriteLiteral("</div>\r\n                    <a");

WriteAttribute("href", Tuple.Create(" href=\"", 3996), Tuple.Create("\"", 4040)
            
            #line 104 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
, Tuple.Create(Tuple.Create("", 4003), Tuple.Create<System.Object, System.Int32>(Model.UpdateLatestResponse.UrlLink
            
            #line default
            #line hidden
, 4003), false)
);

WriteLiteral(" target=\"_blank\"");

WriteLiteral(">Download Now</a>\r\n                </td>\r\n            </tr>\r\n");

            
            #line 107 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                }
                else
                {

            
            #line default
            #line hidden
WriteLiteral("            <tr>\r\n                <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Status:\r\n                </th>\r\n                <td>\r\n                    <i");

WriteLiteral(" class=\"fa fa-check-square fa-lg success\"");

WriteLiteral("></i>&nbsp;<span>The latest version is installed</span>\r\n                </td>\r\n " +
"           </tr>\r\n");

            
            #line 117 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                }
            }
        
            
            #line default
            #line hidden
WriteLiteral("\r\n        <tr>\r\n            <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Check for Update:</th>\r\n            <td>\r\n");

            
            #line 123 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                
            
            #line default
            #line hidden
            
            #line 123 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                  
                    if (Model.UpdateRunningStatus == null)
                    {

            
            #line default
            #line hidden
WriteLiteral("                    <span>");

            
            #line 126 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                     Write(Html.ActionLinkSmallButton("Check Now", MVC.API.System.UpdateCheck()));

            
            #line default
            #line hidden
WriteLiteral("</span>\r\n");

WriteLiteral("                    <span");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">[Will run automatically <strong>");

            
            #line 127 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                          Write(CommonHelpers.FriendlyDate(Model.UpdateNextScheduled, "Unknown"));

            
            #line default
            #line hidden
WriteLiteral("</strong>]</span>\r\n");

            
            #line 128 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                    }
                    else
                    {

            
            #line default
            #line hidden
WriteLiteral("                    <span>");

            
            #line 131 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                     Write(Html.ActionLink("View Status", MVC.Config.Logging.TaskStatus(Model.UpdateRunningStatus.SessionId)));

            
            #line default
            #line hidden
WriteLiteral("</span>\r\n");

WriteLiteral("                    <span");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">[Running Now]</span>\r\n");

            
            #line 133 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                    }
                
            
            #line default
            #line hidden
WriteLiteral("\r\n");

            
            #line 135 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                
            
            #line default
            #line hidden
            
            #line 135 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                 if (Model.UpdateBetaDeployment)
                {

            
            #line default
            #line hidden
WriteLiteral("                    <hr />\r\n");

WriteLiteral("                    <span");

WriteLiteral(" class=\"alert\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-info-circle fa-lg\"");

WriteLiteral("></i>&nbsp;Beta Deployment</span>\r\n");

            
            #line 139 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                }

            
            #line default
            #line hidden
WriteLiteral("            </td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n<div");

WriteLiteral(" class=\"form\"");

WriteLiteral(" style=\"width: 450px; margin-top: 15px;\"");

WriteLiteral(">\r\n    <h2>Active Directory</h2>\r\n    <table>\r\n        <tr>\r\n            <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Primary Domain:\r\n            </th>\r\n            <td>\r\n                <code><str" +
"ong>");

            
            #line 151 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                         Write(Model.ADPrimaryDomain.DnsName);

            
            #line default
            #line hidden
WriteLiteral("</strong> <span>[");

            
            #line 151 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                        Write(Model.ADPrimaryDomain.NetBiosName);

            
            #line default
            #line hidden
WriteLiteral("]</span></code>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Additional Domains:\r\n            </th>\r\n            <td>\r\n");

            
            #line 158 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                
            
            #line default
            #line hidden
            
            #line 158 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                 if (Model.ADAdditionalDomains.Count > 0)
                {
                    var adDomainFirst = Model.ADAdditionalDomains.First();

            
            #line default
            #line hidden
WriteLiteral("                    <code>");

            
            #line 161 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                     Write(adDomainFirst.DnsName);

            
            #line default
            #line hidden
WriteLiteral(" <span>[");

            
            #line 161 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                   Write(adDomainFirst.NetBiosName);

            
            #line default
            #line hidden
WriteLiteral("]</span></code>\r\n");

            
            #line 162 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                    foreach (var adDomain in Model.ADAdditionalDomains.Skip(1))
                    {

            
            #line default
            #line hidden
WriteLiteral("                    <hr />\r\n");

WriteLiteral("                    <div>\r\n                        <code>");

            
            #line 166 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                         Write(adDomain.DnsName);

            
            #line default
            #line hidden
WriteLiteral(" <span>[");

            
            #line 166 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                  Write(adDomain.NetBiosName);

            
            #line default
            #line hidden
WriteLiteral("]</span></code>\r\n                    </div>\r\n");

            
            #line 168 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                    }
                }
                else
                {

            
            #line default
            #line hidden
WriteLiteral("                    <span");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">&lt;None&gt;</span>\r\n");

            
            #line 173 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                }

            
            #line default
            #line hidden
WriteLiteral("            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Site:\r\n            </th>\r\n            <td>\r\n                <code><strong>");

            
            #line 180 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                         Write(Model.ADSite.Name);

            
            #line default
            #line hidden
WriteLiteral("</strong></code>\r\n                <hr />\r\n                <div>\r\n");

            
            #line 183 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                    
            
            #line default
            #line hidden
            
            #line 183 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                     if (Model.ADSiteServers.Count > 0)
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <span>Servers:</span>\r\n");

WriteLiteral("                        <ul");

WriteLiteral(" class=\"none\"");

WriteLiteral(">\r\n");

            
            #line 187 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                            
            
            #line default
            #line hidden
            
            #line 187 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                             foreach (var siteServer in Model.ADSiteServers)
                            {
                                var server = siteServer.Item1;
                                var reachable = siteServer.Item2;

            
            #line default
            #line hidden
WriteLiteral("                                <li>\r\n                                    <i");

WriteAttribute("class", Tuple.Create(" class=\"", 7471), Tuple.Create("\"", 7554)
, Tuple.Create(Tuple.Create("", 7479), Tuple.Create("fa", 7479), true)
            
            #line 192 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
, Tuple.Create(Tuple.Create(" ", 7481), Tuple.Create<System.Object, System.Int32>(reachable ? "fa-check success" : "fa-exclamation warning"
            
            #line default
            #line hidden
, 7482), false)
, Tuple.Create(Tuple.Create(" ", 7542), Tuple.Create("fa-fw", 7543), true)
, Tuple.Create(Tuple.Create(" ", 7548), Tuple.Create("fa-lg", 7549), true)
);

WriteAttribute("title", Tuple.Create(" title=\"", 7555), Tuple.Create("\"", 7605)
            
            #line 192 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                   , Tuple.Create(Tuple.Create("", 7563), Tuple.Create<System.Object, System.Int32>(reachable ? "Reachable" : "Unavailable"
            
            #line default
            #line hidden
, 7563), false)
);

WriteLiteral("></i>&nbsp;<code>");

            
            #line 192 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                                                                                                                                          Write(server.Name);

            
            #line default
            #line hidden
WriteLiteral("</code>\r\n                                </li>\r\n");

            
            #line 194 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                            }

            
            #line default
            #line hidden
WriteLiteral("                        </ul>\r\n");

            
            #line 196 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                    }
                    else
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <div");

WriteLiteral(" class=\"error\"");

WriteLiteral(">\r\n                            <i");

WriteLiteral(" class=\"fa fa-exclamation-circle fa-lg\"");

WriteLiteral("></i>&nbsp;<span>None Found</span>\r\n                        </div>\r\n");

            
            #line 202 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                    }

            
            #line default
            #line hidden
WriteLiteral("                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n         " +
"   <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Forest:\r\n            </th>\r\n            <td>\r\n");

            
            #line 210 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                
            
            #line default
            #line hidden
            
            #line 210 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                 if (Model.ADForestServers == null)
                {

            
            #line default
            #line hidden
WriteLiteral("                    <div>\r\n");

WriteLiteral("                        ");

            
            #line 213 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                   Write(Html.CheckBoxFor(m => m.ADSearchEntireForest, new { disabled = "disabled" }));

            
            #line default
            #line hidden
WriteLiteral(" ");

            
            #line 213 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                                                 Write(Html.LabelFor(m => m.ADSearchEntireForest));

            
            #line default
            #line hidden
WriteLiteral("\r\n                    </div>\r\n");

WriteLiteral("                    <div");

WriteLiteral(" style=\"padding: 0.7em 0.7em;\"");

WriteLiteral(" class=\"ui-state-highlight ui-corner-all\"");

WriteLiteral(">\r\n                        <i");

WriteLiteral(" class=\"fa fa-info-circle information\"");

WriteLiteral("></i>&nbsp;Forest servers are being retrieved, try refreshing this page in a mome" +
"nt.\r\n                    </div>\r\n");

            
            #line 218 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                }
                else
                {
                    if (canConfigAD)
                    {
                        var canSearchEntireForest = (Model.ADForestServers.Count <= Disco.Services.Interop.ActiveDirectory.ActiveDirectory.MaxForestServerSearch);

            
            #line default
            #line hidden
WriteLiteral("                    <div>\r\n");

            
            #line 225 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                        
            
            #line default
            #line hidden
            
            #line 225 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                         if (!canSearchEntireForest)
                        {
                            
            
            #line default
            #line hidden
            
            #line 227 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                       Write(Html.CheckBoxFor(m => m.ADSearchEntireForest, new { disabled = "disabled" }));

            
            #line default
            #line hidden
            
            #line 227 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                                                          
            
            #line default
            #line hidden
            
            #line 227 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                                                     Write(Html.LabelFor(m => m.ADSearchEntireForest));

            
            #line default
            #line hidden
            
            #line 227 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                                                                                                     

            
            #line default
            #line hidden
WriteLiteral("                            <div");

WriteLiteral(" style=\"padding: 0.7em 0.7em;\"");

WriteLiteral(" class=\"ui-state-highlight ui-corner-all\"");

WriteLiteral(">\r\n                                <i");

WriteLiteral(" class=\"fa fa-exclamation-circle warning\"");

WriteLiteral("></i>&nbsp;Disco will not search entire forests which consist of more than ");

            
            #line 229 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                                                                                                  Write(Disco.Services.Interop.ActiveDirectory.ActiveDirectory.MaxForestServerSearch);

            
            #line default
            #line hidden
WriteLiteral(" servers. Only servers within this site will be searched.\r\n                      " +
"      </div>\r\n");

            
            #line 231 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                        }
                        else
                        {
                            
            
            #line default
            #line hidden
            
            #line 234 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                       Write(Html.CheckBoxFor(m => m.ADSearchEntireForest));

            
            #line default
            #line hidden
            
            #line 234 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                           
            
            #line default
            #line hidden
            
            #line 234 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                      Write(Html.LabelFor(m => m.ADSearchEntireForest));

            
            #line default
            #line hidden
            
            #line 234 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                                                                       
            
            #line default
            #line hidden
            
            #line 234 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                                                                  Write(AjaxHelpers.AjaxLoader());

            
            #line default
            #line hidden
            
            #line 234 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                                                                                                

            
            #line default
            #line hidden
WriteLiteral("                            <div");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">\r\n                                If this setting is enabled, Disco will search " +
"all servers within the forest rather than only servers within this site.\r\n      " +
"                      </div>\r\n");

WriteLiteral("                            <script>\r\n                                $(function " +
"() {\r\n                                    document.DiscoFunctions.PropertyChange" +
"Helper($(\'#ADSearchEntireForest\'), null, \'");

            
            #line 240 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                                                                Write(Url.Action(MVC.API.System.UpdateActiveDirectorySearchEntireForest()));

            
            #line default
            #line hidden
WriteLiteral("\', \'SearchEntireForest\');\r\n                                });\r\n                 " +
"           </script>\r\n");

            
            #line 243 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                        }

            
            #line default
            #line hidden
WriteLiteral("                    </div>\r\n");

            
            #line 245 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                    }
                    else
                    {

            
            #line default
            #line hidden
WriteLiteral("                    <div>\r\n");

WriteLiteral("                        ");

            
            #line 249 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                   Write(Html.CheckBoxFor(m => m.ADSearchEntireForest, new { disabled = "disabled" }));

            
            #line default
            #line hidden
WriteLiteral(" ");

            
            #line 249 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                                                 Write(Html.LabelFor(m => m.ADSearchEntireForest));

            
            #line default
            #line hidden
WriteLiteral("\r\n                        <div");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">\r\n                            If this setting is enabled, Disco will search all " +
"servers within the forest rather than only servers within this site.\r\n          " +
"              </div>\r\n                    </div>\r\n");

            
            #line 254 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                    }

            
            #line default
            #line hidden
WriteLiteral("                    <div>\r\n                        <hr />\r\n                      " +
"  <span>Servers:</span>\r\n                        <ul");

WriteLiteral(" id=\"Config_System_AD_ForestServers\"");

WriteLiteral(">\r\n");

            
            #line 259 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                            
            
            #line default
            #line hidden
            
            #line 259 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                             foreach (var server in Model.ADForestServers.OrderBy(s => s))
                            {

            
            #line default
            #line hidden
WriteLiteral("                                <li><code>");

            
            #line 261 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                     Write(server);

            
            #line default
            #line hidden
WriteLiteral("</code> ");

            
            #line 261 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                     Write(Model.ADSiteServers.Count(ss => ss.Item1.Name.Equals(server, StringComparison.InvariantCultureIgnoreCase)) > 0 ? "[Site Server]" : null);

            
            #line default
            #line hidden
WriteLiteral("</li>\r\n");

            
            #line 262 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                            }

            
            #line default
            #line hidden
WriteLiteral(@"                        </ul>
                        <script>
                            $(function () {
                                var toManyServers = 5;
                                var ul = $('#Config_System_AD_ForestServers');
                                var ulLi = ul.find('li');
                                if (ulLi.length > toManyServers) {
                                    var liMore = $('<li>').append(
                                        $('<a>').attr('href', '#')
                                        .text('Show All Servers (' + (ulLi.length - toManyServers) + ' more)')
                                        .click(function () {
                                            $(this).closest('li').remove();
                                            ul.find('li').show();
                                            return false;
                                        }))
                                    .insertAfter(ulLi[(toManyServers - 1)]);
                                    ulLi.each(function (i) {
                                        if (i > (toManyServers - 1))
                                            $(this).hide();
                                    });
                                }
                            });
                        </script>
                    </div>
");

            
            #line 287 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                }

            
            #line default
            #line hidden
WriteLiteral("            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Search Scope:\r\n            </th>\r\n            <td>\r\n");

            
            #line 294 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                
            
            #line default
            #line hidden
            
            #line 294 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                 if (Model.ADSearchContainers != null && Model.ADSearchContainers.Count > 0)
                {

            
            #line default
            #line hidden
WriteLiteral("                    <div>Searching is restricted to the following Organisational&" +
"nbsp;Unit containers</div>\r\n");

WriteLiteral("                    <ul");

WriteLiteral(" id=\"Config_System_AD_SearchScope_DistinguishedNames\"");

WriteLiteral(">\r\n");

            
            #line 298 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                        
            
            #line default
            #line hidden
            
            #line 298 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                         foreach (var adContainer in Model.ADSearchContainers)
                        {

            
            #line default
            #line hidden
WriteLiteral("                            <li");

WriteLiteral(" data-distinguishedname=\"");

            
            #line 300 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                   Write(adContainer.Item1);

            
            #line default
            #line hidden
WriteLiteral("\"");

WriteLiteral("><code>");

            
            #line 300 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                                                             Write(adContainer.Item3);

            
            #line default
            #line hidden
WriteLiteral("</code></li>\r\n");

            
            #line 301 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                        }

            
            #line default
            #line hidden
WriteLiteral("                    </ul>\r\n");

            
            #line 303 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                }
                else
                {

            
            #line default
            #line hidden
WriteLiteral("                    <div>No restrictions are in effect.</div>\r\n");

WriteLiteral("                    <div");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">When searching, the entire domain will be queried. This is suitable for most sin" +
"gle-domain deployments.</div>\r\n");

            
            #line 308 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                }

            
            #line default
            #line hidden
WriteLiteral("                ");

            
            #line 309 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                 if (canConfigAD)
                {

            
            #line default
            #line hidden
WriteLiteral("                    <div>\r\n                        <hr />\r\n                      " +
"  <a");

WriteLiteral(" id=\"Config_System_AD_SearchScope_Update\"");

WriteLiteral(" href=\"#\"");

WriteLiteral(" class=\"button small\"");

WriteLiteral(">Update</a>\r\n                    </div>\r\n");

WriteLiteral("                    <div");

WriteLiteral(" id=\"Config_System_AD_SearchScope_Dialog\"");

WriteLiteral(" class=\"dialog\"");

WriteLiteral(" title=\"Search Scope\"");

WriteLiteral(">\r\n                        <div");

WriteLiteral(" id=\"Config_System_AD_SearchScope_Tree\"");

WriteLiteral(" class=\"organisationalUnitTree\"");

WriteLiteral(">\r\n                        </div>\r\n");

            
            #line 318 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                        
            
            #line default
            #line hidden
            
            #line 318 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                         using (Html.BeginForm(MVC.API.System.UpdateActiveDirectorySearchScope(null, redirect: true)))
                        {
                        }

            
            #line default
            #line hidden
WriteLiteral("                    </div>\r\n");

WriteLiteral("                    <script>\r\n                        $(function () {\r\n          " +
"                  var $dialog, $tree, tree, distinguishedNames;\r\n\r\n             " +
"               function expandNodeTree(node) {\r\n                                " +
"var parent = node.parent;\r\n                                if (parent) {\r\n      " +
"                              expandNodeTree(parent);\r\n                         " +
"           if (!parent.isExpanded())\r\n                                        pa" +
"rent.setExpanded(true, { noAnimation: true, noEvents: false });\r\n               " +
"                 }\r\n                            }\r\n                            f" +
"unction selectDistinguishedNames() {\r\n                                if (!disti" +
"nguishedNames) {\r\n                                    distinguishedNames = $(\'#C" +
"onfig_System_AD_SearchScope_DistinguishedNames\')\r\n                              " +
"          .find(\'li\')\r\n                                        .map(function () " +
"{ return $(this).attr(\'data-distinguishedname\'); }).get();\r\n                    " +
"            }\r\n\r\n                                if (tree) {\r\n                  " +
"                  tree.visit(function (node) {\r\n                                " +
"        if ($.inArray(node.key, distinguishedNames) >= 0) {\r\n                   " +
"                         node.setSelected(true);\r\n                              " +
"              expandNodeTree(node);\r\n                                        } e" +
"lse if (node.isSelected()) {\r\n                                            node.s" +
"etSelected(false);\r\n                                        }\r\n                 " +
"                   });\r\n                                }\r\n                     " +
"       }\r\n\r\n                            function update() {\r\n\r\n                 " +
"               if (!$dialog) {\r\n                                    $dialog = $(" +
"\'#Config_System_AD_SearchScope_Dialog\').dialog({\r\n                              " +
"          autoOpen: false,\r\n                                        buttons: nul" +
"l,\r\n                                        draggable: false,\r\n                 " +
"                       modal: true,\r\n                                        res" +
"izable: false,\r\n                                        width: 500,\r\n           " +
"                             height: 500\r\n                                    })" +
";\r\n                                    $tree = $(\'#Config_System_AD_SearchScope_" +
"Tree\');\r\n                                    $dialog.css(\'overflow\', \'visible\');" +
"\r\n                                    $tree.css(\'height\', \'100%\');\r\n\r\n          " +
"                          $.getJSON(\'");

            
            #line 369 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                                           Write(Url.Action(MVC.API.System.DomainOrganisationalUnits()));

            
            #line default
            #line hidden
WriteLiteral("\', null, function (data) {\r\n\r\n\r\n                                        tree = $t" +
"ree.fancytree({\r\n                                            source: data,\r\n    " +
"                                        checkbox: true,\r\n                       " +
"                     selectMode: 2,\r\n                                           " +
" keyboard: false,\r\n                                            fx: null\r\n       " +
"                                 }).fancytree(\'getTree\');\r\n\r\n                   " +
"                     tree.$container.css(\'position\', \'relative\');\r\n\r\n           " +
"                             // Set Buttons\r\n                                   " +
"     $dialog.dialog(\'option\', \'buttons\', {\r\n                                    " +
"        \'Search Entire Forest\': function () {\r\n                                 " +
"               var $this = $(this);\r\n                                           " +
"     $this.css(\'overflow\', \'hidden\');\r\n                                         " +
"       $this.dialog(\"disable\");\r\n                                               " +
" $this.dialog(\"option\", \"buttons\", null);\r\n\r\n                                   " +
"             var $form = $dialog.find(\'form\');\r\n                                " +
"                $form.submit();\r\n                                            },\r" +
"\n                                            \'Save\': function () {\r\n            " +
"                                    var $this = $(this);\r\n                      " +
"                          $this.css(\'overflow\', \'hidden\');\r\n                    " +
"                            $this.dialog(\"disable\");\r\n                          " +
"                      $this.dialog(\"option\", \"buttons\", null);\r\n\r\n              " +
"                                  var nodes = tree.getSelectedNodes();\r\n        " +
"                                        var $form = $dialog.find(\'form\');\r\n     " +
"                                           $.each(nodes, function (i, node) {\r\n " +
"                                                   $(\'<input>\').attr({ \'type\': \'" +
"hidden\', \'name\': \'Containers\', \'value\': node.key }).appendTo($form);\r\n          " +
"                                      });\r\n                                     " +
"           $form.submit();\r\n                                            }\r\n     " +
"                                   });\r\n\r\n                                      " +
"  // Select & Expand\r\n                                        selectDistinguishe" +
"dNames();\r\n\r\n                                        tree.options.fx = { height:" +
" \"toggle\", duration: 200 };\r\n                                    });\r\n\r\n        " +
"                        }\r\n\r\n                                selectDistinguished" +
"Names();\r\n\r\n                                $dialog.dialog(\'open\');\r\n\r\n         " +
"                       return false;\r\n                            }\r\n\r\n         " +
"                   $(\'#Config_System_AD_SearchScope_Update\').click(update);\r\n   " +
"                     });\r\n                    </script>\r\n");

            
            #line 426 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
                }

            
            #line default
            #line hidden
WriteLiteral("            </td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n");

            
            #line 431 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
 if (canConfigProxy)
{
    using (Html.BeginForm(MVC.API.System.UpdateProxySettings()))
    { 

            
            #line default
            #line hidden
WriteLiteral("    <div");

WriteLiteral(" class=\"form\"");

WriteLiteral(" style=\"width: 450px; margin-top: 15px;\"");

WriteLiteral(">\r\n        <h2>Proxy Settings</h2>\r\n        <table>\r\n            <tr>\r\n          " +
"      <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Address:\r\n                </th>\r\n                <td>\r\n");

WriteLiteral("                    ");

            
            #line 442 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
               Write(Html.EditorFor(m => m.ProxyAddress));

            
            #line default
            #line hidden
WriteLiteral("<br />\r\n");

WriteLiteral("                    ");

            
            #line 443 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
               Write(Html.ValidationMessageFor(m => m.ProxyAddress));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <th" +
"");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Port:\r\n                </th>\r\n                <td>\r\n");

WriteLiteral("                    ");

            
            #line 450 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
               Write(Html.EditorFor(m => m.ProxyPort));

            
            #line default
            #line hidden
WriteLiteral("<br />\r\n");

WriteLiteral("                    ");

            
            #line 451 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
               Write(Html.ValidationMessageFor(m => m.ProxyPort));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <th" +
"");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Username:\r\n                </th>\r\n                <td>\r\n");

WriteLiteral("                    ");

            
            #line 458 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
               Write(Html.EditorFor(m => m.ProxyUsername));

            
            #line default
            #line hidden
WriteLiteral("<br />\r\n");

WriteLiteral("                    ");

            
            #line 459 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
               Write(Html.ValidationMessageFor(m => m.ProxyUsername));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <th" +
"");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Password:\r\n                </th>\r\n                <td>\r\n");

WriteLiteral("                    ");

            
            #line 466 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
               Write(Html.EditorFor(m => m.ProxyPassword));

            
            #line default
            #line hidden
WriteLiteral("<br />\r\n");

WriteLiteral("                    ");

            
            #line 467 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
               Write(Html.ValidationMessageFor(m => m.ProxyPassword));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <th" +
"");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">&nbsp;\r\n                </th>\r\n                <td>\r\n                    <input");

WriteLiteral(" type=\"submit\"");

WriteLiteral(" class=\"button small\"");

WriteLiteral(" value=\"Save Proxy Settings\"");

WriteLiteral(" />\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n");

            
            #line 479 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
    }
}
else
{

            
            #line default
            #line hidden
WriteLiteral("    <div");

WriteLiteral(" class=\"form\"");

WriteLiteral(" style=\"width: 450px; margin-top: 15px;\"");

WriteLiteral(">\r\n        <h2>Proxy Settings</h2>\r\n        <table>\r\n            <tr>\r\n          " +
"      <th");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Address:\r\n                </th>\r\n                <td>\r\n");

WriteLiteral("                    ");

            
            #line 490 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
               Write(Html.DisplayFor(m => m.ProxyAddress));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <th" +
"");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Port:\r\n                </th>\r\n                <td>\r\n");

WriteLiteral("                    ");

            
            #line 497 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
               Write(Html.DisplayFor(m => m.ProxyPort));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <th" +
"");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Username:\r\n                </th>\r\n                <td>\r\n");

WriteLiteral("                    ");

            
            #line 504 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
               Write(Html.DisplayFor(m => m.ProxyUsername));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <th" +
"");

WriteLiteral(" style=\"width: 135px\"");

WriteLiteral(">Password:\r\n                </th>\r\n                <td>********\r\n                " +
"</td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n");

            
            #line 515 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
}

            
            #line default
            #line hidden
WriteLiteral("<div");

WriteLiteral(" class=\"actionBar\"");

WriteLiteral(">\r\n");

WriteLiteral("    ");

            
            #line 517 "..\..\Areas\Config\Views\SystemConfig\Index.cshtml"
Write(Html.ActionLinkButton("Update Device Last Network Logons", MVC.API.System.UpdateLastNetworkLogonDates()));

            
            #line default
            #line hidden
WriteLiteral("\r\n</div>\r\n");

        }
    }
}
#pragma warning restore 1591
