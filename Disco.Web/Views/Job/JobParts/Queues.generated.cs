#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.34011
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace Disco.Web.Views.Job.JobParts
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Disco;
    using Disco.BI.Extensions;
    using Disco.Models.Repository;
    using Disco.Services;
    using Disco.Services.Authorization;
    
    #line 2 "..\..\Views\Job\JobParts\Queues.cshtml"
    using Disco.Services.Jobs.JobQueues;
    
    #line default
    #line hidden
    using Disco.Services.Web;
    using Disco.Web;
    using Disco.Web.Extensions;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/Job/JobParts/Queues.cshtml")]
    public partial class Queues : Disco.Services.Web.WebViewPage<Disco.Web.Models.Job.ShowModel>
    {
        public Queues()
        {
        }
        public override void Execute()
        {
            
            #line 3 "..\..\Views\Job\JobParts\Queues.cshtml"
  
    Authorization.Require(Claims.Job.ShowJobsQueues);

    var hasAddOwn = Authorization.Has(Claims.Job.Actions.AddOwnQueues);
    var hasAddAny = Authorization.Has(Claims.Job.Actions.AddAnyQueues);
    var hasRemoveOwn = Authorization.Has(Claims.Job.Actions.RemoveOwnQueues);
    var hasRemoveAny = Authorization.Has(Claims.Job.Actions.RemoveAnyQueues);

    var hasJobQueueShow = Authorization.Has(Claims.Config.JobQueue.Show);

    var queues = JobQueueService.GetQueues();
    var queueHistory = Model.Job.JobQueues.Select(jq => new Tuple<JobQueueJob, JobQueueToken>(jq, queues.First(q => q.JobQueue.Id == jq.JobQueueId))).OrderBy(jq => jq.Item1.AddedDate).ToList();

            
            #line default
            #line hidden
WriteLiteral("\r\n");

            
            #line 16 "..\..\Views\Job\JobParts\Queues.cshtml"
 if (queueHistory.Count > 0)
{

            
            #line default
            #line hidden
WriteLiteral("    <table");

WriteLiteral(" id=\"jobQueues\"");

WriteLiteral(">\r\n        <tr>\r\n            <th");

WriteLiteral(" class=\"name\"");

WriteLiteral(">Name</th>\r\n            <th");

WriteLiteral(" class=\"added\"");

WriteLiteral(">Added</th>\r\n            <th");

WriteLiteral(" class=\"removed\"");

WriteLiteral(">Removed</th>\r\n            <th");

WriteLiteral(" class=\"sla\"");

WriteLiteral(">SLA</th>\r\n        </tr>\r\n");

            
            #line 25 "..\..\Views\Job\JobParts\Queues.cshtml"
        
            
            #line default
            #line hidden
            
            #line 25 "..\..\Views\Job\JobParts\Queues.cshtml"
         foreach (var jq in queueHistory.OrderByDescending(jqj => jqj.Item1.AddedDate))
        {
            bool overdue = (jq.Item1.SLAExpiresDate.HasValue && jq.Item1.SLAExpiresDate.Value < (jq.Item1.RemovedDate.HasValue ? jq.Item1.RemovedDate : DateTime.Now));

            
            #line default
            #line hidden
WriteLiteral("            <tr");

WriteLiteral(" data-jobqueuejobid=\"");

            
            #line 28 "..\..\Views\Job\JobParts\Queues.cshtml"
                               Write(jq.Item1.Id);

            
            #line default
            #line hidden
WriteLiteral("\"");

WriteLiteral(" data-jobqueuejobaddeddate=\"");

            
            #line 28 "..\..\Views\Job\JobParts\Queues.cshtml"
                                                                         Write(jq.Item1.AddedDate.ToString("s"));

            
            #line default
            #line hidden
WriteLiteral("\"");

WriteAttribute("class", Tuple.Create(" class=\"", 1405), Tuple.Create("\"", 1468)
            
            #line 28 "..\..\Views\Job\JobParts\Queues.cshtml"
                                          , Tuple.Create(Tuple.Create("", 1413), Tuple.Create<System.Object, System.Int32>(!jq.Item1.RemovedDate.HasValue ? "added" : "removed"
            
            #line default
            #line hidden
, 1413), false)
);

WriteLiteral(">\r\n                <td");

WriteLiteral(" class=\"name\"");

WriteLiteral(">\r\n                    <i");

WriteAttribute("class", Tuple.Create(" class=\"", 1529), Tuple.Create("\"", 1614)
, Tuple.Create(Tuple.Create("", 1537), Tuple.Create("fa", 1537), true)
, Tuple.Create(Tuple.Create(" ", 1539), Tuple.Create("fa-", 1540), true)
            
            #line 30 "..\..\Views\Job\JobParts\Queues.cshtml"
, Tuple.Create(Tuple.Create("", 1543), Tuple.Create<System.Object, System.Int32>(jq.Item2.JobQueue.Icon
            
            #line default
            #line hidden
, 1543), false)
, Tuple.Create(Tuple.Create(" ", 1568), Tuple.Create("fa-fw", 1569), true)
, Tuple.Create(Tuple.Create(" ", 1574), Tuple.Create("fa-lg", 1575), true)
, Tuple.Create(Tuple.Create(" ", 1580), Tuple.Create("d-", 1581), true)
            
            #line 30 "..\..\Views\Job\JobParts\Queues.cshtml"
, Tuple.Create(Tuple.Create("", 1583), Tuple.Create<System.Object, System.Int32>(jq.Item2.JobQueue.IconColour
            
            #line default
            #line hidden
, 1583), false)
);

WriteLiteral("></i>\r\n");

            
            #line 31 "..\..\Views\Job\JobParts\Queues.cshtml"
                    
            
            #line default
            #line hidden
            
            #line 31 "..\..\Views\Job\JobParts\Queues.cshtml"
                     if (hasJobQueueShow)
                    {
                        
            
            #line default
            #line hidden
            
            #line 33 "..\..\Views\Job\JobParts\Queues.cshtml"
                   Write(Html.ActionLink(jq.Item2.JobQueue.Name, MVC.Config.JobQueue.Index(jq.Item2.JobQueue.Id)));

            
            #line default
            #line hidden
            
            #line 33 "..\..\Views\Job\JobParts\Queues.cshtml"
                                                                                                                 
                    }
                    else
                    {
                        
            
            #line default
            #line hidden
            
            #line 37 "..\..\Views\Job\JobParts\Queues.cshtml"
                   Write(jq.Item2.JobQueue.Name);

            
            #line default
            #line hidden
            
            #line 37 "..\..\Views\Job\JobParts\Queues.cshtml"
                                               
                    }

            
            #line default
            #line hidden
WriteLiteral("                    ");

            
            #line 39 "..\..\Views\Job\JobParts\Queues.cshtml"
                     if (jq.Item2.JobQueue.Priority != JobQueuePriority.Normal)
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <i");

WriteAttribute("class", Tuple.Create(" class=\"", 2077), Tuple.Create("\"", 2149)
, Tuple.Create(Tuple.Create("", 2085), Tuple.Create("fa", 2085), true)
, Tuple.Create(Tuple.Create(" ", 2087), Tuple.Create("d-priority-", 2088), true)
            
            #line 41 "..\..\Views\Job\JobParts\Queues.cshtml"
, Tuple.Create(Tuple.Create("", 2099), Tuple.Create<System.Object, System.Int32>(jq.Item2.JobQueue.Priority.ToString().ToLower()
            
            #line default
            #line hidden
, 2099), false)
);

WriteAttribute("title", Tuple.Create(" title=\"", 2150), Tuple.Create("\"", 2213)
            
            #line 41 "..\..\Views\Job\JobParts\Queues.cshtml"
                            , Tuple.Create(Tuple.Create("", 2158), Tuple.Create<System.Object, System.Int32>(jq.Item2.JobQueue.Priority.ToString()
            
            #line default
            #line hidden
, 2158), false)
, Tuple.Create(Tuple.Create(" ", 2198), Tuple.Create("Queue", 2199), true)
, Tuple.Create(Tuple.Create(" ", 2204), Tuple.Create("Priority", 2205), true)
);

WriteLiteral("></i>\r\n");

            
            #line 42 "..\..\Views\Job\JobParts\Queues.cshtml"
                    }

            
            #line default
            #line hidden
WriteLiteral("                </td>\r\n                <td");

WriteLiteral(" class=\"added\"");

WriteLiteral(">\r\n");

            
            #line 45 "..\..\Views\Job\JobParts\Queues.cshtml"
                    
            
            #line default
            #line hidden
            
            #line 45 "..\..\Views\Job\JobParts\Queues.cshtml"
                     if (jq.Item1.CanEditAddedComment())
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <i");

WriteLiteral(" class=\"fa fa-fw fa-edit\"");

WriteLiteral(" title=\"Edit Comment\"");

WriteLiteral("></i>\r\n");

            
            #line 48 "..\..\Views\Job\JobParts\Queues.cshtml"
                    }

            
            #line default
            #line hidden
WriteLiteral("                    ");

            
            #line 49 "..\..\Views\Job\JobParts\Queues.cshtml"
                     if (jq.Item1.AddedComment == null)
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <div");

WriteLiteral(" class=\"comments smallMessage\"");

WriteLiteral(">[no comment]</div>\r\n");

            
            #line 52 "..\..\Views\Job\JobParts\Queues.cshtml"
                    }
                    else
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <div");

WriteLiteral(" class=\"comments\"");

WriteLiteral(">");

            
            #line 55 "..\..\Views\Job\JobParts\Queues.cshtml"
                                         Write(jq.Item1.AddedComment);

            
            #line default
            #line hidden
WriteLiteral("</div>\r\n");

            
            #line 56 "..\..\Views\Job\JobParts\Queues.cshtml"
                    }

            
            #line default
            #line hidden
WriteLiteral("                    <div");

WriteLiteral(" class=\"when\"");

WriteLiteral(">");

            
            #line 57 "..\..\Views\Job\JobParts\Queues.cshtml"
                                 Write(CommonHelpers.FriendlyDateAndUser(jq.Item1.AddedDate, jq.Item1.AddedUser));

            
            #line default
            #line hidden
WriteLiteral("</div>\r\n                </td>\r\n                <td");

WriteAttribute("class", Tuple.Create(" class=\"", 2978), Tuple.Create("\"", 3041)
, Tuple.Create(Tuple.Create("", 2986), Tuple.Create("removed", 2986), true)
            
            #line 59 "..\..\Views\Job\JobParts\Queues.cshtml"
, Tuple.Create(Tuple.Create("", 2993), Tuple.Create<System.Object, System.Int32>(!jq.Item1.RemovedDate.HasValue ? " na" : null
            
            #line default
            #line hidden
, 2993), false)
);

WriteLiteral(">\r\n");

            
            #line 60 "..\..\Views\Job\JobParts\Queues.cshtml"
                    
            
            #line default
            #line hidden
            
            #line 60 "..\..\Views\Job\JobParts\Queues.cshtml"
                     if (jq.Item1.RemovedDate.HasValue)
                    {
                        if (jq.Item1.CanEditRemovedComment())
                        {

            
            #line default
            #line hidden
WriteLiteral("                        <i");

WriteLiteral(" class=\"fa fa-fw fa-edit\"");

WriteLiteral(" title=\"Edit Comment\"");

WriteLiteral("></i>\r\n");

            
            #line 65 "..\..\Views\Job\JobParts\Queues.cshtml"
                        }
                        if (jq.Item1.RemovedComment == null)
                        {

            
            #line default
            #line hidden
WriteLiteral("                        <div");

WriteLiteral(" class=\"comments smallMessage\"");

WriteLiteral(">[no comment]</div>\r\n");

            
            #line 69 "..\..\Views\Job\JobParts\Queues.cshtml"
                        }
                        else
                        {

            
            #line default
            #line hidden
WriteLiteral("                        <div");

WriteLiteral(" class=\"comments\"");

WriteLiteral(">");

            
            #line 72 "..\..\Views\Job\JobParts\Queues.cshtml"
                                         Write(jq.Item1.RemovedComment);

            
            #line default
            #line hidden
WriteLiteral("</div>\r\n");

            
            #line 73 "..\..\Views\Job\JobParts\Queues.cshtml"
                        }

            
            #line default
            #line hidden
WriteLiteral("                        <div");

WriteLiteral(" class=\"when\"");

WriteLiteral(">");

            
            #line 74 "..\..\Views\Job\JobParts\Queues.cshtml"
                                     Write(CommonHelpers.FriendlyDateAndUser(jq.Item1.RemovedDate.Value, jq.Item1.RemovedUser));

            
            #line default
            #line hidden
WriteLiteral("</div>\r\n");

            
            #line 75 "..\..\Views\Job\JobParts\Queues.cshtml"
                    }
                    else if (jq.Item1.CanRemove())
                    {
                        
            
            #line default
            #line hidden
            
            #line 78 "..\..\Views\Job\JobParts\Queues.cshtml"
                   Write(Html.ActionLinkSmallButton("Remove", MVC.API.JobQueueJob.RemoveJob(jq.Item1.Id, null), null, (jq.Item1.CanCloseJobNormallyAfterRemoved() ? "remove canCloseNormally" : "remove")));

            
            #line default
            #line hidden
            
            #line 78 "..\..\Views\Job\JobParts\Queues.cshtml"
                                                                                                                                                                                                          
                    }
                    else
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <span");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">In Progress</span>\r\n");

            
            #line 83 "..\..\Views\Job\JobParts\Queues.cshtml"
                    }

            
            #line default
            #line hidden
WriteLiteral("                </td>\r\n                <td");

WriteAttribute("class", Tuple.Create(" class=\"", 4322), Tuple.Create("\"", 4467)
, Tuple.Create(Tuple.Create("", 4330), Tuple.Create("sla", 4330), true)
            
            #line 85 "..\..\Views\Job\JobParts\Queues.cshtml"
, Tuple.Create(Tuple.Create(" ", 4333), Tuple.Create<System.Object, System.Int32>(overdue ? "overdue" : null
            
            #line default
            #line hidden
, 4334), false)
            
            #line 85 "..\..\Views\Job\JobParts\Queues.cshtml"
, Tuple.Create(Tuple.Create(" ", 4363), Tuple.Create<System.Object, System.Int32>(jq.Item1.CanEditSla() ? "canEditSLA" : null
            
            #line default
            #line hidden
, 4364), false)
            
            #line 85 "..\..\Views\Job\JobParts\Queues.cshtml"
                            , Tuple.Create(Tuple.Create(" ", 4410), Tuple.Create<System.Object, System.Int32>(jq.Item1.CanEditPriority() ? "canEditPriority" : null
            
            #line default
            #line hidden
, 4411), false)
);

WriteLiteral(" data-priority=\"");

            
            #line 85 "..\..\Views\Job\JobParts\Queues.cshtml"
                                                                                                                                                                                 Write(jq.Item1.Priority.ToString());

            
            #line default
            #line hidden
WriteLiteral("\"");

WriteLiteral(" data-sla=\"");

            
            #line 85 "..\..\Views\Job\JobParts\Queues.cshtml"
                                                                                                                                                                                                                            Write(jq.Item1.SLAExpiresDate.HasValue ? jq.Item1.SLAExpiresDate.Value.ToString("s") : null);

            
            #line default
            #line hidden
WriteLiteral("\"");

WriteLiteral(">\r\n");

            
            #line 86 "..\..\Views\Job\JobParts\Queues.cshtml"
                    
            
            #line default
            #line hidden
            
            #line 86 "..\..\Views\Job\JobParts\Queues.cshtml"
                     if (jq.Item1.CanEditSla() || jq.Item1.CanEditPriority())
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <i");

WriteLiteral(" class=\"fa fa-fw fa-edit\"");

WriteLiteral(" title=\"Edit SLA\"");

WriteLiteral("></i>\r\n");

            
            #line 89 "..\..\Views\Job\JobParts\Queues.cshtml"
                    }

            
            #line default
            #line hidden
WriteLiteral("                    <i");

WriteAttribute("class", Tuple.Create(" class=\"", 4841), Tuple.Create("\"", 4904)
, Tuple.Create(Tuple.Create("", 4849), Tuple.Create("fa", 4849), true)
, Tuple.Create(Tuple.Create(" ", 4851), Tuple.Create("d-priority-", 4852), true)
            
            #line 90 "..\..\Views\Job\JobParts\Queues.cshtml"
, Tuple.Create(Tuple.Create("", 4863), Tuple.Create<System.Object, System.Int32>(jq.Item1.Priority.ToString().ToLower()
            
            #line default
            #line hidden
, 4863), false)
);

WriteAttribute("title", Tuple.Create(" title=\"", 4905), Tuple.Create("\"", 4957)
            
            #line 90 "..\..\Views\Job\JobParts\Queues.cshtml"
               , Tuple.Create(Tuple.Create("", 4913), Tuple.Create<System.Object, System.Int32>(jq.Item1.Priority.ToString()
            
            #line default
            #line hidden
, 4913), false)
, Tuple.Create(Tuple.Create(" ", 4944), Tuple.Create("Job", 4945), true)
, Tuple.Create(Tuple.Create(" ", 4948), Tuple.Create("Priority", 4949), true)
);

WriteLiteral("></i>\r\n");

            
            #line 91 "..\..\Views\Job\JobParts\Queues.cshtml"
                    
            
            #line default
            #line hidden
            
            #line 91 "..\..\Views\Job\JobParts\Queues.cshtml"
                     if (jq.Item1.SLAExpiresDate.HasValue)
                    {
                        if (jq.Item1.RemovedDate.HasValue)
                        {
                        
            
            #line default
            #line hidden
            
            #line 95 "..\..\Views\Job\JobParts\Queues.cshtml"
                   Write(CommonHelpers.FriendlyDate(jq.Item1.SLAExpiresDate.Value, WithoutSuffix: true));

            
            #line default
            #line hidden
            
            #line 95 "..\..\Views\Job\JobParts\Queues.cshtml"
                                                                                                       
                            if (jq.Item1.RemovedDate.Value <= jq.Item1.SLAExpiresDate.Value)
                            {

            
            #line default
            #line hidden
WriteLiteral("                        <span>early</span>\r\n");

            
            #line 99 "..\..\Views\Job\JobParts\Queues.cshtml"
                            }
                            else
                            {

            
            #line default
            #line hidden
WriteLiteral("                        <span>late</span>\r\n");

            
            #line 103 "..\..\Views\Job\JobParts\Queues.cshtml"
                            }
                        }
                        else
                        {

            
            #line default
            #line hidden
WriteLiteral("                        <span>due </span>");

            
            #line 107 "..\..\Views\Job\JobParts\Queues.cshtml"
                                         
            
            #line default
            #line hidden
            
            #line 107 "..\..\Views\Job\JobParts\Queues.cshtml"
                                    Write(CommonHelpers.FriendlyDate(jq.Item1.SLAExpiresDate.Value));

            
            #line default
            #line hidden
            
            #line 107 "..\..\Views\Job\JobParts\Queues.cshtml"
                                                                                                   
                        }
                    }

            
            #line default
            #line hidden
WriteLiteral("                </td>\r\n            </tr>\r\n");

            
            #line 112 "..\..\Views\Job\JobParts\Queues.cshtml"
        }

            
            #line default
            #line hidden
WriteLiteral("    </table>\r\n");

WriteLiteral("    <div");

WriteLiteral(" id=\"Job_Show_Queues_Actions_Remove_Dialog\"");

WriteLiteral(" class=\"dialog\"");

WriteLiteral(" title=\"Remove this Job from the queue?\"");

WriteLiteral(">\r\n");

            
            #line 115 "..\..\Views\Job\JobParts\Queues.cshtml"
        
            
            #line default
            #line hidden
            
            #line 115 "..\..\Views\Job\JobParts\Queues.cshtml"
         using (Html.BeginForm(MVC.API.JobQueueJob.RemoveJob()))
        {

            
            #line default
            #line hidden
WriteLiteral("            <input");

WriteLiteral(" id=\"Job_Show_Queues_Actions_Remove_Dialog_Id\"");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" name=\"id\"");

WriteLiteral(" value=\"\"");

WriteLiteral(" />\r\n");

WriteLiteral("            <p>\r\n                <i");

WriteLiteral(" class=\"fa fa-exclamation-triangle fa-lg\"");

WriteLiteral("></i>&nbsp;Are you sure?\r\n            </p>\r\n");

WriteLiteral("            <h3>Comment:</h3>\r\n");

WriteLiteral("            <p>\r\n                <textarea");

WriteLiteral(" name=\"Comment\"");

WriteLiteral(" class=\"block\"");

WriteLiteral("></textarea>\r\n            </p>\r\n");

WriteLiteral("            <div");

WriteLiteral(" id=\"Job_Show_Queues_Actions_Remove_Dialog_CloseJob_Container\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"Job_Show_Queues_Actions_Remove_Dialog_CloseJob\"");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"CloseJob\"");

WriteLiteral(" value=\"true\"");

WriteLiteral(" />\r\n                <label");

WriteLiteral(" for=\"Job_Show_Queues_Actions_Remove_Dialog_CloseJob\"");

WriteLiteral(">Close the Job</label>\r\n            </div>\r\n");

            
            #line 129 "..\..\Views\Job\JobParts\Queues.cshtml"
        }

            
            #line default
            #line hidden
WriteLiteral("    </div>\r\n");

WriteLiteral("    <div");

WriteLiteral(" id=\"Job_Show_Queues_Actions_EditAddedComment_Dialog\"");

WriteLiteral(" class=\"dialog\"");

WriteLiteral(" title=\"Edit the Added Comment\"");

WriteLiteral(">\r\n");

            
            #line 132 "..\..\Views\Job\JobParts\Queues.cshtml"
        
            
            #line default
            #line hidden
            
            #line 132 "..\..\Views\Job\JobParts\Queues.cshtml"
         using (Html.BeginForm(MVC.API.JobQueueJob.UpdateAddedComment()))
        {

            
            #line default
            #line hidden
WriteLiteral("            <input");

WriteLiteral(" id=\"Job_Show_Queues_Actions_EditAddedComment_Dialog_Id\"");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" name=\"id\"");

WriteLiteral(" value=\"\"");

WriteLiteral(" />\r\n");

WriteLiteral("            <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" name=\"redirect\"");

WriteLiteral(" value=\"true\"");

WriteLiteral(" />\r\n");

WriteLiteral("            <h4>Comment:</h4>\r\n");

WriteLiteral("            <p>\r\n                <textarea");

WriteLiteral(" id=\"Job_Show_Queues_Actions_EditAddedComment_Dialog_Comment\"");

WriteLiteral(" name=\"AddedComment\"");

WriteLiteral(" class=\"block\"");

WriteLiteral("></textarea>\r\n            </p>\r\n");

            
            #line 140 "..\..\Views\Job\JobParts\Queues.cshtml"
        }

            
            #line default
            #line hidden
WriteLiteral("    </div>\r\n");

WriteLiteral("    <div");

WriteLiteral(" id=\"Job_Show_Queues_Actions_EditRemovedComment_Dialog\"");

WriteLiteral(" class=\"dialog\"");

WriteLiteral(" title=\"Edit the Removed Comment\"");

WriteLiteral(">\r\n");

            
            #line 143 "..\..\Views\Job\JobParts\Queues.cshtml"
        
            
            #line default
            #line hidden
            
            #line 143 "..\..\Views\Job\JobParts\Queues.cshtml"
         using (Html.BeginForm(MVC.API.JobQueueJob.UpdateRemovedComment()))
        {

            
            #line default
            #line hidden
WriteLiteral("            <input");

WriteLiteral(" id=\"Job_Show_Queues_Actions_EditRemovedComment_Dialog_Id\"");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" name=\"id\"");

WriteLiteral(" value=\"\"");

WriteLiteral(" />\r\n");

WriteLiteral("            <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" name=\"redirect\"");

WriteLiteral(" value=\"true\"");

WriteLiteral(" />\r\n");

WriteLiteral("            <h4>Comment:</h4>\r\n");

WriteLiteral("            <p>\r\n                <textarea");

WriteLiteral(" id=\"Job_Show_Queues_Actions_EditRemovedComment_Dialog_Comment\"");

WriteLiteral(" name=\"RemovedComment\"");

WriteLiteral(" class=\"block\"");

WriteLiteral("></textarea>\r\n            </p>\r\n");

            
            #line 151 "..\..\Views\Job\JobParts\Queues.cshtml"
        }

            
            #line default
            #line hidden
WriteLiteral("    </div>\r\n");

WriteLiteral("    <div");

WriteLiteral(" id=\"Job_Show_Queues_Actions_EditSla_Dialog\"");

WriteLiteral(" class=\"dialog\"");

WriteLiteral(" title=\"Edit the SLA\"");

WriteLiteral(">\r\n");

            
            #line 154 "..\..\Views\Job\JobParts\Queues.cshtml"
        
            
            #line default
            #line hidden
            
            #line 154 "..\..\Views\Job\JobParts\Queues.cshtml"
         using (Html.BeginForm(MVC.API.JobQueueJob.UpdateSlaAndPriority()))
        {

            
            #line default
            #line hidden
WriteLiteral("            <input");

WriteLiteral(" id=\"Job_Show_Queues_Actions_EditSla_Dialog_Id\"");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" name=\"id\"");

WriteLiteral(" value=\"\"");

WriteLiteral(" />\r\n");

WriteLiteral("            <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" name=\"redirect\"");

WriteLiteral(" value=\"true\"");

WriteLiteral(" />\r\n");

WriteLiteral("            <div");

WriteLiteral(" class=\"priority\"");

WriteLiteral(">\r\n                <h4>Job Priority:</h4>\r\n                <p>\r\n                 " +
"   <i");

WriteLiteral(" class=\"fa\"");

WriteLiteral("></i>\r\n                    <select");

WriteLiteral(" id=\"Job_Show_Queues_Actions_EditSla_Dialog_Priority\"");

WriteLiteral(" name=\"Priority\"");

WriteLiteral(" autofocus=\"autofocus\"");

WriteLiteral(">\r\n");

            
            #line 163 "..\..\Views\Job\JobParts\Queues.cshtml"
                        
            
            #line default
            #line hidden
            
            #line 163 "..\..\Views\Job\JobParts\Queues.cshtml"
                         foreach (var priorityItem in Enum.GetNames(typeof(JobQueuePriority)))
                        {

            
            #line default
            #line hidden
WriteLiteral("                            <option");

WriteAttribute("value", Tuple.Create(" value=\"", 8740), Tuple.Create("\"", 8763)
            
            #line 165 "..\..\Views\Job\JobParts\Queues.cshtml"
, Tuple.Create(Tuple.Create("", 8748), Tuple.Create<System.Object, System.Int32>(priorityItem
            
            #line default
            #line hidden
, 8748), false)
);

WriteLiteral(">");

            
            #line 165 "..\..\Views\Job\JobParts\Queues.cshtml"
                                                        Write(priorityItem);

            
            #line default
            #line hidden
WriteLiteral("</option>\r\n");

            
            #line 166 "..\..\Views\Job\JobParts\Queues.cshtml"
                        }

            
            #line default
            #line hidden
WriteLiteral("                    </select>\r\n                </p>\r\n            </div>\r\n");

WriteLiteral("            <div");

WriteLiteral(" class=\"sla\"");

WriteLiteral(">\r\n                <h4>SLA Target:</h4>\r\n                <p>\r\n                   " +
" <input");

WriteLiteral(" id=\"Job_Show_Queues_Actions_EditSla_Dialog_Sla\"");

WriteLiteral(" name=\"Sla\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" placeholder=\"None\"");

WriteLiteral(" />\r\n                </p>\r\n            </div>\r\n");

            
            #line 176 "..\..\Views\Job\JobParts\Queues.cshtml"
        }

            
            #line default
            #line hidden
WriteLiteral("    </div>\r\n");

WriteLiteral("    <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
        $(function () {
            var jobQueues = $('#jobQueues');

            var dialog = null;
            var dialogEditAddedComment = null;
            var dialogEditRemovedComment = null;
            var dialogEditSla = null;
            var dialogEditSla_BothUrl = '");

            
            #line 186 "..\..\Views\Job\JobParts\Queues.cshtml"
                                     Write(Url.Action(MVC.API.JobQueueJob.UpdateSlaAndPriority()));

            
            #line default
            #line hidden
WriteLiteral("\';\r\n            var dialogEditSla_SlaUrl = \'");

            
            #line 187 "..\..\Views\Job\JobParts\Queues.cshtml"
                                    Write(Url.Action(MVC.API.JobQueueJob.UpdateSla()));

            
            #line default
            #line hidden
WriteLiteral("\';\r\n            var dialogEditSla_PriorityUrl = \'");

            
            #line 188 "..\..\Views\Job\JobParts\Queues.cshtml"
                                         Write(Url.Action(MVC.API.JobQueueJob.UpdatePriority()));

            
            #line default
            #line hidden
WriteLiteral("\';\r\n\r\n            jobQueues.on(\'click\', \'a.remove\', function (e) {\r\n             " +
"   var $this = $(this);\r\n                var jobQueueJobId = $this.closest(\'tr\')" +
".attr(\'data-jobqueuejobid\');\r\n\r\n                if (!dialog) {\r\n                " +
"    dialog = $(\'#Job_Show_Queues_Actions_Remove_Dialog\');\r\n                    d" +
"ialog.dialog({\r\n                        resizable: false,\r\n                     " +
"   modal: true,\r\n                        autoOpen: false,\r\n                     " +
"   buttons: {\r\n                            \"Remove Job\": function () {\r\n        " +
"                        var $this = $(this);\r\n                                $t" +
"his.dialog(\"disable\");\r\n                                $this.dialog(\"option\", \"" +
"buttons\", null);\r\n                                $this.find(\'form\').submit();\r\n" +
"                            },\r\n                            Cancel: function () " +
"{\r\n                                $(this).dialog(\"close\");\r\n                   " +
"         }\r\n                        }\r\n                    });\r\n                " +
"}\r\n\r\n                if ($this.hasClass(\'canCloseNormally\')) {\r\n                " +
"    $(\'#Job_Show_Queues_Actions_Remove_Dialog_CloseJob_Container\').show();\r\n    " +
"            } else {\r\n                    $(\'#Job_Show_Queues_Actions_Remove_Dia" +
"log_CloseJob_Container\').hide();\r\n                }\r\n                $(\'#Job_Sho" +
"w_Queues_Actions_Remove_Dialog_CloseJob\').prop(\'checked\', false);\r\n\r\n           " +
"     $(\'#Job_Show_Queues_Actions_Remove_Dialog_Id\').val(jobQueueJobId);\r\n       " +
"         dialog.dialog(\'open\');\r\n\r\n                e.preventDefault();\r\n        " +
"        return false;\r\n            });\r\n\r\n            jobQueues.on(\'click\', \'td." +
"added i.fa-edit\', function (e) {\r\n                var $this = $(this);\r\n        " +
"        var jobQueueJobId = $this.closest(\'tr\').attr(\'data-jobqueuejobid\');\r\n\r\n " +
"               if (!dialogEditAddedComment) {\r\n                    dialogEditAdd" +
"edComment = $(\'#Job_Show_Queues_Actions_EditAddedComment_Dialog\');\r\n            " +
"        dialogEditAddedComment.dialog({\r\n                        resizable: fals" +
"e,\r\n                        modal: true,\r\n                        width: 320,\r\n " +
"                       autoOpen: false,\r\n                        buttons: {\r\n   " +
"                         \"Save Changes\": function () {\r\n                        " +
"        var $this = $(this);\r\n                                $this.dialog(\"disa" +
"ble\");\r\n                                $this.dialog(\"option\", \"buttons\", null);" +
"\r\n                                $this.find(\'form\').submit();\r\n                " +
"            },\r\n                            Cancel: function () {\r\n             " +
"                   $(this).dialog(\"close\");\r\n                            }\r\n    " +
"                    }\r\n                    });\r\n                }\r\n\r\n           " +
"     var $comments = $this.closest(\'td\').find(\'.comments\');\r\n                if " +
"($comments.hasClass(\'smallMessage\')) {\r\n                    $(\'#Job_Show_Queues_" +
"Actions_EditAddedComment_Dialog_Comment\').val(\'\');\r\n                } else {\r\n  " +
"                  $(\'#Job_Show_Queues_Actions_EditAddedComment_Dialog_Comment\')." +
"val($comments.text());\r\n                }\r\n\r\n                $(\'#Job_Show_Queues" +
"_Actions_EditAddedComment_Dialog_Id\').val(jobQueueJobId);\r\n                dialo" +
"gEditAddedComment.dialog(\'open\');\r\n                e.preventDefault();\r\n        " +
"        return false;\r\n            });\r\n\r\n            jobQueues.on(\'click\', \'td." +
"removed i.fa-edit\', function (e) {\r\n                var $this = $(this);\r\n      " +
"          var jobQueueJobId = $this.closest(\'tr\').attr(\'data-jobqueuejobid\');\r\n\r" +
"\n                if (!dialogEditRemovedComment) {\r\n                    dialogEdi" +
"tRemovedComment = $(\'#Job_Show_Queues_Actions_EditRemovedComment_Dialog\');\r\n    " +
"                dialogEditRemovedComment.dialog({\r\n                        resiz" +
"able: false,\r\n                        modal: true,\r\n                        widt" +
"h: 320,\r\n                        autoOpen: false,\r\n                        butto" +
"ns: {\r\n                            \"Save Changes\": function () {\r\n              " +
"                  var $this = $(this);\r\n                                $this.di" +
"alog(\"disable\");\r\n                                $this.dialog(\"option\", \"button" +
"s\", null);\r\n                                $this.find(\'form\').submit();\r\n      " +
"                      },\r\n                            Cancel: function () {\r\n   " +
"                             $(this).dialog(\"close\");\r\n                         " +
"   }\r\n                        }\r\n                    });\r\n                }\r\n\r\n " +
"               var $comments = $this.closest(\'td\').find(\'.comments\');\r\n         " +
"       if ($comments.hasClass(\'smallMessage\')) {\r\n                    $(\'#Job_Sh" +
"ow_Queues_Actions_EditRemovedComment_Dialog_Comment\').val(\'\');\r\n                " +
"} else {\r\n                    $(\'#Job_Show_Queues_Actions_EditRemovedComment_Dia" +
"log_Comment\').val($comments.text());\r\n                }\r\n\r\n                $(\'#J" +
"ob_Show_Queues_Actions_EditRemovedComment_Dialog_Id\').val(jobQueueJobId);\r\n     " +
"           dialogEditRemovedComment.dialog(\'open\');\r\n                e.preventDe" +
"fault();\r\n                return false;\r\n            });\r\n\r\n            jobQueue" +
"s.on(\'click\', \'td.sla i.fa-edit\', function (e) {\r\n                var $this = $(" +
"this);\r\n                var jobQueueJobId = $this.closest(\'tr\').attr(\'data-jobqu" +
"euejobid\');\r\n\r\n                var priorityChange = function () {\r\n             " +
"       var $element = $(\'#Job_Show_Queues_Actions_EditSla_Dialog_Priority\');\r\n  " +
"                  var icon = dialogEditSla.find(\'.priority i\');\r\n               " +
"     icon[0].className = \'\';\r\n                    icon.addClass(\'fa d-priority-\'" +
" + $element.val().toLowerCase()).attr(\'title\', $element.val() + \' Priority\');\r\n " +
"               };\r\n\r\n                if (!dialogEditSla) {\r\n                    " +
"dialogEditSla = $(\'#Job_Show_Queues_Actions_EditSla_Dialog\');\r\n                 " +
"   dialogEditSla.dialog({\r\n                        resizable: false,\r\n          " +
"              modal: true,\r\n                        width: 320,\r\n               " +
"         autoOpen: false,\r\n                        buttons: {\r\n                 " +
"           \"Save Changes\": function () {\r\n                                var $t" +
"his = $(this);\r\n                                $this.dialog(\"disable\");\r\n      " +
"                          $this.dialog(\"option\", \"buttons\", null);\r\n            " +
"                    $this.find(\'form\').submit();\r\n                            }," +
"\r\n                            Cancel: function () {\r\n                           " +
"     $(this).dialog(\"close\");\r\n                            }\r\n                  " +
"      }\r\n                    });\r\n\r\n                    $(\'#Job_Show_Queues_Acti" +
"ons_EditSla_Dialog_Priority\').change(priorityChange);\r\n                }\r\n\r\n    " +
"            var $td = $this.closest(\'td\');\r\n                var priority = $td.a" +
"ttr(\'data-priority\');\r\n                var sla = $td.attr(\'data-sla\');\r\n        " +
"        var slaStart = $this.closest(\'tr\').attr(\'data-jobqueuejobaddeddate\');\r\n\r" +
"\n                var canEditSla = $td.hasClass(\'canEditSLA\');\r\n                v" +
"ar canEditPriority = $td.hasClass(\'canEditPriority\');\r\n\r\n                if (can" +
"EditPriority) {\r\n                    $(\'#Job_Show_Queues_Actions_EditSla_Dialog_" +
"Priority\').val(priority);\r\n                    priorityChange();\r\n              " +
"      dialogEditSla.find(\'div.priority\').show();\r\n                } else {\r\n    " +
"                dialogEditSla.find(\'div.priority\').hide();\r\n                }\r\n\r" +
"\n                if (canEditSla) {\r\n                    var $sla = $(\'#Job_Show_" +
"Queues_Actions_EditSla_Dialog_Sla\');\r\n\r\n                    $sla.datetimepicker(" +
"\'destroy\').datetimepicker({\r\n                        defaultDate: new Date(),\r\n " +
"                       ampm: true,\r\n                        changeYear: true,\r\n " +
"                       changeMonth: true,\r\n                        minDate: mome" +
"nt(slaStart).add(\'m\', 1).toDate(),\r\n                        dateFormat: \'yy/mm/d" +
"d\'\r\n                    });\r\n\r\n                    if (sla) {\r\n                 " +
"       $sla.datetimepicker(\'setDate\', moment(sla).toDate());\r\n                  " +
"  } else {\r\n                        $sla.val(\'\');\r\n                    }\r\n      " +
"              dialogEditSla.find(\'div.sla\').show();\r\n                } else {\r\n " +
"                   dialogEditSla.find(\'div.sla\').hide();\r\n                }\r\n\r\n " +
"               if (canEditPriority && canEditSla)\r\n                    dialogEdi" +
"tSla.find(\'form\').attr(\'action\', dialogEditSla_BothUrl);\r\n                else i" +
"f (canEditPriority)\r\n                    dialogEditSla.find(\'form\').attr(\'action" +
"\', dialogEditSla_PriorityUrl);\r\n                else if (canEditSla)\r\n          " +
"          dialogEditSla.find(\'form\').attr(\'action\', dialogEditSla_SlaUrl);\r\n\r\n  " +
"              $(\'#Job_Show_Queues_Actions_EditSla_Dialog_Id\').val(jobQueueJobId)" +
";\r\n                dialogEditSla.dialog(\'open\');\r\n                e.preventDefau" +
"lt();\r\n                return false;\r\n            });\r\n        });\r\n    </script" +
">\r\n");

            
            #line 390 "..\..\Views\Job\JobParts\Queues.cshtml"
}
else
{

            
            #line default
            #line hidden
WriteLiteral("    <div");

WriteLiteral(" class=\"none\"");

WriteLiteral(">This job has no associated queue history</div>\r\n");

            
            #line 394 "..\..\Views\Job\JobParts\Queues.cshtml"
}
            
            #line default
            #line hidden
        }
    }
}
#pragma warning restore 1591
