tinyMCEPreInit={suffix:"",base:"/ClientSource/Scripts/Modules/tinymce",query:""},function(n){var r=/^\s*|\s*$/g,i,u="B".replace(/A(.)|B/,"$1")==="$1",t={majorVersion:"3",minorVersion:"5.8",releaseDate:"2012-11-20",_init:function(){function l(n){return n.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(n.src)?(/_(src|dev)\.js/g.test(n.src)&&(t.suffix="_src"),(c=n.src.indexOf("?"))!=-1&&(t.query=n.src.substring(c+1)),t.baseURL=n.src.substring(0,n.src.lastIndexOf("/")),s&&t.baseURL.indexOf("://")==-1&&t.baseURL.indexOf("/")!==0&&(t.baseURL=s+t.baseURL),t.baseURL):null}var t=this,e=document,h=navigator,r=h.userAgent,i,u,o,s,c,f;if(t.isOpera=n.opera&&opera.buildNumber,t.isWebKit=/WebKit/.test(r),t.isIE=!t.isWebKit&&!t.isOpera&&/MSIE/gi.test(r)&&/Explorer/gi.test(h.appName),t.isIE6=t.isIE&&/MSIE [56]/.test(r),t.isIE7=t.isIE&&/MSIE [7]/.test(r),t.isIE8=t.isIE&&/MSIE [8]/.test(r),t.isIE9=t.isIE&&/MSIE [9]/.test(r),t.isGecko=!t.isWebKit&&/Gecko/.test(r),t.isMac=r.indexOf("Mac")!=-1,t.isAir=/adobeair/i.test(r),t.isIDevice=/(iPad|iPhone)/.test(r),t.isIOS5=t.isIDevice&&r.match(/AppleWebKit\/(\d*)/)[1]>=534,n.tinyMCEPreInit){t.suffix=tinyMCEPreInit.suffix,t.baseURL=tinyMCEPreInit.base,t.query=tinyMCEPreInit.query;return}for(t.suffix="",u=e.getElementsByTagName("base"),i=0;i<u.length;i++)f=u[i].href,f&&(/^https?:\/\/[^\/]+$/.test(f)&&(f+="/"),s=f?f.match(/.*\//)[0]:"");for(u=e.getElementsByTagName("script"),i=0;i<u.length;i++)if(l(u[i]))return;if(o=e.getElementsByTagName("head")[0],o)for(u=o.getElementsByTagName("script"),i=0;i<u.length;i++)if(l(u[i]))return;return},is:function(n,r){return r?r=="array"&&t.isArray(n)?!0:typeof n==r:n!==i},isArray:Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},makeMap:function(n,t,i){var r;for(n=n||[],t=t||",",typeof n=="string"&&(n=n.split(t)),i=i||{},r=n.length;r--;)i[n[r]]={};return i},each:function(n,t,r){var u,f;if(!n)return 0;if(r=r||n,n.length!==i){for(u=0,f=n.length;u<f;u++)if(t.call(r,n[u],u,n)===!1)return 0}else for(u in n)if(n.hasOwnProperty(u)&&t.call(r,n[u],u,n)===!1)return 0;return 1},map:function(n,i){var r=[];return t.each(n,function(n){r.push(i(n))}),r},grep:function(n,i){var r=[];return t.each(n,function(n){(!i||i(n))&&r.push(n)}),r},inArray:function(n,t){var i,r;if(n)for(i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},extend:function(n,t){for(var u,o=arguments,f,r=1,e=o.length;r<e;r++){t=o[r];for(u in t)t.hasOwnProperty(u)&&(f=t[u],f!==i&&(n[u]=f))}return n},trim:function(n){return(n?""+n:"").replace(r,"")},create:function(n,t,i){var e=this,f,u,r,o,s,h=0;if(n=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(n),r=n[3].match(/(^|\.)(\w+)$/i)[2],u=e.createNS(n[3].replace(/\.\w+$/,""),i),!u[r]){if(n[2]=="static"){if(u[r]=t,this.onCreate)this.onCreate(n[2],n[3],u[r]);return}if(t[r]||(t[r]=function(){},h=1),u[r]=t[r],e.extend(u[r].prototype,t),n[5]&&(f=e.resolve(n[5]).prototype,o=n[5].match(/\.(\w+)$/i)[1],s=u[r],u[r]=h?function(){return f[o].apply(this,arguments)}:function(){return this.parent=f[o],s.apply(this,arguments)},u[r].prototype[r]=u[r],e.each(f,function(n,t){u[r].prototype[t]=f[t]}),e.each(t,function(n,t){f[t]?u[r].prototype[t]=function(){return this.parent=f[t],n.apply(this,arguments)}:t!=r&&(u[r].prototype[t]=n)})),e.each(t.static,function(n,t){u[r][t]=n}),this.onCreate)this.onCreate(n[2],n[3],u[r].prototype)}},walk:function(n,i,r,u){u=u||this,n&&(r&&(n=n[r]),t.each(n,function(n,f){if(i.call(u,n,f,r)===!1)return!1;t.walk(n,i,r,u)}))},createNS:function(t,i){var r,u;for(i=i||n,t=t.split("."),r=0;r<t.length;r++)u=t[r],i[u]||(i[u]={}),i=i[u];return i},resolve:function(t,i){var r,u;for(i=i||n,t=t.split("."),r=0,u=t.length;r<u;r++)if(i=i[t[r]],!i)break;return i},addUnload:function(t,i){function f(){function i(){t.detachEvent("onstop",i),r&&r(),t=0}var t=document;t.readyState=="interactive"&&(t&&t.attachEvent("onstop",i),n.setTimeout(function(){t&&t.detachEvent("onstop",i)},0))}var u=this,r;return r=function(){var i=u.unloads,t,e;if(i){for(e in i)t=i[e],t&&t.func&&t.func.call(t.scope,1);n.detachEvent?(n.detachEvent("onbeforeunload",f),n.detachEvent("onunload",r)):n.removeEventListener&&n.removeEventListener("unload",r,!1),u.unloads=t=i=w=r=0,n.CollectGarbage&&CollectGarbage()}},t={func:t,scope:i||this},u.unloads?u.unloads.push(t):(n.attachEvent?(n.attachEvent("onunload",r),n.attachEvent("onbeforeunload",f)):n.addEventListener&&n.addEventListener("unload",r,!1),u.unloads=[t]),t},removeUnload:function(n){var i=this.unloads,r=null;return t.each(i,function(t,u){if(t&&t.func==n)return i.splice(u,1),r=n,!1}),r},explode:function(n,i){return!n||t.is(n,"array")?n:t.map(n.split(i||","),t.trim)},_addVer:function(n){var t;return this.query?(t=(n.indexOf("?")==-1?"?":"&")+this.query,n.indexOf("#")==-1)?n+t:n.replace("#",t+"#"):n},_replace:function(n,t,r){return u?r.replace(n,function(){for(var r=t,u=arguments,n=0;n<u.length-2;n++)r=u[n]===i?r.replace(new RegExp("\\$"+n,"g"),""):r.replace(new RegExp("\\$"+n,"g"),u[n]);return r}):r.replace(n,t)}};t._init(),n.tinymce=n.tinyMCE=t}(window),tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,inDispatch:!1,Dispatcher:function(n){this.scope=n||this,this.listeners=[]},add:function(n,t){return this.listeners.push({cb:n,scope:t||this.scope}),n},addToTop:function(n,t){var i=this,r={cb:n,scope:t||i.scope};return i.inDispatch?i.listeners=[r].concat(i.listeners):i.listeners.unshift(r),n},remove:function(n){var t=this.listeners,i=null;return tinymce.each(t,function(r,u){if(n==r.cb)return i=r,t.splice(u,1),!1}),i},dispatch:function(){var i=this,r,u=arguments,n,f=i.listeners,t;for(i.inDispatch=!0,n=0;n<f.length;n++)if(t=f[n],r=t.cb.apply(t.scope,u.length>0?u:[t.scope]),r===!1)break;return i.inDispatch=!1,r}}),function(){var n=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(t,i){var r=this,u,f;if(t=tinymce.trim(t),i=r.settings=i||{},/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){r.source=t;return}t.indexOf("/")===0&&t.indexOf("//")!==0&&(t=(i.base_uri?i.base_uri.protocol||"http":"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(f=i.base_uri?i.base_uri.path:new tinymce.util.URI(location.href).directory,t=(i.base_uri&&i.base_uri.protocol||"http")+"://mce_host"+r.toAbsPath(f,t)),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),n(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(n,i){var u=t[i];u&&(u=u.replace(/\(mce_at\)/g,"@@")),r[n]=u}),u=i.base_uri,u&&(r.protocol||(r.protocol=u.protocol),r.userInfo||(r.userInfo=u.userInfo),r.port||r.host!=="mce_host"||(r.port=u.port),r.host&&r.host!=="mce_host"||(r.host=u.host),r.source="")},setPath:function(n){var t=this;n=/^(.*?)\/?(\w+)?$/.exec(n),t.path=n[0],t.directory=n[1],t.file=n[2],t.source="",t.getURI()},toRelative:function(n){var t=this,r,i,u;return n==="./"?n:(n=new tinymce.util.URI(n,{base_uri:t}),n.host!="mce_host"&&t.host!=n.host&&n.host||t.port!=n.port||t.protocol!=n.protocol)?n.getURI():(i=t.getURI(),u=n.getURI(),i==u||i.charAt(i.length-1)=="/"&&i.substr(0,i.length-1)==u)?i:(r=t.toRelPath(t.path,n.path),n.query&&(r+="?"+n.query),n.anchor&&(r+="#"+n.anchor),r)},toAbsolute:function(n,t){return n=new tinymce.util.URI(n,{base_uri:this}),n.getURI(this.host==n.host&&this.protocol==n.protocol?t:0)},toRelPath:function(n,t){var r,f=0,e="",i,u;if(n=n.substring(0,n.lastIndexOf("/")),n=n.split("/"),r=t.split("/"),n.length>=r.length)for(i=0,u=n.length;i<u;i++)if(i>=r.length||n[i]!=r[i]){f=i+1;break}if(n.length<r.length)for(i=0,u=r.length;i<u;i++)if(i>=n.length||n[i]!=r[i]){f=i+1;break}if(f===1)return t;for(i=0,u=n.length-(f-1);i<u;i++)e+="../";for(i=f-1,u=r.length;i<u;i++)e+=i!=f-1?"/"+r[i]:r[i];return e},toAbsPath:function(t,i){var r,e=0,f=[],o,u;for(o=/\/$/.test(i)?"/":"",t=t.split("/"),i=i.split("/"),n(t,function(n){n&&f.push(n)}),t=f,r=i.length-1,f=[];r>=0;r--)if(i[r].length!==0&&i[r]!=="."){if(i[r]===".."){e++;continue}if(e>0){e--;continue}f.push(i[r])}return r=t.length-e,u=r<=0?f.reverse().join("/"):t.slice(0,r).join("/")+"/"+f.reverse().join("/"),u.indexOf("/")!==0&&(u="/"+u),o&&u.lastIndexOf("/")!==u.length-1&&(u+=o),u},getURI:function(n){var i,t=this;return(!t.source||n)&&(i="",n||(t.protocol&&(i+=t.protocol+"://"),t.userInfo&&(i+=t.userInfo+"@"),t.host&&(i+=t.host),t.port&&(i+=":"+t.port)),t.path&&(i+=t.path),t.query&&(i+="?"+t.query),t.anchor&&(i+="#"+t.anchor),t.source=i),t.source}})}(),function(){var n=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(t){var r=this.get(t),i;return r&&n(r.split("&"),function(n){n=n.split("="),i=i||{},i[unescape(n[0])]=unescape(n[1])}),i},setHash:function(t,i,r,u,f,e){var o="";n(i,function(n,t){o+=(o?"&":"")+escape(t)+"="+escape(n)}),this.set(t,o,r,u,f,e)},get:function(n){var i=document.cookie,r,u=n+"=",t;if(i){if(t=i.indexOf("; "+u),t==-1){if(t=i.indexOf(u),t!==0)return null}else t+=2;return r=i.indexOf(";",t),r==-1&&(r=i.length),unescape(i.substring(t+u.length,r))}},set:function(n,t,i,r,u,f){document.cookie=n+"="+escape(t)+(i?"; expires="+i.toGMTString():"")+(r?"; path="+escape(r):"")+(u?"; domain="+u:"")+(f?"; secure":"")},remove:function(n,t,i){var r=new Date;r.setTime(r.getTime()-1e3),this.set(n,"",r,t,i)}})}(),function(){function n(t,i){var u,r,e,f;if(i=i||'"',t==null)return"null";if(e=typeof t,e=="string")return r="\bb\tt\nn\ff\rr\"\"''\\\\",i+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(n,t){return i==='"'&&n==="'"?n:(u=r.indexOf(t),u+1)?"\\"+r.charAt(u+1):(n=t.charCodeAt().toString(16),"\\u"+"0000".substring(n.length)+n)})+i;if(e=="object"){if(t.hasOwnProperty&&Object.prototype.toString.call(t)==="[object Array]"){for(u=0,r="[";u<t.length;u++)r+=(u>0?",":"")+n(t[u],i);return r+"]"}r="{";for(f in t)t.hasOwnProperty(f)&&(r+=typeof t[f]!="function"?(r.length>1?","+i:i)+f+i+":"+n(t[f],i):"");return r+"}"}return""+t}tinymce.util.JSON={serialize:n,parse:function(s){try{return eval("("+s+")")}catch(ex){}}}}(),tinymce.create("static tinymce.util.XHR",{send:function(n){function u(){!n.async||t.readyState==4||r++>1e4?(n.success&&r<1e4&&t.status==200?n.success.call(n.success_scope,""+t.responseText,t,n):n.error&&n.error.call(n.error_scope,r>1e4?"TIMED_OUT":"GENERAL",t,n),t=null):i.setTimeout(u,10)}function f(n){t=0;try{t=new ActiveXObject(n)}catch(i){}return t}var t,e,i=window,r=0;if(n.scope=n.scope||this,n.success_scope=n.success_scope||n.scope,n.error_scope=n.error_scope||n.scope,n.async=n.async===!1?!1:!0,n.data=n.data||"",t=i.XMLHttpRequest?new XMLHttpRequest:f("Microsoft.XMLHTTP")||f("Msxml2.XMLHTTP"),t){if(t.overrideMimeType&&t.overrideMimeType(n.content_type),t.open(n.type||(n.data?"POST":"GET"),n.url,n.async),n.content_type&&t.setRequestHeader("Content-Type",n.content_type),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(n.data),!n.async)return u();e=i.setTimeout(u,10)}}}),function(){var n=tinymce.extend,t=tinymce.util.JSON,i=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(t){this.settings=n({},t),this.count=0},send:function(r){var u=r.error,f=r.success;r=n(this.settings,r),r.success=function(n,i){n=t.parse(n),typeof n=="undefined"&&(n={error:"JSON Parse error."}),n.error?u.call(r.error_scope||r.scope,n.error,i):f.call(r.success_scope||r.scope,n.result)},r.error=function(n,t){u&&u.call(r.error_scope||r.scope,n,t)},r.data=t.serialize({id:r.id||"c"+this.count++,method:r.method,params:r.params}),r.content_type="application/json",i.send(r)},static:{sendRPC:function(n){return(new tinymce.util.JSONRequest).send(n)}}})}(),function(n){n.VK={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(n){return n.shiftKey||n.ctrlKey||n.altKey},metaKeyPressed:function(t){return n.isMac?t.metaKey:t.ctrlKey&&!t.altKey}}}(tinymce),tinymce.util.Quirks=function(n){function s(t,i){try{n.getDoc().execCommand(t,!1,i)}catch(r){}}function c(){var t=n.getDoc().documentMode;return t?t:6}function r(n){return n.isDefaultPrevented()}function p(){function o(r){var o,e,u,s;if(o=i.getRng(),e=t.getParent(o.startContainer,t.isBlock),r&&(e=t.getNext(e,t.isBlock)),e){for(u=e.firstChild;u&&u.nodeType==3&&u.nodeValue.length===0;)u=u.nextSibling;u&&u.nodeName==="SPAN"&&(s=u.cloneNode(!1))}f(t.select("span",e),function(n){n.setAttribute("data-mce-mark","1")}),n.getDoc().execCommand(r?"ForwardDelete":"Delete",!1,null),e=t.getParent(o.startContainer,t.isBlock),f(t.select("span",e),function(n){var r=i.getBookmark();s?t.replace(s.cloneNode(!1),n,!0):n.getAttribute("data-mce-mark")?n.removeAttribute("data-mce-mark"):t.remove(n,!0),i.moveToBookmark(r)})}n.onKeyDown.add(function(n,t){var i;i=t.keyCode==h,r(t)||!i&&t.keyCode!=e||u.modifierPressed(t)||(t.preventDefault(),o(i))}),n.addCommand("Delete",function(){o()})}function w(){function u(n){var r=t.create("body"),u=n.cloneContents();return r.appendChild(u),i.serializer.serialize(r,{format:"html"})}function f(i){var e=u(i),r=t.createRng(),f;return r.selectNode(n.getBody()),f=u(r),e===f}n.onKeyDown.add(function(n,i){var o=i.keyCode,u;if(!r(i)&&(o==h||o==e)){if(u=n.selection.isCollapsed(),u&&!t.isEmpty(n.getBody()))return;if(tinymce.isIE&&!u)return;if(!u&&!f(n.selection.getRng()))return;n.setContent(""),n.selection.setCursorLocation(n.getBody(),0),n.nodeChanged()}})}function b(){n.onKeyDown.add(function(n,t){!r(t)&&t.keyCode==65&&u.metaKeyPressed(t)&&(t.preventDefault(),n.execCommand("SelectAll"))})}function k(){n.settings.content_editable||(t.bind(n.getDoc(),"focusin",function(){i.setRng(i.getRng())}),t.bind(n.getDoc(),"mousedown",function(t){t.target==n.getDoc().documentElement&&(n.getWin().focus(),i.setRng(i.getRng()))}))}function v(){n.onKeyDown.add(function(n,u){if(!r(u)&&u.keyCode===e&&i.isCollapsed()&&i.getRng(!0).startOffset===0){var o=i.getNode(),f=o.previousSibling;f&&f.nodeName&&f.nodeName.toLowerCase()==="hr"&&(t.remove(f),tinymce.dom.Event.cancel(u))}})}function d(){Range.prototype.getClientRects||n.onMouseDown.add(function(n,t){if(!r(t)&&t.target.nodeName==="HTML"){var i=n.getBody();i.blur(),setTimeout(function(){i.focus()},0)}})}function g(){n.onClick.add(function(n,r){r=r.target,/^(IMG|HR)$/.test(r.nodeName)&&i.getSel().setBaseAndExtent(r,0,r,1),r.nodeName=="A"&&t.hasClass(r,"mceItemAnchor")&&i.select(r),n.nodeChanged()})}function nt(){function u(){var r=t.getAttribs(i.getStart().cloneNode(!1));return function(){var u=i.getStart();u!==n.getBody()&&(t.setAttrib(u,"style",null),f(r,function(n){u.setAttributeNode(n.cloneNode(!0))}))}}function e(){return!i.isCollapsed()&&t.getParent(i.getStart(),t.isBlock)!=t.getParent(i.getEnd(),t.isBlock)}function o(n,t){return t.preventDefault(),!1}n.onKeyPress.add(function(n,t){var i;if(!r(t)&&(t.keyCode==8||t.keyCode==46)&&e())return i=u(),n.getDoc().execCommand("delete",!1,null),i(),t.preventDefault(),!1}),t.bind(n.getDoc(),"cut",function(t){var i;!r(t)&&e()&&(i=u(),n.onKeyUp.addToTop(o),setTimeout(function(){i(),n.onKeyUp.remove(o)},0))})}function tt(){var u,r;t.bind(n.getDoc(),"selectionchange",function(){r&&(clearTimeout(r),r=0),r=window.setTimeout(function(){var t=i.getRng();u&&tinymce.dom.RangeUtils.compareRanges(t,u)||(n.nodeChanged(),u=t)},50)})}function it(){document.body.setAttribute("role","application")}function rt(){n.onKeyDown.add(function(n,t){if(!r(t)&&t.keyCode===e&&i.isCollapsed()&&i.getRng(!0).startOffset===0){var u=i.getNode().previousSibling;if(u&&u.nodeName&&u.nodeName.toLowerCase()==="table")return tinymce.dom.Event.cancel(t)}})}function ut(){c()>7||(s("RespectVisibilityInDesign",!0),n.contentStyles.push(".mceHideBrInPre pre br {display: none}"),t.addClass(n.getBody(),"mceHideBrInPre"),l.addNodeFilter("pre",function(n){for(var f=n.length,r,u,i,t;f--;)for(r=n[f].getAll("br"),u=r.length;u--;)i=r[u],t=i.prev,t&&t.type===3&&t.value.charAt(t.value-1)!="\n"?t.value+="\n":i.parent.insert(new tinymce.html.Node("#text",3),i,!0).value="\n"}),a.addNodeFilter("pre",function(n){for(var u=n.length,i,r,f,t;u--;)for(i=n[u].getAll("br"),r=i.length;r--;)f=i[r],t=f.prev,t&&t.type==3&&(t.value=t.value.replace(/\r?\n$/,""))}))}function ft(){t.bind(n.getBody(),"mouseup",function(){var r,n=i.getNode();n.nodeName=="IMG"&&((r=t.getStyle(n,"width"))&&(t.setAttrib(n,"width",r.replace(/[^0-9%]+/g,"")),t.setStyle(n,"width","")),(r=t.getStyle(n,"height"))&&(t.setAttrib(n,"height",r.replace(/[^0-9%]+/g,"")),t.setStyle(n,"height","")))})}function et(){n.onKeyDown.add(function(n,f){var c,l,o,a,y,s,v;c=f.keyCode==h,r(f)||!c&&f.keyCode!=e||u.modifierPressed(f)||(l=i.getRng(),o=l.startContainer,a=l.startOffset,v=l.collapsed,o.nodeType==3&&o.nodeValue.length>0&&(a===0&&!v||v&&a===(c?0:1))&&(nonEmptyElements=n.schema.getNonEmptyElements(),f.preventDefault(),y=t.create("br",{id:"__tmp"}),o.parentNode.insertBefore(y,o),n.getDoc().execCommand(c?"ForwardDelete":"Delete",!1,null),o=i.getRng().startContainer,s=o.previousSibling,s&&s.nodeType==1&&!t.isBlock(s)&&t.isEmpty(s)&&!nonEmptyElements[s.nodeName.toLowerCase()]&&t.remove(s),t.remove("__tmp")))})}function ot(){n.onKeyDown.add(function(n,f){var o,s,h,c,e;if(!r(f)&&f.keyCode==u.BACKSPACE&&(o=i.getRng(),s=o.startContainer,h=o.startOffset,c=t.getRoot(),e=s,o.collapsed&&h===0)){while(e&&e.parentNode&&e.parentNode.firstChild==e&&e.parentNode!=c)e=e.parentNode;e.tagName==="BLOCKQUOTE"&&(n.formatter.toggle("blockquote",null,e),o=t.createRng(),o.setStart(s,0),o.setEnd(s,0),i.setRng(o))}})}function st(){function t(){n._refreshContentEditable(),s("StyleWithCSS",!1),s("enableInlineTableEditing",!1),o.object_resizing||s("enableObjectResizing",!1)}o.readonly||(n.onBeforeExecCommand.add(t),n.onMouseDown.add(t))}function ht(){function r(){f(t.select("a"),function(n){var i=n.parentNode,r=t.getRoot();if(i.lastChild===n){while(i&&!t.isBlock(i)){if(i.parentNode.lastChild!==i||i===r)return;i=i.parentNode}t.add(i,"br",{"data-mce-bogus":1})}})}n.onExecCommand.add(function(n,t){t==="CreateLink"&&r(n)}),n.onSetContent.add(i.onSetContent.add(r))}function ct(){o.forced_root_block&&n.onInit.add(function(){s("DefaultParagraphSeparator",o.forced_root_block)})}function lt(){function t(t,i){t&&i.initial||n.execCommand("mceRepaint")}n.onUndo.add(t),n.onRedo.add(t),n.onSetContent.add(t)}function at(){n.onKeyDown.add(function(n,i){var u;r(i)||i.keyCode!=e||(u=n.getDoc().selection.createRange(),u&&u.item&&(i.preventDefault(),n.undoManager.beforeChange(),t.remove(u.item(0)),n.undoManager.add()))})}function vt(){var t;c()>=10&&(t="",f("p div h1 h2 h3 h4 h5 h6".split(" "),function(n,i){t+=(i>0?",":"")+n+":empty"}),n.contentStyles.push(t+"{padding-right: 1px !important}"))}function y(){function d(n){var i,f;i=n.screenX-tt,f=n.screenY-it,e=i*a[2]+b,h=f*a[3]+k,e=e<5?5:e,h=h<5?5:h,(u.modifierPressed(n)||r.nodeName=="IMG"&&a[2]*a[3]!=0)&&(e=Math.round(h/g),h=Math.round(e*g)),t.setStyles(c,{width:e,height:h}),a[2]<0&&c.clientWidth<=e&&t.setStyle(c,"left",p+(b-e)),a[3]<0&&c.clientHeight<=h&&t.setStyle(c,"top",w+(k-h))}function y(){function i(i,u){u&&(r.style[i]||!n.schema.isValid(r.nodeName.toLowerCase(),i)?t.setStyle(r,i,u):t.setAttrib(r,i,u))}i("width",e),i("height",h),t.unbind(l,"mousemove",d),t.unbind(l,"mouseup",y),v!=l&&(t.unbind(v,"mousemove",d),t.unbind(v,"mouseup",y)),t.remove(c),rt(r)}function rt(n){var i,u,o;ut(),i=t.getPos(n),p=i.x,w=i.y,u=n.offsetWidth,o=n.offsetHeight,r!=n&&(r=n,e=h=0),f(nt,function(n,i){var f;f=t.get("mceResizeHandle"+i),f?t.show(f):(f=t.add(l.documentElement,"div",{id:"mceResizeHandle"+i,"class":"mceResizeHandle",style:"cursor:"+i+"-resize; margin:0; padding:0"}),t.bind(f,"mousedown",function(i){i.preventDefault(),y(),tt=i.screenX,it=i.screenY,b=r.clientWidth,k=r.clientHeight,g=k/b,a=n,c=r.cloneNode(!0),t.addClass(c,"mceClonedResizable"),t.setStyles(c,{left:p,top:w,margin:0}),l.documentElement.appendChild(c),t.bind(l,"mousemove",d),t.bind(l,"mouseup",y),v!=l&&(t.bind(v,"mousemove",d),t.bind(v,"mouseup",y))})),t.setStyles(f,{left:u*n[0]+p-f.offsetWidth/2,top:o*n[1]+w-f.offsetHeight/2})}),tinymce.isOpera||r.nodeName!="IMG"||r.setAttribute("data-mce-selected","1")}function ut(){r&&r.removeAttribute("data-mce-selected");for(var n in nt)t.hide("mceResizeHandle"+n)}function ft(){var n=t.getParent(i.getNode(),"table,img");f(t.select("img[data-mce-selected]"),function(n){n.removeAttribute("data-mce-selected")}),n?rt(n):ut()}var p,w,r,c,a,tt,it,b,k,g,nt,e,h,v=document,l=n.getDoc();o.object_resizing&&o.webkit_fake_resize!==!1&&(s("enableObjectResizing",!1),nt={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},n.contentStyles.push(".mceResizeHandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}.mceResizeHandle:hover {background: #000}img[data-mce-selected] {outline: 1px solid black}img.mceClonedResizable, table.mceClonedResizable {position: absolute;outline: 1px dashed black;opacity: .5;z-index: 10000}"),n.onNodeChange.add(ft),t.bind(l,"selectionchange",ft),n.serializer.addAttributeFilter("data-mce-selected",function(n,t){for(var i=n.length;i--;)n[i].attr(t,null)}))}function yt(){c()<9&&(l.addNodeFilter("noscript",function(n){for(var r=n.length,t,i;r--;)t=n[r],i=t.firstChild,i&&t.attr("data-mce-innertext",i.value)}),a.addNodeFilter("noscript",function(n){for(var r=n.length,i,t,u;r--;)i=n[r],t=n[r].firstChild,t?t.value=tinymce.html.Entities.decode(t.value):(u=i.attributes.map["data-mce-innertext"],u&&(i.attr("data-mce-innertext",null),t=new tinymce.html.Node("#text",3),t.value=u,t.raw=!0,i.append(t)))}))}var u=tinymce.VK,e=u.BACKSPACE,h=u.DELETE,t=n.dom,i=n.selection,o=n.settings,l=n.parser,a=n.serializer,f=tinymce.each;rt(),ot(),w(),tinymce.isWebKit&&(et(),p(),k(),g(),ct(),tinymce.isIDevice?tt():(y(),b())),tinymce.isIE&&(v(),it(),ut(),ft(),at(),vt(),yt()),tinymce.isGecko&&(v(),d(),nt(),st(),ht(),lt()),tinymce.isOpera&&y()},function(n){function c(n){var t;return t=document.createElement("div"),t.innerHTML=n,t.textContent||t.innerText||n}function e(n,i){var r,u,f,e={};if(n){for(n=n.split(","),i=i||10,r=0;r<n.length;r+=2)u=String.fromCharCode(parseInt(n[r],i)),t[u]||(f="&"+n[r+1]+";",e[u]=f,e[f]=u);return e}}var i,t,f,r=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o=/[<>&\"\']/g,s=/&(#x|#)?([\w]+);/g,h={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};t={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},f={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=e("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),n.html=n.html||{},n.html.Entities={encodeRaw:function(n,i){return n.replace(i?r:u,function(n){return t[n]||n})},encodeAllRaw:function(n){return(""+n).replace(o,function(n){return t[n]||n})},encodeNumeric:function(n,i){return n.replace(i?r:u,function(n){return n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":t[n]||"&#"+n.charCodeAt(0)+";"})},encodeNamed:function(n,f,e){return e=e||i,n.replace(f?r:u,function(n){return t[n]||e[n]||n})},getEncodeFunc:function(f,o){function h(n,i){return n.replace(i?r:u,function(n){return t[n]||o[n]||"&#"+n.charCodeAt(0)+";"||n})}function c(n,t){return s.encodeNamed(n,t,o)}var s=n.html.Entities;return(o=e(o)||i,f=n.makeMap(f.replace(/\+/g,",")),f.named&&f.numeric)?h:f.named?o?c:s.encodeNamed:f.numeric?s.encodeNumeric:s.encodeRaw},decode:function(n){return n.replace(s,function(n,t,r){return t?(r=parseInt(r,t.length===2?16:10),r>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(r&1023))):h[r]||String.fromCharCode(r)):f[n]||i[n]||c(n)})}}}(tinymce),tinymce.html.Styles=function(n,t){function h(n,t,i,r){function u(n){return n=parseInt(n).toString(16),n.length>1?n:"0"+n}return"#"+u(t)+u(i)+u(r)}var f=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,e=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,s,i,r={},u;for(n=n||{},u="\\\" \\' \\; \\: ; : ﻿".split(" "),i=0;i<u.length;i++)r[u[i]]="﻿"+i,r["﻿"+i]=u[i];return{toHex:function(n){return n.replace(f,h)},parse:function(t){function l(n,t){var r,u,f,e;(r=i[n+"-top"+t],r)&&(u=i[n+"-right"+t],r==u)&&(f=i[n+"-bottom"+t],u==f)&&(e=i[n+"-left"+t],f==e)&&(i[n+t]=e,delete i[n+"-top"+t],delete i[n+"-right"+t],delete i[n+"-bottom"+t],delete i[n+"-left"+t])}function y(n){var t=i[n],r;if(t&&!(t.indexOf(" ")<0)){for(t=t.split(" "),r=t.length;r--;)if(t[r]!==t[0])return!1;return i[n]=t[0],!0}}function d(n,t,r,u){y(t)&&y(r)&&y(u)&&(i[n]=i[t]+" "+i[r]+" "+i[u],delete i[t],delete i[r],delete i[u])}function b(n){return v=!0,r[n]}function p(n,t){return v&&(n=n.replace(/\uFEFF[0-9]/g,function(n){return r[n]})),t||(n=n.replace(/\\([\'\";:])/g,"$1")),n}function g(n,t,i,r,u,f){return(u=u||f,u)?(u=p(u),"'"+u.replace(/\'/g,"\\'")+"'"):(t=p(t||i||r),w&&(t=w.call(k,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')")}var i={},a,s,u,v,w=n.url_converter,k=n.url_converter_scope||this;if(t){for(t=t.replace(/\\[\"\';:\uFEFF]/g,b).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(n){return n.replace(/[;:]/g,b)});a=e.exec(t);)s=a[1].replace(o,"").toLowerCase(),u=a[2].replace(o,""),s&&u.length>0&&(s==="font-weight"&&u==="700"?u="bold":(s==="color"||s==="background-color")&&(u=u.toLowerCase()),u=u.replace(f,h),u=u.replace(c,g),i[s]=v?p(u,!0):u),e.lastIndex=a.index+a[0].length;l("border",""),l("border","-width"),l("border","-color"),l("border","-style"),l("padding",""),l("margin",""),d("border","border-width","border-style","border-color"),i.border==="medium none"&&delete i.border}return i},serialize:function(n,i){function e(i){var u,f,o,e;if(u=t.styles[i],u)for(f=0,o=u.length;f<o;f++)i=u[f],e=n[i],e!==s&&e.length>0&&(r+=(r.length>0?" ":"")+i+": "+e+";")}var r="",f,u;if(i&&t&&t.styles)e("*"),e(i);else for(f in n)u=n[f],u!==s&&u.length>0&&(r+=(r.length>0?" ":"")+f+": "+u+";");return r}}},function(n){function i(n,t){return n.split(t||",")}function f(n,t){function f(t){return t.replace(/[A-Z]+/g,function(t){return f(n[t])})}var u,e={};for(u in n)n.hasOwnProperty(u)&&(n[u]=f(n[u]));return f(t).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(n,t,u,f){u=i(u,"|"),e[t]={attributes:r(u),attributesOrder:u,children:r(f,"|",{"#comment":{}})}}),e}function e(){var n=u.html5;return n||(n=u.html5=f({A:"id|accesskey|class|dir|draggable|item|hidden|itemprop|role|spellcheck|style|subject|title|onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"#|a|abbr|area|audio|b|bdo|br|button|canvas|cite|code|command|datalist|del|dfn|em|embed|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|meta|meter|noscript|object|output|progress|q|ruby|samp|script|select|small|span|strong|sub|sup|svg|textarea|time|var|video|wbr",C:"#|a|abbr|area|address|article|aside|audio|b|bdo|blockquote|br|button|canvas|cite|code|command|datalist|del|details|dfn|dialog|div|dl|em|embed|fieldset|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|menu|meta|meter|nav|noscript|ol|object|output|p|pre|progress|q|ruby|samp|script|section|select|small|span|strong|style|sub|sup|svg|table|textarea|time|ul|var|video"},"html[A|manifest][body|head]head[A][base|command|link|meta|noscript|script|style|title]title[A][#]base[A|href|target][]link[A|href|rel|media|type|sizes][]meta[A|http-equiv|name|content|charset][]style[A|type|media|scoped][#]script[A|charset|type|src|defer|async][#]noscript[A][C]body[A][C]section[A][C]nav[A][C]article[A][C]aside[A][C]h1[A][B]h2[A][B]h3[A][B]h4[A][B]h5[A][B]h6[A][B]hgroup[A][h1|h2|h3|h4|h5|h6]header[A][C]footer[A][C]address[A][C]p[A][B]br[A][]pre[A][B]dialog[A][dd|dt]blockquote[A|cite][C]ol[A|start|reversed][li]ul[A][li]li[A|value][C]dl[A][dd|dt]dt[A][B]dd[A][C]a[A|href|target|ping|rel|media|type][B]em[A][B]strong[A][B]small[A][B]cite[A][B]q[A|cite][B]dfn[A][B]abbr[A][B]code[A][B]var[A][B]samp[A][B]kbd[A][B]sub[A][B]sup[A][B]i[A][B]b[A][B]mark[A][B]progress[A|value|max][B]meter[A|value|min|max|low|high|optimum][B]time[A|datetime][B]ruby[A][B|rt|rp]rt[A][B]rp[A][B]bdo[A][B]span[A][B]ins[A|cite|datetime][B]del[A|cite|datetime][B]figure[A][C|legend|figcaption]figcaption[A][C]img[A|alt|src|height|width|usemap|ismap][]iframe[A|name|src|height|width|sandbox|seamless][]embed[A|src|height|width|type][]object[A|data|type|height|width|usemap|name|form|classid][param]param[A|name|value][]details[A|open][C|legend]command[A|type|label|icon|disabled|checked|radiogroup][]menu[A|type|label][C|li]legend[A][C|B]div[A][C]source[A|src|type|media][]audio[A|src|autobuffer|autoplay|loop|controls][source]video[A|src|autobuffer|autoplay|loop|controls|width|height|poster][source]hr[A][]form[A|accept-charset|action|autocomplete|enctype|method|name|novalidate|target][C]fieldset[A|disabled|form|name][C|legend]label[A|form|for][B]input[A|type|accept|alt|autocomplete|autofocus|checked|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|height|list|max|maxlength|min|multiple|pattern|placeholder|readonly|required|size|src|step|width|files|value|name][]button[A|autofocus|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|name|value|type][B]select[A|autofocus|disabled|form|multiple|name|size][option|optgroup]datalist[A][B|option]optgroup[A|disabled|label][option]option[A|disabled|selected|label|value][]textarea[A|autofocus|disabled|form|maxlength|name|placeholder|readonly|required|rows|cols|wrap][]keygen[A|autofocus|challenge|disabled|form|keytype|name][]output[A|for|form|name][B]canvas[A|width|height][]map[A|name][B|C]area[A|shape|coords|href|alt|target|media|rel|ping|type][]mathml[A][]svg[A][]table[A|border][caption|colgroup|thead|tfoot|tbody|tr]caption[A][C]colgroup[A|span][col]col[A|span][]thead[A][tr]tfoot[A][tr]tbody[A][tr]tr[A][th|td]th[A|headers|rowspan|colspan|scope][B]td[A|headers|rowspan|colspan][C]wbr[A][]")),n}function o(){var n=u.html4;return n||(n=u.html4=f({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]")),n}var u={},r=n.makeMap,t=n.each;n.html.Schema=function(f){function l(t,i,e){var o=f[t];return o?o=r(o,",",r(o.toUpperCase()," ")):(o=u[t],o||(o=r(i," ",r(i.toUpperCase()," ")),o=n.extend(o,e),u[t]=o)),o}function ut(n){return new RegExp("^"+n.replace(/([?+*])/g,".$1")+"$")}function y(t){var b,it,k,rt,f,u,o,v,y,e,d,l,h,c,g,p,nt,tt,w,ft=/[*?+]/;if(t)for(t=i(t),s["@"]&&(p=s["@"].attributes,nt=s["@"].attributesOrder),b=0,it=t.length;b<it;b++)if(f=/^([#+\-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/.exec(t[b]),f){if(c=f[1],y=f[2],g=f[3],v=f[4],l={},h=[],u={attributes:l,attributesOrder:h},c==="#"&&(u.paddEmpty=!0),c==="-"&&(u.removeEmpty=!0),p){for(tt in p)l[tt]=p[tt];h.push.apply(h,nt)}if(v)for(v=i(v,"|"),k=0,rt=v.length;k<rt;k++)if(f=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/.exec(v[k]),f){if(o={},d=f[1],e=f[2].replace(/::/g,":"),c=f[3],w=f[4],d==="!"&&(u.attributesRequired=u.attributesRequired||[],u.attributesRequired.push(e),o.required=!0),d==="-"){delete l[e],h.splice(n.inArray(h,e),1);continue}c&&(c==="="&&(u.attributesDefault=u.attributesDefault||[],u.attributesDefault.push({name:e,value:w}),o.defaultValue=w),c===":"&&(u.attributesForced=u.attributesForced||[],u.attributesForced.push({name:e,value:w}),o.forcedValue=w),c==="<"&&(o.validValues=r(w,"?"))),ft.test(e)?(u.attributePatterns=u.attributePatterns||[],o.pattern=ut(e),u.attributePatterns.push(o)):(l[e]||h.push(e),l[e]=o)}p||y!="@"||(p=l,nt=h),g&&(u.outputName=y,s[g]=u),ft.test(y)?(u.pattern=ut(y),a.push(u)):s[y]=u}}function ft(n){s={},a=[],y(n),t(w,function(n,t){c[t]=n.children})}function et(n){var r=/^(~)?(.+)$/;n&&t(i(n),function(n){var f=r.exec(n),e=f[1]==="~",u=e?"span":"div",i=f[2];c[i]=c[u],rt[i]=u,e||(v[i.toUpperCase()]={},v[i]={}),s[i]||(s[i]=s[u]),t(c,function(n){n[u]&&(n[i]=n[u])})})}function k(n){var r=/^([+\-]?)(\w+)\[([^\]]+)\]$/;n&&t(i(n),function(n){var u=r.exec(n),f,e;u&&(e=u[1],f=e?c[u[2]]:c[u[2]]={"#comment":{}},f=c[u[2]],t(i(u[3],"|"),function(n){e==="-"?delete f[n]:f[n]={}}))})}function d(n){var t=s[n],i;if(t)return t;for(i=a.length;i--;)if(t=a[i],t.pattern.test(n))return t}var h=this,s={},c={},a=[],p,w,g,nt,b,tt,v,it,rt={};f=f||{},w=f.schema=="html5"?e():o(),f.verify_html===!1&&(f.valid_elements="*[*]"),f.valid_styles&&(p={},t(f.valid_styles,function(t,i){p[i]=n.explode(t)})),g=l("whitespace_elements","pre script noscript style textarea"),nt=l("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),b=l("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr"),tt=l("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),it=l("non_empty_elements","td th iframe video audio object",b),textBlockElementsMap=l("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),v=l("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",textBlockElementsMap),f.valid_elements?ft(f.valid_elements):(t(w,function(n,t){s[t]={attributes:n.attributes,attributesOrder:n.attributesOrder},c[t]=n.children}),f.schema!="html5"&&t(i("strong/b,em/i"),function(n){n=i(n,"/"),s[n[1]].outputName=n[0]}),s.img.attributesDefault=[{name:"alt",value:""}],t(i("ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr,strong,em,b,i"),function(n){s[n]&&(s[n].removeEmpty=!0)}),t(i("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(n){s[n].paddEmpty=!0})),et(f.custom_elements),k(f.valid_children),y(f.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),f.invalid_elements&&n.each(n.explode(f.invalid_elements),function(n){s[n]&&delete s[n]}),d("span")||y("span[!data-mce-type|*]"),h.children=c,h.styles=p,h.getBoolAttrs=function(){return tt},h.getBlockElements=function(){return v},h.getTextBlockElements=function(){return textBlockElementsMap},h.getShortEndedElements=function(){return b},h.getSelfClosingElements=function(){return nt},h.getNonEmptyElements=function(){return it},h.getWhiteSpaceElements=function(){return g},h.isValidChild=function(n,t){var i=c[n];return!!(i&&i[t])},h.isValid=function(n,t){var i,r,u=d(n);if(u)if(t){if(u.attributes[t])return!0;if(i=u.attributePatterns,i)for(r=i.length;r--;)if(i[r].pattern.test(n))return!0}else return!0;return!1},h.getElementRule=d,h.getCustomElements=function(){return rt},h.addValidElements=y,h.setValidElements=ft,h.addCustomElements=et,h.addValidChildren=k,h.elements=s}}(tinymce),function(n){n.html.SaxParser=function(t,i){var r=this,u=function(){};t=t||{},r.schema=i=i||new n.html.Schema,t.fix_self_closing!==!1&&(t.fix_self_closing=!0),n.each("comment cdata text start end pi doctype".split(" "),function(n){n&&(r[n]=t[n]||u)}),r.parse=function(r){function kt(n){for(var i,t=c.length;t--;)if(c[t].name===n)break;if(t>=0){for(i=c.length-1;i>=t;i--)n=c[i],n.valid&&h.end(n.name);c.length=t}}function dt(n,t,i,r,u){var f,o;if(t=t.toLowerCase(),i=t in lt?t:ot(i||r||u||""),b&&!d&&t.indexOf("data-")!==0){if(f=at[t],!f&&g){for(o=g.length;o--;)if(f=g[o],f.pattern.test(t))break;o===-1&&(f=null)}if(!f)return;if(f.validValues&&!(i in f.validValues))return}e.map[t]=i,e.push({name:t,value:i})}var h=this,f,s=0,u,rt,c=[],e,o,k,v,d,ht,ct,lt,ut,b,y,l,p,w,ft,at,g,nt,tt,it,vt,et,yt,pt,a,wt=0,ot=n.html.Entities.decode,bt,st;for(et=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),yt=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,pt={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi},ct=i.getShortEndedElements(),vt=t.self_closing_elements||i.getSelfClosingElements(),lt=i.getBoolAttrs(),b=t.validate,ht=t.remove_internals,bt=t.fix_self_closing,st=n.isIE,ft=/^:/;f=et.exec(r);){if(s<f.index&&h.text(ot(r.substr(s,f.index-s))),u=f[6])u=u.toLowerCase(),st&&ft.test(u)&&(u=u.substr(1)),kt(u);else if(u=f[7]){if(u=u.toLowerCase(),st&&ft.test(u)&&(u=u.substr(1)),ut=u in ct,bt&&vt[u]&&c.length>0&&c[c.length-1].name===u&&kt(u),!b||(y=i.getElementRule(u))){if(l=!0,b&&(at=y.attributes,g=y.attributePatterns),(w=f[8])?(d=w.indexOf("data-mce-type")!==-1,d&&ht&&(l=!1),e=[],e.map={},w.replace(yt,dt)):(e=[],e.map={}),b&&!d){if(nt=y.attributesRequired,tt=y.attributesDefault,it=y.attributesForced,it)for(o=it.length;o--;)p=it[o],v=p.name,a=p.value,a==="{$uid}"&&(a="mce_"+wt++),e.map[v]=a,e.push({name:v,value:a});if(tt)for(o=tt.length;o--;)p=tt[o],v=p.name,v in e.map||(a=p.value,a==="{$uid}"&&(a="mce_"+wt++),e.map[v]=a,e.push({name:v,value:a}));if(nt){for(o=nt.length;o--;)if(nt[o]in e.map)break;o===-1&&(l=!1)}e.map["data-mce-bogus"]&&(l=!1)}l&&h.start(u,e,ut)}else l=!1;if(rt=pt[u]){rt.lastIndex=s=f.index+f[0].length,(f=rt.exec(r))?(l&&(k=r.substr(s,f.index-s)),s=f.index+f[0].length):(k=r.substr(s),s=r.length),l&&k.length>0&&h.text(k,!0),l&&h.end(u),et.lastIndex=s;continue}ut||(w&&w.indexOf("/")==w.length-1?l&&h.end(u):c.push({name:u,valid:l}))}else(u=f[1])?h.comment(u):(u=f[2])?h.cdata(u):(u=f[3])?h.doctype(u):(u=f[4])&&h.pi(u,f[5]);s=f.index+f[0].length}for(s<r.length&&h.text(ot(r.substr(s))),o=c.length-1;o>=0;o--)u=c[o],u.valid&&h.end(u.name)}}}(tinymce),function(n){function i(n,t,i){var r,u,f=i?"lastChild":"firstChild",e=i?"prev":"next";if(n[f])return n[f];if(n!==t){if(r=n[e],r)return r;for(u=n.parent;u&&u!==t;u=u.parent)if(r=u[e],r)return r}}function t(n,t){this.name=n,this.type=t,t===1&&(this.attributes=[],this.attributes.map={})}var r=/^[ \t\r\n]*$/,u={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};n.extend(t.prototype,{replace:function(n){var t=this;return n.parent&&n.remove(),t.insert(n,t),t.remove(),t},attr:function(n,t){var u=this,i,r,f;if(typeof n!="string"){for(r in n)u.attr(r,n[r]);return u}if(i=u.attributes){if(t!==f){if(t===null){if(n in i.map)for(delete i.map[n],r=i.length;r--;)if(i[r].name===n)return i=i.splice(r,1),u;return u}if(n in i.map){for(r=i.length;r--;)if(i[r].name===n){i[r].value=t;break}}else i.push({name:n,value:t});return i.map[n]=t,u}return i.map[n]}},clone:function(){var r=this,u=new t(r.name,r.type),f,o,e,n,i;if(e=r.attributes){for(i=[],i.map={},f=0,o=e.length;f<o;f++)n=e[f],n.name!=="id"&&(i[i.length]={name:n.name,value:n.value},i.map[n.name]=n.value);u.attributes=i}return u.value=r.value,u.shortEnded=r.shortEnded,u},wrap:function(n){var t=this;return t.parent.insert(n,t),n.append(t),t},unwrap:function(){for(var t=this,i,n=t.firstChild;n;)i=n.next,t.insert(n,t,!0),n=i;t.remove()},remove:function(){var n=this,t=n.parent,i=n.next,r=n.prev;return t&&(t.firstChild===n?(t.firstChild=i,i&&(i.prev=null)):r.next=i,t.lastChild===n?(t.lastChild=r,r&&(r.next=null)):i.prev=r,n.parent=n.next=n.prev=null),n},append:function(n){var t=this,i;return n.parent&&n.remove(),i=t.lastChild,i?(i.next=n,n.prev=i,t.lastChild=n):t.lastChild=t.firstChild=n,n.parent=t,n},insert:function(n,t,i){var r;return n.parent&&n.remove(),r=t.parent||this,i?(t===r.firstChild?r.firstChild=n:t.prev.next=n,n.prev=t.prev,n.next=t,t.prev=n):(t===r.lastChild?r.lastChild=n:t.next.prev=n,n.next=t.next,n.prev=t,t.next=n),n.parent=r,n},getAll:function(n){for(var r=this,u=[],t=r.firstChild;t;t=i(t,r))t.name===n&&u.push(t);return u},empty:function(){var t=this,r,u,n;if(t.firstChild){for(r=[],n=t.firstChild;n;n=i(n,t))r.push(n);for(u=r.length;u--;)n=r[u],n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}return t.firstChild=t.lastChild=null,t},isEmpty:function(n){var e=this,t=e.firstChild,u,f;if(t)do{if(t.type===1){if(t.attributes.map["data-mce-bogus"])continue;if(n[t.name])return!1;for(u=t.attributes.length;u--;)if(f=t.attributes[u].name,f==="name"||f.indexOf("data-mce-")===0)return!1}if(t.type===8||t.type===3&&!r.test(t.value))return!1}while(t=i(t,e));return!0},walk:function(n){return i(this,null,n)}}),n.extend(t,{create:function(n,i){var r,f;if(r=new t(n,u[n]||1),i)for(f in i)r.attr(f,i[f]);return r}}),n.html.Node=t}(tinymce),function(n){var t=n.html.Node;n.html.DomParser=function(i,r){function h(i){var v,f,o,s,y,l,a,c,h,p,b,w,e,k;for(b=n.makeMap("tr,td,th,tbody,thead,tfoot,table"),p=r.getNonEmptyElements(),w=r.getTextBlockElements(),v=0;v<i.length;v++)if(f=i[v],f.parent&&!f.fixed){if(w[f.name]&&f.parent.name=="li"){for(e=f.next;e;){if(w[e.name])e.name="li",e.fixed=!0,f.parent.insert(e,f.parent);else break;e=e.next}f.unwrap(f);continue}for(s=[f],o=f.parent;o&&!r.isValidChild(o.name,f.name)&&!b[o.name];o=o.parent)s.push(o);if(o&&s.length>1){for(s.reverse(),y=l=u.filterNode(s[0].clone()),h=0;h<s.length-1;h++){for(r.isValidChild(l.name,s[h].name)?(a=u.filterNode(s[h].clone()),l.append(a)):a=l,c=s[h].firstChild;c&&c!=s[h+1];)k=c.next,a.append(c),c=k;l=a}y.isEmpty(p)?o.insert(f,s[0],!0):(o.insert(y,s[0],!0),o.insert(f,y)),o=s[0],(o.isEmpty(p)||o.firstChild===o.lastChild&&o.firstChild.name==="br")&&o.empty().remove()}else if(f.parent){if(f.name==="li"){if(e=f.prev,e&&(e.name==="ul"||e.name==="ul")){e.append(f);continue}if(e=f.next,e&&(e.name==="ul"||e.name==="ul")){e.insert(f,e.firstChild,!0);continue}f.wrap(u.filterNode(new t("ul",1)));continue}r.isValidChild(f.parent.name,"div")&&r.isValidChild("div",f.name)?f.wrap(u.filterNode(new t("div",1))):f.name==="style"||f.name==="script"?f.empty().remove():f.unwrap()}}}var u=this,s={},f=[],e={},o={};i=i||{},i.validate="validate"in i?i.validate:!0,i.root_name=i.root_name||"body",u.schema=r=r||new n.html.Schema,u.filterNode=function(n){var r,t,i;for((t in s)&&(i=e[t],i?i.push(n):e[t]=[n]),r=f.length;r--;)t=f[r].name,t in n.attributes.map&&(i=o[t],i?i.push(n):o[t]=[n]);return n},u.addNodeFilter=function(t,i){n.each(n.explode(t),function(n){var t=s[n];t||(s[n]=t=[]),t.push(i)})},u.addAttributeFilter=function(t,i){n.each(n.explode(t),function(n){for(var t=0;t<f.length;t++)if(f[t].name===n){f[t].callbacks.push(i);return}f.push({name:n,callbacks:[i]})})},u.parse=function(u,c){function yt(){for(var n=k.firstChild,i,t;n;)i=n.next,n.type!=3&&(n.type!=1||n.name==="p"||g[n.name]||n.attr("data-mce-type"))?t=null:t?t.append(n):(t=w(st,1),k.insert(t,n),t.append(n)),n=i}function w(n,i){var r=new t(n,i),u;return n in s&&(u=e[n],u?u.push(r):e[n]=[r]),r}function ht(n){for(var i,r,t=n.prev;t&&t.type===3;)i=t.value.replace(ut,""),i.length>0?(t.value=i,t=t.prev):(r=t.prev,t.remove(),t=r)}function pt(n){var t,i={};for(t in n)t!=="li"&&t!="p"&&(i[t]=n[t]);return i}var ct,k,l,y,p,nt,a,lt,v,tt,d,g,it,rt=[],b,ut,at,ft,et,ot,vt,st;if(c=c||{},e={},o={},g=n.extend(n.makeMap("script,style,head,html,body,title,meta,param"),r.getBlockElements()),vt=r.getNonEmptyElements(),ot=r.children,d=i.validate,st="forced_root_block"in c?c.forced_root_block:i.forced_root_block,et=r.getWhiteSpaceElements(),it=/^[ \t\r\n]+/,ut=/[ \t\r\n]+$/,at=/[ \t\r\n]+/g,ft=/^[ \t\r\n]+$/,ct=new n.html.SaxParser({validate:d,self_closing_elements:pt(r.getSelfClosingElements()),cdata:function(n){l.append(w("#cdata",4)).value=n},text:function(n,t){var i;b||(n=n.replace(at," "),l.lastChild&&g[l.lastChild.name]&&(n=n.replace(it,""))),n.length!==0&&(i=w("#text",3),i.raw=!!t,l.append(i).value=n)},comment:function(n){l.append(w("#comment",8)).value=n},pi:function(n,t){l.append(w(n,7)).value=t,ht(l)},doctype:function(n){var t;t=l.append(w("#doctype",10)),t.value=n,ht(l)},start:function(n,t,i){var u,s,h,e,c;if(h=d?r.getElementRule(n):{},h){for(u=w(h.outputName||n,1),u.attributes=t,u.shortEnded=i,l.append(u),c=ot[l.name],c&&ot[u.name]&&!c[u.name]&&rt.push(u),s=f.length;s--;)e=f[s].name,e in t.map&&(v=o[e],v?v.push(u):o[e]=[u]);g[n]&&ht(u),i||(l=u),!b&&et[n]&&(b=!0)}},end:function(n){var i,e,u,f,o;if(e=d?r.getElementRule(n):{},e){if(g[n]&&!b){if(i=l.firstChild,i&&i.type===3)for(u=i.value.replace(it,""),u.length>0?(i.value=u,i=i.next):(f=i.next,i.remove(),i=f);i&&i.type===3;)u=i.value,f=i.next,(u.length===0||ft.test(u))&&(i.remove(),i=f),i=f;if(i=l.lastChild,i&&i.type===3)for(u=i.value.replace(ut,""),u.length>0?(i.value=u,i=i.prev):(f=i.prev,i.remove(),i=f);i&&i.type===3;)u=i.value,f=i.prev,(u.length===0||ft.test(u))&&(i.remove(),i=f),i=f}if(b&&et[n]&&(b=!1),(e.removeEmpty||e.paddEmpty)&&l.isEmpty(vt))if(e.paddEmpty)l.empty().append(new t("#text","3")).value=" ";else if(!l.attributes.map.name&&!l.attributes.map.id){o=l.parent,l.empty().remove(),l=o;return}l=l.parent}}},r),k=l=new t(c.context||i.root_name,11),ct.parse(u),d&&rt.length&&(c.context?c.invalid=!0:h(rt)),st&&k.name=="body"&&yt(),!c.invalid){for(tt in e){for(v=s[tt],y=e[tt],a=y.length;a--;)y[a].parent||y.splice(a,1);for(p=0,nt=v.length;p<nt;p++)v[p](y,tt,c)}for(p=0,nt=f.length;p<nt;p++)if(v=f[p],v.name in o){for(y=o[v.name],a=y.length;a--;)y[a].parent||y.splice(a,1);for(a=0,lt=v.callbacks.length;a<lt;a++)v.callbacks[a](y,v.name,c)}}return k},i.remove_trailing_brs&&u.addNodeFilter("br",function(t){var o,c=t.length,u,h=n.extend({},r.getBlockElements()),l=r.getNonEmptyElements(),i,e,f,s;for(h.body=1,o=0;o<c;o++)if(u=t[o],i=u.parent,h[u.parent.name]&&u===i.lastChild){for(f=u.prev;f;){if(s=f.name,s!=="span"||f.attr("data-mce-type")!=="bookmark"){if(s!=="br")break;if(s==="br"){u=null;break}}f=f.prev}u&&(u.remove(),i.isEmpty(l)&&(elementRule=r.getElementRule(i.name),elementRule&&(elementRule.removeEmpty?i.remove():elementRule.paddEmpty&&(i.empty().append(new n.html.Node("#text",3)).value=" "))))}else{for(e=u;i.firstChild===e&&i.lastChild===e;){if(e=i,h[i.name])break;i=i.parent}e===i&&(textNode=new n.html.Node("#text",3),textNode.value=" ",u.replace(textNode))}}),i.allow_html_in_named_anchor||u.addAttributeFilter("id,name",function(n){for(var r=n.length,i,u,f,t;r--;)if(t=n[r],t.name==="a"&&t.firstChild&&!t.attr("href")){f=t.parent,i=t.lastChild;do u=i.prev,f.insert(i,t),i=u;while(i)}})}}(tinymce),tinymce.html.Writer=function(n){var t=[],i,f,r,u,e;return n=n||{},i=n.indent,f=tinymce.makeMap(n.indent_before||""),r=tinymce.makeMap(n.indent_after||""),u=tinymce.html.Entities.getEncodeFunc(n.entity_encoding||"raw",n.entities),e=n.element_format=="html",{start:function(n,o,s){var c,a,l,h;if(i&&f[n]&&t.length>0&&(h=t[t.length-1],h.length>0&&h!=="\n"&&t.push("\n")),t.push("<",n),o)for(c=0,a=o.length;c<a;c++)l=o[c],t.push(" ",l.name,'="',u(l.value,!0),'"');t[t.length]=!s||e?">":" />",s&&i&&r[n]&&t.length>0&&(h=t[t.length-1],h.length>0&&h!=="\n"&&t.push("\n"))},end:function(n){var u;t.push("<\/",n,">"),i&&r[n]&&t.length>0&&(u=t[t.length-1],u.length>0&&u!=="\n"&&t.push("\n"))},text:function(n,i){n.length>0&&(t[t.length]=i?n:u(n))},cdata:function(n){t.push("<![CDATA[",n,"]\]>")},comment:function(n){t.push("<!--",n,"-->")},pi:function(n,r){r?t.push("<?",n," ",r,"?>"):t.push("<?",n,"?>"),i&&t.push("\n")},doctype:function(n){t.push("<!DOCTYPE",n,">",i?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},function(n){n.html.Serializer=function(t,i){var u=this,r=new n.html.Writer(t);t=t||{},t.validate="validate"in t?t.validate:!0,u.schema=i=i||new n.html.Schema,u.writer=r,u.serialize=function(n){function f(n){var y=u[n.type],p,a,t,o,c,s,h,l,v;if(y)y(n);else{if(p=n.name,a=n.shortEnded,t=n.attributes,e&&t&&t.length>1){for(s=[],s.map={},v=i.getElementRule(n.name),h=0,l=v.attributesOrder.length;h<l;h++)o=v.attributesOrder[h],o in t.map&&(c=t.map[o],s.map[o]=c,s.push({name:o,value:c}));for(h=0,l=t.length;h<l;h++)o=t[h].name,o in s.map||(c=t.map[o],s.map[o]=c,s.push({name:o,value:c}));t=s}if(r.start(n.name,t,a),!a){if(n=n.firstChild)do f(n);while(n=n.next);r.end(p)}}}var u,e;return e=t.validate,u={3:function(n){r.text(n.value,n.raw)},8:function(n){r.comment(n.value)},7:function(n){r.pi(n.name,n.value)},10:function(n){r.doctype(n.value)},4:function(n){r.cdata(n.value)},11:function(n){if(n=n.firstChild)do f(n);while(n=n.next)}},r.reset(),n.type!=1||t.inner?u[11](n):f(n),r.getContent()}}}(tinymce),tinymce.dom={},function(n,t){function u(n,t,i,r){n.addEventListener?n.addEventListener(t,i,r||!1):n.attachEvent&&n.attachEvent("on"+t,i)}function f(n,t,i,r){n.removeEventListener?n.removeEventListener(t,i,r||!1):n.detachEvent&&n.detachEvent("on"+t,i)}function i(n,t){function u(){return!1}function f(){return!0}var r,i=t||{};for(r in n)r!=="layerX"&&r!=="layerY"&&(i[r]=n[r]);return i.target||(i.target=i.srcElement||document),i.preventDefault=function(){i.isDefaultPrevented=f,n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)},i.stopPropagation=function(){i.isPropagationStopped=f,n&&(n.stopPropagation?n.stopPropagation():n.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=f,i.stopPropagation()},i.isDefaultPrevented||(i.isDefaultPrevented=u,i.isPropagationStopped=u,i.isImmediatePropagationStopped=u),i}function o(n,t,i){function o(){i.domLoaded||(i.domLoaded=!0,t(s))}var e=n.document,s={type:"ready"};if(e.readyState=="complete"){o();return}r?u(n,"DOMContentLoaded",o):(u(e,"readystatechange",function(){e.readyState==="complete"&&(f(e,"readystatechange",arguments.callee),o())}),e.documentElement.doScroll&&n===n.top&&function(){try{e.documentElement.doScroll("left")}catch(n){setTimeout(arguments.callee,0);return}o()}()),u(n,"load",o)}function e(n){function h(n,t){var i,r,f,u;if(i=s[t][n.type],i)for(r=0,f=i.length;r<f;r++)if(u=i[r],u&&u.func.call(u.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}var e=this,s={},c,l,a,v;a="onmouseenter"in document.documentElement,l="onfocusin"in document.documentElement,v={mouseenter:"mouseover",mouseleave:"mouseout"},c=1,e.domLoaded=!1,e.events=s,e.bind=function(f,y,p,w){function ut(n){h(i(n||rt.event),k)}var k,d,it,b,g,nt,tt,rt=window;if(f&&f.nodeType!==3&&f.nodeType!==8){for(f[t]?(k=f[t],s[k]||(s[k]={})):(k=c++,f[t]=k,s[k]={}),w=w||f,y=y.split(" "),it=y.length;it--;){if(b=y[it],nt=ut,g=tt=!1,b==="DOMContentLoaded"&&(b="ready"),(e.domLoaded||f.readyState=="complete")&&b==="ready"){e.domLoaded=!0,p.call(w,i({type:b}));continue}a||(g=v[b],g&&(nt=function(n){var r,t;if(r=n.currentTarget,t=n.relatedTarget,t&&r.contains)t=r.contains(t);else while(t&&t!==r)t=t.parentNode;t||(n=i(n||rt.event),n.type=n.type==="mouseout"?"mouseleave":"mouseenter",n.target=r,h(n,k))})),l||b!=="focusin"&&b!=="focusout"||(tt=!0,g=b==="focusin"?"focus":"blur",nt=function(n){n=i(n||rt.event),n.type=n.type==="focus"?"focusin":"focusout",h(n,k)}),d=s[k][b],d?d.push({func:p,scope:w}):(s[k][b]=d=[{func:p,scope:w}],d.fakeName=g,d.capture=tt,d.nativeHandler=nt,r||(d.proxyHandler=n(k)),b==="ready"?o(f,nt,e):u(f,g||b,r?nt:d.proxyHandler,tt))}return f=d=0,p}},e.unbind=function(n,i,u){var l,o,v,a,h,c;if(!n||n.nodeType===3||n.nodeType===8)return e;if(l=n[t],l){if(c=s[l],i){for(i=i.split(" "),v=i.length;v--;)if(h=i[v],o=c[h],o){if(u)for(a=o.length;a--;)o[a].func===u&&o.splice(a,1);u&&o.length!==0||(delete c[h],f(n,o.fakeName||h,r?o.nativeHandler:o.proxyHandler,o.capture))}}else{for(h in c)o=c[h],f(n,o.fakeName||h,r?o.nativeHandler:o.proxyHandler,o.capture);c={}}for(h in c)return e;delete s[l];try{delete n[t]}catch(y){n[t]=null}}return e},e.fire=function(n,r,u){var o,f;if(!n||n.nodeType===3||n.nodeType===8)return e;f=i(null,u),f.type=r;do o=n[t],o&&h(f,o),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!f.isPropagationStopped());return e},e.clean=function(n){var i,r,u=e.unbind;if(!n||n.nodeType===3||n.nodeType===8)return e;if(n[t]&&u(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(u(n),r=n.getElementsByTagName("*"),i=r.length;i--;)n=r[i],n[t]&&u(n);return e},e.callNativeHandler=function(n,t){s&&s[n][t.type].nativeHandler(t)},e.destory=function(){s={}},e.add=function(n,t,i,r){if(typeof n=="string"&&(n=document.getElementById(n)),n&&n instanceof Array){for(var u=n.length;u--;)e.add(n[u],t,i,r);return}return t==="init"&&(t="ready"),e.bind(n,t instanceof Array?t.join(" "):t,i,r)},e.remove=function(n,t,i,r){if(!n)return e;if(typeof n=="string"&&(n=document.getElementById(n)),n instanceof Array){for(var u=n.length;u--;)e.remove(n[u],t,i,r);return e}return e.unbind(n,t instanceof Array?t.join(" "):t,i)},e.clear=function(n){return typeof n=="string"&&(n=document.getElementById(n)),e.clean(n)},e.cancel=function(n){return n&&(e.prevent(n),e.stop(n)),!1},e.prevent=function(n){return n.preventDefault||(n=i(n)),n.preventDefault(),!1},e.stop=function(n){return n.stopPropagation||(n=i(n)),n.stopPropagation(),!1}}var r=!!document.addEventListener;n.EventUtils=e,n.Event=new e(function(n){return function(t){tinymce.dom.Event.callNativeHandler(n,t)}}),n.Event.bind(window,"ready",function(){}),n=0}(tinymce.dom,"data-mce-expando"),tinymce.dom.TreeWalker=function(n,t){function r(n,i,r,u){var f,e;if(n){if(!u&&n[i])return n[i];if(n!=t){if(f=n[r],f)return f;for(e=n.parentNode;e&&e!=t;e=e.parentNode)if(f=e[r],f)return f}}}var i=n;this.current=function(){return i},this.next=function(n){return i=r(i,"firstChild","nextSibling",n)},this.prev=function(n){return i=r(i,"lastChild","previousSibling",n)}},function(n){var t=n.each,r=n.is,f=n.isWebKit,i=n.isIE,u=n.html.Entities,e=/^([a-z0-9],?)+$/i,o=/^[ \t\r\n]*$/;n.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(t,i){var r=this,u;if(r.doc=t,r.win=window,r.files={},r.cssFlicker=!1,r.counter=0,r.stdMode=!n.isIE||t.documentMode>=8,r.boxModel=!n.isIE||t.compatMode=="CSS1Compat"||r.stdMode,r.hasOuterHTML="outerHTML"in t.createElement("a"),r.settings=i=n.extend({keep_values:!1,hex_colors:1},i),r.schema=i.schema,r.styles=new n.html.Styles({url_converter:i.url_converter,url_converter_scope:i.url_converter_scope},i.schema),n.isIE6)try{t.execCommand("BackgroundImageCache",!1,!0)}catch(f){r.cssFlicker=!0}r.fixDoc(t),r.events=i.ownEvents?new n.dom.EventUtils(i.proxy):n.dom.Event,n.addUnload(r.destroy,r),u=i.schema?i.schema.getBlockElements():{},r.isBlock=function(n){if(!n)return!1;var t=n.nodeType;return t?!!(t===1&&u[n.nodeName]):!!u[n]}},fixDoc:function(n){var t=this.settings,r;if(i&&t.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){n.createElement(t)});for(r in t.schema.getCustomElements())n.createElement(r)}},clone:function(n,r){var u=this,f,e;return!i||n.nodeType!==1||r?n.cloneNode(r):(e=u.doc,!r)?(f=e.createElement(n.nodeName),t(u.getAttribs(n),function(t){u.setAttrib(f,t.nodeName,u.getAttrib(n,t.nodeName))}),f):f.firstChild},getRoot:function(){var n=this,t=n.settings;return t&&n.get(t.root_element)||n.doc.body},getViewPort:function(n){var i,t;return n=n?n:this.win,i=n.document,t=this.boxModel?i.documentElement:i.body,{x:n.pageXOffset||t.scrollLeft,y:n.pageYOffset||t.scrollTop,w:n.innerWidth||t.clientWidth,h:n.innerHeight||t.clientHeight}},getRect:function(n){var t,i=this,r;return n=i.get(n),t=i.getPos(n),r=i.getSize(n),{x:t.x,y:t.y,w:r.w,h:r.h}},getSize:function(n){var r=this,t,i;return n=r.get(n),t=r.getStyle(n,"width"),i=r.getStyle(n,"height"),t.indexOf("px")===-1&&(t=0),i.indexOf("px")===-1&&(i=0),{w:parseInt(t,10)||n.offsetWidth||n.clientWidth,h:parseInt(i,10)||n.offsetHeight||n.clientHeight}},getParent:function(n,t,i){return this.getParents(n,t,i,!1)},getParents:function(n,t,i,u){var f=this,e,s=f.settings,o=[];for(n=f.get(n),u=u===undefined,s.strict_root&&(i=i||f.getRoot()),r(t,"string")&&(e=t,t=t==="*"?function(n){return n.nodeType==1}:function(n){return f.is(n,e)});n;){if(n==i||!n.nodeType||n.nodeType===9)break;if(!t||t(n))if(u)o.push(n);else return n;n=n.parentNode}return u?o:null},get:function(n){var t;return n&&this.doc&&typeof n=="string"&&(t=n,n=this.doc.getElementById(n),n&&n.id!==t)?this.doc.getElementsByName(t)[1]:n},getNext:function(n,t){return this._findSib(n,t,"nextSibling")},getPrev:function(n,t){return this._findSib(n,t,"previousSibling")},select:function(t,i){var r=this;return n.dom.Sizzle(t,r.get(i)||r.get(r.settings.root_element)||r.doc,[])},is:function(t,i){var r;if(t.length===undefined){if(i==="*")return t.nodeType==1;if(e.test(i)){for(i=i.toLowerCase().split(/,/),t=t.nodeName.toLowerCase(),r=i.length-1;r>=0;r--)if(i[r]==t)return!0;return!1}}return n.dom.Sizzle.matches(i,t.nodeType?[t]:t).length>0},add:function(n,t,i,u,f){var e=this;return this.run(n,function(n){var o;return o=r(t,"string")?e.doc.createElement(t):t,e.setAttribs(o,i),u&&(u.nodeType?o.appendChild(u):e.setHTML(o,u)),f?o:n.appendChild(o)})},create:function(n,t,i){return this.add(this.doc.createElement(n),n,t,i,1)},createHTML:function(n,t,i){var r="",f=this,u;r+="<"+n;for(u in t)t.hasOwnProperty(u)&&(r+=" "+u+'="'+f.encode(t[u])+'"');return typeof i!="undefined"?r+">"+i+"<\/"+n+">":r+" />"},remove:function(t,i){return this.run(t,function(t){var r,u=t.parentNode;if(!u)return null;if(i)while(r=t.firstChild)!n.isIE||r.nodeType!==3||r.nodeValue?u.insertBefore(r,t):t.removeChild(r);return u.removeChild(t)})},setStyle:function(t,r,u){var f=this;return f.run(t,function(e){var o;o=e.style,r=r.replace(/-(\D)/g,function(n,t){return t.toUpperCase()}),f.pixelStyles.test(r)&&(n.is(u,"number")||/^[\-0-9\.]+$/.test(u))&&(u+="px");switch(r){case"opacity":i&&(o.filter=u===""?"":"alpha(opacity="+u*100+")",t.currentStyle&&t.currentStyle.hasLayout||(o.display="inline-block")),o[r]=o["-moz-opacity"]=o["-khtml-opacity"]=u||"";break;case"float":i?o.styleFloat=u:o.cssFloat=u;break;default:o[r]=u||""}f.settings.update_styles&&f.setAttrib(e,"data-mce-style")})},getStyle:function(n,t,r){if(n=this.get(n),n){if(this.doc.defaultView&&r){t=t.replace(/[A-Z]/g,function(n){return"-"+n});try{return this.doc.defaultView.getComputedStyle(n,null).getPropertyValue(t)}catch(u){return null}}return(t=t.replace(/-(\D)/g,function(n,t){return t.toUpperCase()}),t=="float"&&(t=i?"styleFloat":"cssFloat"),n.currentStyle&&r)?n.currentStyle[t]:n.style?n.style[t]:undefined}},setStyles:function(n,i){var u=this,r=u.settings,f;f=r.update_styles,r.update_styles=0,t(i,function(t,i){u.setStyle(n,i,t)}),r.update_styles=f,r.update_styles&&u.setAttrib(n,r.cssText)},removeAllAttribs:function(n){return this.run(n,function(n){for(var i=n.attributes,t=i.length-1;t>=0;t--)n.removeAttributeNode(i.item(t))})},setAttrib:function(n,i,u){var f=this;if(n&&i)return f.settings.strict&&(i=i.toLowerCase()),this.run(n,function(n){var e=f.settings,s=n.getAttribute(i),o;if(u!==null)switch(i){case"style":if(!r(u,"string")){t(u,function(t,i){f.setStyle(n,i,t)});return}e.keep_values&&(u&&!f._isRes(u)?n.setAttribute("data-mce-style",u,2):n.removeAttribute("data-mce-style",2)),n.style.cssText=u;break;case"class":n.className=u||"";break;case"src":case"href":e.keep_values&&(e.url_converter&&(u=e.url_converter.call(e.url_converter_scope||f,u,i,n)),f.setAttrib(n,"data-mce-"+i,u,2));break;case"shape":n.setAttribute("data-mce-style",u)}r(u)&&u!==null&&u.length!==0?n.setAttribute(i,""+u,2):n.removeAttribute(i,2),tinyMCE.activeEditor&&s!=u&&(o=tinyMCE.activeEditor,o.onSetAttrib.dispatch(o,n,i,u))})},setAttribs:function(n,i){var r=this;return this.run(n,function(n){t(i,function(t,i){r.setAttrib(n,i,t)})})},getAttrib:function(t,u,e){var o,s=this,h;if(t=s.get(t),!t||t.nodeType!==1)return e===h?!1:e;if(r(e)||(e=""),/^(src|href|style|coords|shape)$/.test(u)&&(o=t.getAttribute("data-mce-"+u),o))return o;if(i&&s.props[u]&&(o=t[s.props[u]],o=o&&o.nodeValue?o.nodeValue:o),o||(o=t.getAttribute(u,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(u))return t[s.props[u]]===!0&&o===""?u:o?u:"";if(t.nodeName==="FORM"&&t.getAttributeNode(u))return t.getAttributeNode(u).nodeValue;if(u==="style"&&(o=o||t.style.cssText,o&&(o=s.serializeStyle(s.parseStyle(o),t.nodeName),s.settings.keep_values&&!s._isRes(o)&&t.setAttribute("data-mce-style",o))),f&&u==="class"&&o&&(o=o.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),i)switch(u){case"rowspan":case"colspan":o===1&&(o="");break;case"size":(o==="+0"||o===20||o===0)&&(o="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":o===0&&(o="");break;case"hspace":o===-1&&(o="");break;case"maxlength":case"tabindex":(o===32768||o===2147483647||o==="32768")&&(o="");break;case"multiple":case"compact":case"noshade":case"nowrap":return o===65535?u:e;case"shape":o=o.toLowerCase();break;default:u.indexOf("on")===0&&o&&(o=n._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+o))}return o!==h&&o!==null&&o!==""?""+o:e},getPos:function(n,t){var e=this,u=0,f=0,o,r=e.doc,i;if(n=e.get(n),t=t||r.body,n){if(n.getBoundingClientRect)return n=n.getBoundingClientRect(),o=e.boxModel?r.documentElement:r.body,u=n.left+(r.documentElement.scrollLeft||r.body.scrollLeft)-o.clientTop,f=n.top+(r.documentElement.scrollTop||r.body.scrollTop)-o.clientLeft,{x:u,y:f};for(i=n;i&&i!=t&&i.nodeType;)u+=i.offsetLeft||0,f+=i.offsetTop||0,i=i.offsetParent;for(i=n.parentNode;i&&i!=t&&i.nodeType;)u-=i.scrollLeft||0,f-=i.scrollTop||0,i=i.parentNode}return{x:u,y:f}},parseStyle:function(n){return this.styles.parse(n)},serializeStyle:function(n,t){return this.styles.serialize(n,t)},addStyle:function(n){var i=this.doc,t;styleElm=i.getElementById("mceDefaultStyles"),styleElm||(styleElm=i.createElement("style"),styleElm.id="mceDefaultStyles",styleElm.type="text/css",t=i.getElementsByTagName("head")[0],t.firstChild?t.insertBefore(styleElm,t.firstChild):t.appendChild(styleElm)),styleElm.styleSheet?styleElm.styleSheet.cssText+=n:styleElm.appendChild(i.createTextNode(n))},loadCSS:function(r){var f=this,u=f.doc,e;r||(r=""),e=u.getElementsByTagName("head")[0],t(r.split(","),function(t){var r;f.files[t]||(f.files[t]=!0,r=f.create("link",{rel:"stylesheet",href:n._addVer(t)}),i&&u.documentMode&&u.recalc&&(r.onload=function(){u.recalc&&u.recalc(),r.onload=null}),e.appendChild(r))})},addClass:function(n,t){return this.run(n,function(n){var i;return t?this.hasClass(n,t)?n.className:(i=this.removeClass(n,t),n.className=(i!=""?i+" ":"")+t):0})},removeClass:function(t,i){var u=this,r;return u.run(t,function(t){var f;return u.hasClass(t,i)?(r||(r=new RegExp("(^|\\s+)"+i+"(\\s+|$)","g")),f=t.className.replace(r," "),f=n.trim(f!=" "?f:""),t.className=f,f||(t.removeAttribute("class"),t.removeAttribute("className")),f):t.className})},hasClass:function(n,t){return(n=this.get(n),!n||!t)?!1:(" "+n.className+" ").indexOf(" "+t+" ")!==-1},show:function(n){return this.setStyle(n,"display","block")},hide:function(n){return this.setStyle(n,"display","none")},isHidden:function(n){return n=this.get(n),!n||n.style.display=="none"||this.getStyle(n,"display")=="none"},uniqueId:function(n){return(n?n:"mce_")+this.counter++},setHTML:function(r,u){var f=this;return f.run(r,function(r){if(i){while(r.firstChild)r.removeChild(r.firstChild);try{r.innerHTML="<br />"+u,r.removeChild(r.firstChild)}catch(o){var e=f.create("div");e.innerHTML="<br />"+u,t(n.grep(e.childNodes),function(n,t){t&&r.canHaveHTML&&r.appendChild(n)})}}else r.innerHTML=u;return u})},getOuterHTML:function(n){var t,i=this;return(n=i.get(n),!n)?null:n.nodeType===1&&i.hasOuterHTML?n.outerHTML:(t=(n.ownerDocument||i.doc).createElement("body"),t.appendChild(n.cloneNode(!0)),t.innerHTML)},setOuterHTML:function(n,t,r){function f(n,t,i){var r,f;for(f=i.createElement("body"),f.innerHTML=t,r=f.lastChild;r;)u.insertAfter(r.cloneNode(!0),n),r=r.previousSibling;u.remove(n)}var u=this;return this.run(n,function(n){if(n=u.get(n),n.nodeType==1)if(r=r||n.ownerDocument||u.doc,i)try{i&&n.nodeType==1?n.outerHTML=t:f(n,t,r)}catch(e){f(n,t,r)}else f(n,t,r)})},decode:u.decode,encode:u.encodeAllRaw,insertAfter:function(n,t){return t=this.get(t),this.run(n,function(n){var i,r;return i=t.parentNode,r=t.nextSibling,r?i.insertBefore(n,r):i.appendChild(n),n})},replace:function(i,u,f){var e=this;return r(u,"array")&&(i=i.cloneNode(!0)),e.run(u,function(r){return f&&t(n.grep(r.childNodes),function(n){i.appendChild(n)}),r.parentNode.replaceChild(i,r)})},rename:function(n,i){var r=this,u;return n.nodeName!=i.toUpperCase()&&(u=r.create(i),t(r.getAttribs(n),function(t){r.setAttrib(u,t.nodeName,r.getAttrib(n,t.nodeName))}),r.replace(u,n,1)),u||n},findCommonAncestor:function(n,t){for(var i=n,r;i;){for(r=t;r&&i!=r;)r=r.parentNode;if(i==r)break;i=i.parentNode}return!i&&n.ownerDocument?n.ownerDocument.documentElement:i},toHex:function(n){function i(n){return n=parseInt(n,10).toString(16),n.length>1?n:"0"+n}var t=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(n);return t?"#"+i(t[1])+i(t[2])+i(t[3]):n},getClasses:function(){function u(i){t(i.imports,function(n){u(n)}),t(i.cssRules||i.rules,function(i){switch(i.type||1){case 1:i.selectorText&&t(i.selectorText.split(","),function(t){(t=t.replace(/^\s*|\s*$|^\s\./g,""),!/\.mce/.test(t)&&/\.[\w\-]+$/.test(t))&&(o=t,t=n._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",t),!e||(t=e(t,o)))&&(f[t]||(r.push({"class":t}),f[t]=1))});break;case 3:u(i.styleSheet)}})}var i=this,r=[],f={},e=i.settings.class_filter,o;if(i.classes)return i.classes;try{t(i.doc.styleSheets,u)}catch(s){}return r.length>0&&(i.classes=r),r},run:function(n,i,r){var u=this,f;return(u.doc&&typeof n=="string"&&(n=u.get(n)),!n)?!1:(r=r||this,!n.nodeType&&(n.length||n.length===0))?(f=[],t(n,function(n,t){n&&(typeof n=="string"&&(n=u.doc.getElementById(n)),f.push(i.call(r,n,t)))}),f):i.call(r,n)},getAttribs:function(n){var t;return(n=this.get(n),!n)?[]:i?(t=[],n.nodeName=="OBJECT")?n.attributes:(n.nodeName==="OPTION"&&this.getAttrib(n,"selected")&&t.push({specified:1,nodeName:"selected"}),n.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(n){t.push({specified:1,nodeName:n})}),t):n.attributes},isEmpty:function(t,i){var f=this,e,c,u,s,r,h=0;if(t=t.firstChild,t){s=new n.dom.TreeWalker(t,t.parentNode),i=i||f.schema?f.schema.getNonEmptyElements():null;do{if(u=t.nodeType,u===1){if(t.getAttribute("data-mce-bogus"))continue;if(r=t.nodeName.toLowerCase(),i&&i[r]){if(r==="br"){h++;continue}return!1}for(c=f.getAttribs(t),e=t.attributes.length;e--;)if(r=t.attributes[e].nodeName,r==="name"||r==="data-mce-bookmark")return!1}if(u==8||u===3&&!o.test(t.nodeValue))return!1}while(t=s.next())}return h<=1},destroy:function(t){var i=this;i.win=i.doc=i.root=i.events=i.frag=null,t||n.removeUnload(i.destroy)},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new n.dom.Range(this)},nodeIndex:function(n,t){var u=0,r,f,i;if(n)for(r=n.nodeType,n=n.previousSibling,f=n;n;n=n.previousSibling)(i=n.nodeType,!t||i!=3||i!=r&&n.nodeValue.length)&&(u++,r=i);return u},split:function(t,i,r){function o(t){function s(n){var t=n.previousSibling&&n.previousSibling.nodeName=="SPAN",i=n.nextSibling&&n.nextSibling.nodeName=="SPAN";return t&&i}var r,i=t.childNodes,f=t.nodeType,e;if(f!=1||t.getAttribute("data-mce-type")!="bookmark"){for(r=i.length-1;r>=0;r--)o(i[r]);if(f!=9){if(f==3&&t.nodeValue.length>0){if(e=n.trim(t.nodeValue).length,!u.isBlock(t.parentNode)||e>0||e===0&&s(t))return}else if(f==1&&(i=t.childNodes,i.length==1&&i[0]&&i[0].nodeType==1&&i[0].getAttribute("data-mce-type")=="bookmark"&&t.parentNode.insertBefore(i[0],t),i.length||/^(br|hr|input|img)$/i.test(t.nodeName)))return;u.remove(t)}return t}}var u=this,f=u.createRng(),s,h,e;if(t&&i)return f.setStart(t.parentNode,u.nodeIndex(t)),f.setEnd(i.parentNode,u.nodeIndex(i)),s=f.extractContents(),f=u.createRng(),f.setStart(i.parentNode,u.nodeIndex(i)+1),f.setEnd(t.parentNode,u.nodeIndex(t)+1),h=f.extractContents(),e=t.parentNode,e.insertBefore(o(s),t),r?e.replaceChild(r,i):e.insertBefore(i,t),e.insertBefore(o(h),t),u.remove(t),r||i},bind:function(n,t,i,r){return this.events.add(n,t,i,r||this)},unbind:function(n,t,i){return this.events.remove(n,t,i)},fire:function(n,t,i){return this.events.fire(n,t,i)},getContentEditable:function(n){var t;return n.nodeType!=1?null:(t=n.getAttribute("data-mce-contenteditable"),t&&t!=="inherit")?t:n.contentEditable!=="inherit"?n.contentEditable:null},_findSib:function(n,t,i){var f=this,u=t;if(n)for(r(u,"string")&&(u=function(n){return f.is(n,t)}),n=n[i];n;n=n[i])if(u(n))return n;return null},_isRes:function(n){return/^(top|left|bottom|right|width|height)/i.test(n)||/;\s*(top|left|bottom|right|width|height)/i.test(n)}}),n.DOM=new n.dom.DOMUtils(document,{process_html:0})}(tinymce),function(n){function t(n){function w(){return v.createDocumentFragment()}function b(n,t){ut(e,n,t)}function k(n,t){ut(h,n,t)}function tt(n){b(n.parentNode,l(n))}function st(n){b(n.parentNode,l(n)+1)}function ht(n){k(n.parentNode,l(n))}function it(n){k(n.parentNode,l(n)+1)}function ct(n){n?(i[f]=i[r],i[o]=i[u]):(i[r]=i[f],i[u]=i[o]),i.collapsed=e}function lt(n){tt(n),it(n)}function at(n){b(n,0),k(n,n.nodeType===1?n.childNodes.length:n.nodeValue.length)}function vt(n,t){var e=i[r],s=i[u],h=i[f],c=i[o],l=t.startContainer,a=t.startOffset,v=t.endContainer,p=t.endOffset;return n===0?y(e,s,l,a):n===1?y(h,c,l,a):n===2?y(h,c,v,p):n===3?y(e,s,v,p):void 0}function yt(){g(s)}function pt(){return g(ot)}function rt(){return g(c)}function wt(t){var i=this[r],f=this[u],o,e;(i.nodeType===3||i.nodeType===4)&&i.nodeValue?f?f>=i.nodeValue.length?n.insertAfter(t,i):(o=i.splitText(f),i.parentNode.insertBefore(t,o)):i.parentNode.insertBefore(t,i):(i.childNodes.length>0&&(e=i.childNodes[f]),e?i.insertBefore(t,e):i.appendChild(t))}function bt(n){var t=i.extractContents();i.insertNode(n),n.appendChild(t),i.selectNode(n)}function kt(){return nt(new t(n),{startContainer:i[r],startOffset:i[u],endContainer:i[f],endOffset:i[o],collapsed:i.collapsed,commonAncestorContainer:i.commonAncestorContainer})}function d(n,t){var i;if(n.nodeType==3||t<0)return n;for(i=n.firstChild;i&&t>0;)--t,i=i.nextSibling;return i?i:n}function dt(){return i[r]==i[f]&&i[u]==i[o]}function y(t,i,r,u){var f,h,e,c,o,s;if(t==r)return i==u?0:i<u?-1:1;for(f=r;f&&f.parentNode!=t;)f=f.parentNode;if(f){for(h=0,e=t.firstChild;e!=f&&h<i;)h++,e=e.nextSibling;return i<=h?-1:1}for(f=t;f&&f.parentNode!=r;)f=f.parentNode;if(f){for(h=0,e=r.firstChild;e!=f&&h<u;)h++,e=e.nextSibling;return h<u?-1:1}for(c=n.findCommonAncestor(t,r),o=t;o&&o.parentNode!=c;)o=o.parentNode;for(o||(o=c),s=r;s&&s.parentNode!=c;)s=s.parentNode;if(s||(s=c),o==s)return 0;for(e=c.firstChild;e;){if(e==o)return-1;if(e==s)return 1;e=e.nextSibling}}function ut(t,e,s){var h,c;for(t?(i[r]=e,i[u]=s):(i[f]=e,i[o]=s),h=i[f];h.parentNode;)h=h.parentNode;for(c=i[r];c.parentNode;)c=c.parentNode;c==h?y(i[r],i[u],i[f],i[o])>0&&i.collapse(t):i.collapse(t),i.collapsed=dt(),i.commonAncestorContainer=n.findCommonAncestor(i[r],i[f])}function g(n){var u,l=0,a=0,t,s,e,o,h,c;if(i[r]==i[f])return gt(n);for(u=i[f],t=u.parentNode;t;u=t,t=t.parentNode){if(t==i[r])return ni(u,n);++l}for(u=i[r],t=u.parentNode;t;u=t,t=t.parentNode){if(t==i[f])return ti(u,n);++a}for(s=a-l,e=i[r];s>0;)e=e.parentNode,s--;for(o=i[f];s<0;)o=o.parentNode,s++;for(h=e.parentNode,c=o.parentNode;h!=c;h=h.parentNode,c=c.parentNode)e=h,o=c;return ii(e,o,n)}function gt(n){var f,b,h,t,l,k,g,a,y;if(n!=s&&(f=w()),i[u]==i[o])return f;if(i[r].nodeType==3)return(b=i[r].nodeValue,h=b.substring(i[u],i[o]),n!=c&&(t=i[r],a=i[u],y=i[o]-i[u],a===0&&y>=t.nodeValue.length-1?t.parentNode.removeChild(t):t.deleteData(a,y),i.collapse(e)),n==s)?void 0:(h.length>0&&f.appendChild(v.createTextNode(h)),f);for(t=d(i[r],i[u]),l=i[o]-i[u];t&&l>0;)k=t.nextSibling,g=p(t,n),f&&f.appendChild(g),--l,t=k;return n!=c&&i.collapse(e),f}function ni(n,t){var r,f,o,e,a,v;if(t!=s&&(r=w()),f=ft(n,t),r&&r.appendChild(f),o=l(n),e=o-i[u],e<=0)return t!=c&&(i.setEndBefore(n),i.collapse(h)),r;for(f=n.previousSibling;e>0;)a=f.previousSibling,v=p(f,t),r&&r.insertBefore(v,r.firstChild),--e,f=a;return t!=c&&(i.setEndBefore(n),i.collapse(h)),r}function ti(n,t){var u,f,r,h,a,v;for(t!=s&&(u=w()),r=et(n,t),u&&u.appendChild(r),f=l(n),++f,h=i[o]-f,r=n.nextSibling;r&&h>0;)a=r.nextSibling,v=p(r,t),u&&u.appendChild(v),--h,r=a;return t!=c&&(i.setStartAfter(n),i.collapse(e)),u}function ii(n,t,r){var f,u,b,h,v,a,o,y;for(r!=s&&(u=w()),f=et(n,r),u&&u.appendChild(f),b=n.parentNode,h=l(n),v=l(t),++h,a=v-h,o=n.nextSibling;a>0;)y=o.nextSibling,f=p(o,r),u&&u.appendChild(f),o=y,--a;return f=ft(t,r),u&&u.appendChild(f),r!=c&&(i.setStartAfter(n),i.collapse(e)),u}function ft(n,t){var r=d(i[f],i[o]-1),u,c,y,p,l,v=r!=i[f];if(r==n)return a(r,v,h,t);for(u=r.parentNode,c=a(u,h,h,t);u;){while(r)y=r.previousSibling,p=a(r,v,h,t),t!=s&&c.insertBefore(p,c.firstChild),v=e,r=y;if(u==n)return c;r=u.previousSibling,u=u.parentNode,l=a(u,h,h,t),t!=s&&l.appendChild(c),c=l}}function et(n,t){var f=d(i[r],i[u]),l=f!=i[r],o,c,y,p,v;if(f==n)return a(f,l,e,t);for(o=f.parentNode,c=a(o,h,e,t);o;){while(f)y=f.nextSibling,p=a(f,l,e,t),t!=s&&c.appendChild(p),l=e,f=y;if(o==n)return c;f=o.nextSibling,o=o.parentNode,v=a(o,h,e,t),t!=s&&v.appendChild(c),c=v}}function a(t,r,f,e){var a,v,y,l,w;return r?p(t,e):t.nodeType==3?(a=t.nodeValue,f?(l=i[u],v=a.substring(l),y=a.substring(0,l)):(l=i[o],v=a.substring(0,l),y=a.substring(l)),e!=c&&(t.nodeValue=y),e==s)?void 0:(w=n.clone(t,h),w.nodeValue=v,w):e==s?void 0:n.clone(t,h)}function p(t,i){if(i!=s)return i==c?n.clone(t,e):t;t.parentNode.removeChild(t)}function ri(){return n.create("body",null,rt()).outerText}var i=this,v=n.doc,ot=0,c=1,s=2,e=!0,h=!1,u="startOffset",r="startContainer",f="endContainer",o="endOffset",nt=tinymce.extend,l=n.nodeIndex;return nt(i,{startContainer:v,startOffset:0,endContainer:v,endOffset:0,collapsed:e,commonAncestorContainer:v,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:b,setEnd:k,setStartBefore:tt,setStartAfter:st,setEndBefore:ht,setEndAfter:it,collapse:ct,selectNode:lt,selectNodeContents:at,compareBoundaryPoints:vt,deleteContents:yt,extractContents:pt,cloneContents:rt,insertNode:wt,surroundContents:bt,cloneRange:kt,toStringIE:ri}),i}n.Range=t,t.prototype.toString=function(){return this.toStringIE()}}(tinymce.dom),function(){function n(n){function r(t,i){var r,c=0,s,a,l,f,e,h,o=-1,u;if(r=t.duplicate(),r.collapse(i),u=r.parentElement(),u.ownerDocument===n.dom.doc){while(u.contentEditable==="false")u=u.parentNode;if(!u.hasChildNodes())return{node:u,inside:1};for(l=u.children,s=l.length-1;c<=s;)if(h=Math.floor((c+s)/2),f=l[h],r.moveToElementText(f),o=r.compareEndPoints(i?"StartToStart":"EndToEnd",t),o>0)s=h-1;else if(o<0)c=h+1;else return{node:f};if(o<0)for(f?r.collapse(!1):(r.moveToElementText(u),r.collapse(!0),f=u,a=!0),e=0;r.compareEndPoints(i?"StartToStart":"StartToEnd",t)!==0;){if(r.move("character",1)===0||u!=r.parentElement())break;e++}else for(r.collapse(!0),e=0;r.compareEndPoints(i?"StartToStart":"StartToEnd",t)!==0;){if(r.move("character",-1)===0||u!=r.parentElement())break;e++}return{node:f,position:o,offset:e,inside:a}}}function f(){function h(n){var s=r(f,n),i,o,e=0,t,c,h;if(i=s.node,o=s.offset,s.inside&&!i.hasChildNodes()){u[n?"setStart":"setEnd"](i,0);return}if(o===c){u[n?"setStartBefore":"setEndAfter"](i);return}if(s.position<0){if(t=s.inside?i.firstChild:i.nextSibling,!t){u[n?"setStartAfter":"setEndAfter"](i);return}if(!o){t.nodeType==3?u[n?"setStart":"setEnd"](t,0):u[n?"setStartBefore":"setEndBefore"](t);return}while(t){if(h=t.nodeValue,e+=h.length,e>=o){i=t,e-=o,e=h.length-e;break}t=t.nextSibling}}else{if(t=i.previousSibling,!t)return u[n?"setStartBefore":"setEndBefore"](i);if(!o){i.nodeType==3?u[n?"setStart":"setEnd"](t,i.nodeValue.length):u[n?"setStartAfter":"setEndAfter"](t);return}while(t){if(e+=t.nodeValue.length,e>=o){i=t,e-=o;break}t=t.previousSibling}}u[n?"setStart":"setEnd"](i,e)}var f=n.getRng(),u=t.createRng(),e,s,o,c,l;if(e=f.item?f.item(0):f.parentElement(),e.ownerDocument!=t.doc)return u;if(s=n.isCollapsed(),f.item)return u.setStart(e.parentNode,t.nodeIndex(e)),u.setEnd(u.startContainer,u.startOffset+1),u;try{h(!0),s||h()}catch(a){if(a.number==-2147024809)l=i.getBookmark(2),o=f.duplicate(),o.collapse(!0),e=o.parentElement(),s||(o=f.duplicate(),o.collapse(!1),c=o.parentElement(),c.innerHTML=c.innerHTML),e.innerHTML=e.innerHTML,i.moveToBookmark(l),f=n.getRng(),h(!0),s||h();else throw a;}return u}var i=this,t=n.dom,u=!1;this.getBookmark=function(i){function e(n){for(var u,r,e=[],i=n.parentNode,f=t.getRoot().parentNode;i!=f&&i.nodeType!==9;){for(u=i.children,r=u.length;r--;)if(n===u[r]){e.push(r);break}n=i,i=i.parentNode}return e}function o(n){var t;return t=r(f,n),t?{position:t.position,offset:t.offset,indexes:e(t.node),inside:t.inside}:void 0}var f=n.getRng(),u={};return i===2&&(f.item?u.start={ctrl:!0,indexes:e(f.item(0))}:(u.start=o(!0),n.isCollapsed()||(u.end=o()))),u},this.moveToBookmark=function(n){function u(n){for(var u,f,i=t.getRoot(),r=n.length-1;r>=0;r--)f=i.children,u=n[r],u<=f.length-1&&(i=f[u]);return i}function f(t){var e=n[t?"start":"end"],o,f,s;e&&(o=e.position>0,f=r.createTextRange(),f.moveToElementText(u(e.indexes)),offset=e.offset,offset!==s?(f.collapse(e.inside||o),f.moveStart("character",o?-offset:offset)):f.collapse(t),i.setEndPoint(t?"StartToStart":"EndToStart",f),t&&i.collapse(!0))}var i,r=t.doc.body;n.start&&(n.start.ctrl?(i=r.createControlRange(),i.addElement(u(n.start.indexes)),i.select()):(i=r.createTextRange(),f(!0),f(),i.select()))},this.addRange=function(i){function p(n){var i,y,f,h,v;f=t.create("a"),i=n?r:c,y=n?o:s,h=e.duplicate(),(i==l||i==l.documentElement)&&(i=a,y=0),i.nodeType==3?(i.parentNode.insertBefore(f,i),h.moveToElementText(f),h.moveStart("character",y),t.remove(f),e.setEndPoint(n?"StartToStart":"EndToEnd",h)):(v=i.childNodes,v.length?(y>=v.length?t.insertAfter(f,v[v.length-1]):i.insertBefore(f,v[y]),h.moveToElementText(f)):i.canHaveHTML&&(i.innerHTML="<span>﻿<\/span>",f=i.firstChild,h.moveToElementText(f),h.collapse(u)),e.setEndPoint(n?"StartToStart":"EndToEnd",h),t.remove(f))}var e,h,r,o,c,s,f,l=n.dom.doc,a=l.body,v,y;if(r=i.startContainer,o=i.startOffset,c=i.endContainer,s=i.endOffset,e=a.createTextRange(),r==c&&r.nodeType==1){if(o==s&&!r.hasChildNodes()){if(r.canHaveHTML){f=r.previousSibling,f&&!f.hasChildNodes()&&t.isBlock(f)?f.innerHTML="﻿":f=null,r.innerHTML="<span>﻿<\/span><span>﻿<\/span>",e.moveToElementText(r.lastChild),e.select(),t.doc.selection.clear(),r.innerHTML="",f&&(f.innerHTML="");return}o=t.nodeIndex(r),r=r.parentNode}if(o==s-1)try{if(y=r.childNodes[o],h=a.createControlRange(),h.addElement(y),h.select(),v=n.getRng(),v.item&&y===v.item(0))return}catch(w){}}p(!0),p(),e.select()},this.getRangeAt=f}tinymce.dom.TridentSelection=n}(),function(){function b(n,t,i,u,f,e){for(var o,h,s=0,c=u.length;s<c;s++)if(o=u[s],o){for(h=!1,o=o[n];o;){if(o[r]===i){h=u[o.sizset];break}if(o.nodeType!==1||e||(o[r]=i,o.sizset=s),o.nodeName.toLowerCase()===t){h=o;break}o=o[n]}u[s]=h}}function k(t,i,u,f,e,o){for(var s,c,h=0,l=f.length;h<l;h++)if(s=f[h],s){for(c=!1,s=s[t];s;){if(s[r]===u){c=f[s.sizset];break}if(s.nodeType===1)if(o||(s[r]=u,s.sizset=h),typeof i!="string"){if(s===i){c=!0;break}}else if(n.filter(i,[s]).length>0){c=s;break}s=s[t]}f[h]=c}}var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r="sizcache",l=0,y=Object.prototype.toString,o=!1,p=!0,u=/\\/g,d=/\r\n/g,s=/\W/,n,f,i,h,e,v;[0,0].sort(function(){return p=!1,0}),n=function(r,u,f,e){var nt;if(f=f||[],u=u||document,nt=u,u.nodeType!==1&&u.nodeType!==9)return[];if(!r||typeof r!="string")return f;var p,a,s,g,l,b,k,h,tt=!0,d=n.isXML(u),o=[],it=r;do if(c.exec(""),p=c.exec(it),p&&(it=p[3],o.push(p[1]),p[2])){g=p[3];break}while(p);if(o.length>1&&w.exec(r))if(o.length===2&&t.relative[o[0]])a=v(o[0]+o[1],u,e);else for(a=t.relative[o[0]]?[u]:n(o.shift(),u);o.length;)r=o.shift(),t.relative[r]&&(r+=o.shift()),a=v(r,a,e);else if(!e&&o.length>1&&u.nodeType===9&&!d&&t.match.ID.test(o[0])&&!t.match.ID.test(o[o.length-1])&&(l=n.find(o.shift(),u,d),u=l.expr?n.filter(l.expr,l.set)[0]:l.set[0]),u)for(l=e?{expr:o.pop(),set:i(e)}:n.find(o.pop(),o.length===1&&(o[0]==="~"||o[0]==="+")&&u.parentNode?u.parentNode:u,d),a=l.expr?n.filter(l.expr,l.set):l.set,o.length>0?s=i(a):tt=!1;o.length;)b=o.pop(),k=b,t.relative[b]?k=o.pop():b="",k==null&&(k=u),t.relative[b](s,k,d);else s=o=[];if(s||(s=a),s||n.error(b||r),y.call(s)==="[object Array]")if(tt)if(u&&u.nodeType===1)for(h=0;s[h]!=null;h++)s[h]&&(s[h]===!0||s[h].nodeType===1&&n.contains(u,s[h]))&&f.push(a[h]);else for(h=0;s[h]!=null;h++)s[h]&&s[h].nodeType===1&&f.push(a[h]);else f.push.apply(f,s);else i(s,f);return g&&(n(g,nt,f,e),n.uniqueSort(f)),f},n.uniqueSort=function(n){if(h&&(o=p,n.sort(h),o))for(var t=1;t<n.length;t++)n[t]===n[t-1]&&n.splice(t--,1);return n},n.matches=function(t,i){return n(t,null,null,i)},n.matchesSelector=function(t,i){return n(i,null,null,[t]).length>0},n.find=function(n,i,r){var e,o,c,f,s,h;if(!n)return[];for(o=0,c=t.order.length;o<c;o++)if(s=t.order[o],(f=t.leftMatch[s].exec(n))&&(h=f[1],f.splice(1,1),h.substr(h.length-1)!=="\\"&&(f[1]=(f[1]||"").replace(u,""),e=t.find[s](f,i,r),e!=null))){n=n.replace(t.match[s],"");break}return e||(e=typeof i.getElementsByTagName!="undefined"?i.getElementsByTagName("*"):[]),{set:e,expr:n}},n.filter=function(i,r,u,f){for(var e,s,h,c,v,w,y,l,p,b=i,a=[],o=r,k=r&&r[0]&&n.isXML(r[0]);i&&r.length;){for(h in t.filter)if((e=t.leftMatch[h].exec(i))!=null&&e[2]){if(w=t.filter[h],y=e[1],s=!1,e.splice(1,1),y.substr(y.length-1)==="\\")continue;if(o===a&&(a=[]),t.preFilter[h])if(e=t.preFilter[h](e,o,u,a,f,k),e){if(e===!0)continue}else s=c=!0;if(e)for(l=0;(v=o[l])!=null;l++)v&&(c=w(v,e,l,o),p=f^c,u&&c!=null?p?s=!0:o[l]=!1:p&&(a.push(v),s=!0));if(c!==undefined){if(u||(o=a),i=i.replace(t.match[h],""),!s)return[];break}}if(i===b)if(s==null)n.error(i);else break;b=i}return o},n.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};var a=n.getText=function(n){var i,r,t=n.nodeType,u="";if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;if(typeof n.innerText=="string")return n.innerText.replace(d,"");for(n=n.firstChild;n;n=n.nextSibling)u+=a(n)}else if(t===3||t===4)return n.nodeValue}else for(i=0;r=n[i];i++)r.nodeType!==8&&(u+=a(r));return u},t=n.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(n){return n.getAttribute("href")},type:function(n){return n.getAttribute("type")}},relative:{"+":function(t,i){var f=typeof i=="string",e=f&&!s.test(i),o=f&&!e,u,h,r;for(e&&(i=i.toLowerCase()),u=0,h=t.length;u<h;u++)if(r=t[u]){while((r=r.previousSibling)&&r.nodeType!==1);t[u]=o||r&&r.nodeName.toLowerCase()===i?r||!1:r===i}o&&n.filter(i,t,!0)},">":function(t,i){var u,f=typeof i=="string",r=0,o=t.length,e;if(f&&!s.test(i))for(i=i.toLowerCase();r<o;r++)u=t[r],u&&(e=u.parentNode,t[r]=e.nodeName.toLowerCase()===i?e:!1);else{for(;r<o;r++)u=t[r],u&&(t[r]=f?u.parentNode:u.parentNode===i);f&&n.filter(i,t,!0)}},"":function(n,t,i){var r,f=l++,u=k;typeof t!="string"||s.test(t)||(t=t.toLowerCase(),r=t,u=b),u("parentNode",t,f,n,r,i)},"~":function(n,t,i){var r,f=l++,u=k;typeof t!="string"||s.test(t)||(t=t.toLowerCase(),r=t,u=b),u("previousSibling",t,f,n,r,i)}},find:{ID:function(n,t,i){if(typeof t.getElementById!="undefined"&&!i){var r=t.getElementById(n[1]);return r&&r.parentNode?[r]:[]}},NAME:function(n,t){var r,u,i,f;if(typeof t.getElementsByName!="undefined"){for(r=[],u=t.getElementsByName(n[1]),i=0,f=u.length;i<f;i++)u[i].getAttribute("name")===n[1]&&r.push(u[i]);return r.length===0?null:r}},TAG:function(n,t){if(typeof t.getElementsByTagName!="undefined")return t.getElementsByTagName(n[1])}},preFilter:{CLASS:function(n,t,i,r,f,e){if(n=" "+n[1].replace(u,"")+" ",e)return n;for(var s=0,o;(o=t[s])!=null;s++)o&&(f^(o.className&&(" "+o.className+" ").replace(/[\t\n\r]/g," ").indexOf(n)>=0)?i||r.push(o):i&&(t[s]=!1));return!1},ID:function(n){return n[1].replace(u,"")},TAG:function(n){return n[1].replace(u,"").toLowerCase()},CHILD:function(t){if(t[1]==="nth"){t[2]||n.error(t[0]),t[2]=t[2].replace(/^\+|\s*/g,"");var i=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(t[2]==="even"&&"2n"||t[2]==="odd"&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=i[1]+(i[2]||1)-0,t[3]=i[3]-0}else t[2]&&n.error(t[0]);return t[0]=l++,t},ATTR:function(n,i,r,f,e,o){var s=n[1]=n[1].replace(u,"");return!o&&t.attrMap[s]&&(n[1]=t.attrMap[s]),n[4]=(n[4]||n[5]||"").replace(u,""),n[2]==="~="&&(n[4]=" "+n[4]+" "),n},PSEUDO:function(i,r,u,f,e){if(i[1]==="not")if((c.exec(i[3])||"").length>1||/^\w/.test(i[3]))i[3]=n(i[3],null,null,r);else{var o=n.filter(i[3],r,u,!0^e);return u||f.push.apply(f,o),!1}else if(t.match.POS.test(i[0])||t.match.CHILD.test(i[0]))return!0;return i},POS:function(n){return n.unshift(!0),n}},filters:{enabled:function(n){return n.disabled===!1&&n.type!=="hidden"},disabled:function(n){return n.disabled===!0},checked:function(n){return n.checked===!0},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},parent:function(n){return!!n.firstChild},empty:function(n){return!n.firstChild},has:function(t,i,r){return!!n(r[3],t).length},header:function(n){return/h\d/i.test(n.nodeName)},text:function(n){var t=n.getAttribute("type"),i=n.type;return n.nodeName.toLowerCase()==="input"&&"text"===i&&(t===i||t===null)},radio:function(n){return n.nodeName.toLowerCase()==="input"&&"radio"===n.type},checkbox:function(n){return n.nodeName.toLowerCase()==="input"&&"checkbox"===n.type},file:function(n){return n.nodeName.toLowerCase()==="input"&&"file"===n.type},password:function(n){return n.nodeName.toLowerCase()==="input"&&"password"===n.type},submit:function(n){var t=n.nodeName.toLowerCase();return(t==="input"||t==="button")&&"submit"===n.type},image:function(n){return n.nodeName.toLowerCase()==="input"&&"image"===n.type},reset:function(n){var t=n.nodeName.toLowerCase();return(t==="input"||t==="button")&&"reset"===n.type},button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&"button"===n.type||t==="button"},input:function(n){return/input|select|textarea|button/i.test(n.nodeName)},focus:function(n){return n===n.ownerDocument.activeElement}},setFilters:{first:function(n,t){return t===0},last:function(n,t,i,r){return t===r.length-1},even:function(n,t){return t%2==0},odd:function(n,t){return t%2==1},lt:function(n,t,i){return t<i[3]-0},gt:function(n,t,i){return t>i[3]-0},nth:function(n,t,i){return i[3]-0===t},eq:function(n,t,i){return i[3]-0===t}},filter:{PSEUDO:function(i,r,u,f){var e=r[1],h=t.filters[e],s,o,c;if(h)return h(i,u,r,f);if(e==="contains")return(i.textContent||i.innerText||a([i])||"").indexOf(r[3])>=0;if(e==="not"){for(s=r[3],o=0,c=s.length;o<c;o++)if(s[o]===i)return!1;return!0}n.error(e)},CHILD:function(n,t){var u,o,s,f,h,e,c=t[1],i=n;switch(c){case"only":case"first":while(i=i.previousSibling)if(i.nodeType===1)return!1;if(c==="first")return!0;i=n;case"last":while(i=i.nextSibling)if(i.nodeType===1)return!1;return!0;case"nth":if(u=t[2],o=t[3],u===1&&o===0)return!0;if(s=t[0],f=n.parentNode,f&&(f[r]!==s||!n.nodeIndex)){for(h=0,i=f.firstChild;i;i=i.nextSibling)i.nodeType===1&&(i.nodeIndex=++h);f[r]=s}return e=n.nodeIndex-o,u===0?e===0:e%u==0&&e/u>=0}},ID:function(n,t){return n.nodeType===1&&n.getAttribute("id")===t},TAG:function(n,t){return t==="*"&&n.nodeType===1||!!n.nodeName&&n.nodeName.toLowerCase()===t},CLASS:function(n,t){return(" "+(n.className||n.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(i,r){var o=r[1],s=n.attr?n.attr(i,o):t.attrHandle[o]?t.attrHandle[o](i):i[o]!=null?i[o]:i.getAttribute(o),f=s+"",e=r[2],u=r[4];return s==null?e==="!=":!e&&n.attr?s!=null:e==="="?f===u:e==="*="?f.indexOf(u)>=0:e==="~="?(" "+f+" ").indexOf(u)>=0:u?e==="!="?f!==u:e==="^="?f.indexOf(u)===0:e==="$="?f.substr(f.length-u.length)===u:e==="|="?f===u||f.substr(0,u.length+1)===u+"-":!1:f&&s!==!1},POS:function(n,i,r,u){var e=i[2],f=t.setFilters[e];if(f)return f(n,r,i,u)}}},w=t.match.POS,g=function(n,t){return"\\"+(+t+1)};for(f in t.match)t.match[f]=new RegExp(t.match[f].source+/(?![^\[]*\])(?![^\(]*\))/.source),t.leftMatch[f]=new RegExp(/(^(?:.|\r|\n)*?)/.source+t.match[f].source.replace(/\\(\d+)/g,g));t.match.globalPOS=w,i=function(n,t){return(n=Array.prototype.slice.call(n,0),t)?(t.push.apply(t,n),t):n};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(nt){i=function(n,t){var i=0,r=t||[],u;if(y.call(n)==="[object Array]")Array.prototype.push.apply(r,n);else if(typeof n.length=="number")for(u=n.length;i<u;i++)r.push(n[i]);else for(;n[i];i++)r.push(n[i]);return r}}document.documentElement.compareDocumentPosition?h=function(n,t){return n===t?(o=!0,0):!n.compareDocumentPosition||!t.compareDocumentPosition?n.compareDocumentPosition?-1:1:n.compareDocumentPosition(t)&4?-1:1}:(h=function(n,t){var i;if(n===t)return o=!0,0;if(n.sourceIndex&&t.sourceIndex)return n.sourceIndex-t.sourceIndex;var s,l,u=[],f=[],h=n.parentNode,c=t.parentNode,r=h;if(h===c)return e(n,t);if(h){if(!c)return 1}else return-1;while(r)u.unshift(r),r=r.parentNode;for(r=c;r;)f.unshift(r),r=r.parentNode;for(s=u.length,l=f.length,i=0;i<s&&i<l;i++)if(u[i]!==f[i])return e(u[i],f[i]);return i===s?e(n,f[i],-1):e(u[i],t,1)},e=function(n,t,i){if(n===t)return i;for(var r=n.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var n=document.createElement("div"),r="script"+(new Date).getTime(),i=document.documentElement;n.innerHTML="<a name='"+r+"'/>",i.insertBefore(n,i.firstChild),document.getElementById(r)&&(t.find.ID=function(n,t,i){if(typeof t.getElementById!="undefined"&&!i){var r=t.getElementById(n[1]);return r?r.id===n[1]||typeof r.getAttributeNode!="undefined"&&r.getAttributeNode("id").nodeValue===n[1]?[r]:undefined:[]}},t.filter.ID=function(n,t){var i=typeof n.getAttributeNode!="undefined"&&n.getAttributeNode("id");return n.nodeType===1&&i&&i.nodeValue===t}),i.removeChild(n),i=n=null}(),function(){var n=document.createElement("div");n.appendChild(document.createComment("")),n.getElementsByTagName("*").length>0&&(t.find.TAG=function(n,t){var i=t.getElementsByTagName(n[1]),u,r;if(n[1]==="*"){for(u=[],r=0;i[r];r++)i[r].nodeType===1&&u.push(i[r]);i=u}return i}),n.innerHTML="<a href='#'><\/a>",n.firstChild&&typeof n.firstChild.getAttribute!="undefined"&&n.firstChild.getAttribute("href")!=="#"&&(t.attrHandle.href=function(n){return n.getAttribute("href",2)}),n=null}(),document.querySelectorAll&&function(){var u=n,r=document.createElement("div"),e="__sizzle__",f;if(r.innerHTML="<p class='TEST'><\/p>",!r.querySelectorAll||r.querySelectorAll(".TEST").length!==0){n=function(r,f,o,s){var h,c;if(f=f||document,!s&&!n.isXML(f)){if(h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(r),h&&(f.nodeType===1||f.nodeType===9)){if(h[1])return i(f.getElementsByTagName(r),o);if(h[2]&&t.find.CLASS&&f.getElementsByClassName)return i(f.getElementsByClassName(h[2]),o)}if(f.nodeType===9){if(r==="body"&&f.body)return i([f.body],o);if(h&&h[3])if(c=f.getElementById(h[3]),c&&c.parentNode){if(c.id===h[3])return i([c],o)}else return i([],o);try{return i(f.querySelectorAll(r),o)}catch(w){}}else if(f.nodeType===1&&f.nodeName.toLowerCase()!=="object"){var p=f,a=f.getAttribute("id"),l=a||e,v=f.parentNode,y=/^\s*[+~]/.test(r);a?l=l.replace(/'/g,"\\$&"):f.setAttribute("id",l),y&&v&&(f=f.parentNode);try{if(!y||v)return i(f.querySelectorAll("[id='"+l+"'] "+r),o)}catch(b){}finally{a||p.removeAttribute("id")}}}return u(r,f,o,s)};for(f in u)n[f]=u[f];r=null}}(),function(){var i=document.documentElement,r=i.matchesSelector||i.mozMatchesSelector||i.webkitMatchesSelector||i.msMatchesSelector,f,u;if(r){f=!r.call(document.createElement("div"),"div"),u=!1;try{r.call(document.documentElement,"[test!='']:sizzle")}catch(e){u=!0}n.matchesSelector=function(i,e){if(e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!n.isXML(i))try{if(u||!t.match.PSEUDO.test(e)&&!/!=/.test(e)){var o=r.call(i,e);if(o||!f||i.document&&i.document.nodeType!==11)return o}}catch(s){}return n(e,null,null,[i]).length>0}}}(),function(){var n=document.createElement("div");(n.innerHTML="<div class='test e'><\/div><div class='test'><\/div>",n.getElementsByClassName&&n.getElementsByClassName("e").length!==0)&&(n.lastChild.className="e",n.getElementsByClassName("e").length!==1)&&(t.order.splice(1,0,"CLASS"),t.find.CLASS=function(n,t,i){if(typeof t.getElementsByClassName!="undefined"&&!i)return t.getElementsByClassName(n[1])},n=null)}(),n.contains=document.documentElement.contains?function(n,t){return n!==t&&(n.contains?n.contains(t):!0)}:document.documentElement.compareDocumentPosition?function(n,t){return!!(n.compareDocumentPosition(t)&16)}:function(){return!1},n.isXML=function(n){var t=(n?n.ownerDocument||n:0).documentElement;return t?t.nodeName!=="HTML":!1},v=function(i,r,u){for(var e,o=[],s="",h=r.nodeType?[r]:r,f,c;e=t.match.PSEUDO.exec(i);)s+=e[0],i=i.replace(t.match.PSEUDO,"");for(i=t.relative[i]?i+"*":i,f=0,c=h.length;f<c;f++)n(i,h[f],o,u);return n.filter(s,o)},window.tinymce.dom.Sizzle=n}(),function(n){n.dom.Element=function(t,i){var r=this,u,f;r.settings=i=i||{},r.id=t,r.dom=u=i.dom||n.DOM,n.isIE||(f=u.get(r.id)),n.each("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get".split(/,/),function(n){r[n]=function(){for(var i=[t],f=0;f<arguments.length;f++)i.push(arguments[f]);return i=u[n].apply(u,i),r.update(n),i}}),n.extend(r,{on:function(t,i,u){return n.dom.Event.add(r.id,t,i,u)},getXY:function(){return{x:parseInt(r.getStyle("left")),y:parseInt(r.getStyle("top"))}},getSize:function(){var n=u.get(r.id);return{w:parseInt(r.getStyle("width")||n.clientWidth),h:parseInt(r.getStyle("height")||n.clientHeight)}},moveTo:function(n,t){r.setStyles({left:n,top:t})},moveBy:function(n,t){var i=r.getXY();r.moveTo(i.x+n,i.y+t)},resizeTo:function(n,t){r.setStyles({width:n,height:t})},resizeBy:function(n,t){var i=r.getSize();r.resizeTo(i.w+n,i.h+t)},update:function(t){var f;if(n.isIE6&&i.blocker){if(t=t||"",t.indexOf("get")===0||t.indexOf("has")===0||t.indexOf("is")===0)return;if(t=="remove"){u.remove(r.blocker);return}r.blocker?f=u.get(r.blocker):(r.blocker=u.uniqueId(),f=u.add(i.container||u.getRoot(),"iframe",{id:r.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'}),u.setStyle(f,"opacity",0)),u.setStyles(f,{left:r.getStyle("left",1),top:r.getStyle("top",1),width:r.getStyle("width",1),height:r.getStyle("height",1),display:r.getStyle("display",1),zIndex:parseInt(r.getStyle("zIndex",1)||0)-1})}}})}}(tinymce),function(n){var r=n.is,u=n.isIE,t=n.each,i=n.dom.TreeWalker;n.create("tinymce.dom.Selection",{Selection:function(i,r,u,f){var e=this;e.dom=i,e.win=r,e.serializer=u,e.editor=f,t(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(t){e[t]=new n.util.Dispatcher(e)}),e.win.getSelection||(e.tridentSel=new n.dom.TridentSelection(e)),n.isIE&&i.boxModel&&this._fixIESelection(),n.addUnload(e.destroy,e)},setCursorLocation:function(n,t){var i=this,r=i.dom.createRng();r.setStart(n,t),r.setEnd(n,t),i.setRng(r),i.collapse(!1)},getContent:function(n){var t=this,i=t.getRng(),u=t.dom.create("body"),s=t.getSel(),f,e,o;return(n=n||{},f=e="",n.get=!0,n.format=n.format||"html",n.forced_root_block="",t.onBeforeGetContent.dispatch(t,n),n.format=="text")?t.isCollapsed()?"":i.text||(s.toString?s.toString():""):(i.cloneContents?(o=i.cloneContents(),o&&u.appendChild(o)):r(i.item)||r(i.htmlText)?(u.innerHTML="<br>"+(i.item?i.item(0).outerHTML:i.htmlText),u.removeChild(u.firstChild)):u.innerHTML=i.toString(),/^\s/.test(u.innerHTML)&&(f=" "),/\s+$/.test(u.innerHTML)&&(e=" "),n.getInner=!0,n.content=t.isCollapsed()?"":f+t.serializer.serialize(u,n)+e,t.onGetContent.dispatch(t,n),n.content)},setContent:function(n,t){var r=this,i=r.getRng(),f,u=r.win.document,e,o;if(t=t||{format:"html"},t.set=!0,n=t.content=n,t.no_events||r.onBeforeSetContent.dispatch(r,t),n=t.content,i.insertNode){n+='<span id="__caret">_<\/span>',i.startContainer==u&&i.endContainer==u?u.body.innerHTML=n:(i.deleteContents(),u.body.childNodes.length===0?u.body.innerHTML=n:i.createContextualFragment?i.insertNode(i.createContextualFragment(n)):(e=u.createDocumentFragment(),o=u.createElement("div"),e.appendChild(o),o.outerHTML=n,i.insertNode(e))),f=r.dom.get("__caret"),i=u.createRange(),i.setStartBefore(f),i.setEndBefore(f),r.setRng(i),r.dom.remove("__caret");try{r.setRng(i)}catch(s){}}else i.item&&(u.execCommand("Delete",!1,null),i=r.getRng()),/^\s+/.test(n)?(i.pasteHTML('<span id="__mce_tmp">_<\/span>'+n),r.dom.remove("__mce_tmp")):i.pasteHTML(n);t.no_events||r.onSetContent.dispatch(r,t)},getStart:function(){var r=this,t=r.getRng(),n,f,u,i;if(t.duplicate||t.item){if(t.item)return t.item(0);for(u=t.duplicate(),u.collapse(1),n=u.parentElement(),n.ownerDocument!==r.dom.doc&&(n=r.dom.getRoot()),f=i=t.parentElement();i=i.parentNode;)if(i==n){n=f;break}return n}return(n=t.startContainer,n.nodeType==1&&n.hasChildNodes()&&(n=n.childNodes[Math.min(n.childNodes.length-1,t.startOffset)]),n&&n.nodeType==3)?n.parentNode:n},getEnd:function(){var r=this,t=r.getRng(),n,i;return t.duplicate||t.item?t.item?t.item(0):(t=t.duplicate(),t.collapse(0),n=t.parentElement(),n.ownerDocument!==r.dom.doc&&(n=r.dom.getRoot()),n&&n.nodeName=="BODY")?n.lastChild||n:n:(n=t.endContainer,i=t.endOffset,n.nodeType==1&&n.hasChildNodes()&&(n=n.childNodes[i>0?i-1:i]),n&&n.nodeType==3)?n.parentNode:n},getBookmark:function(n,i){function v(n,i){var r=0;return t(h.select(n),function(n,t){n==i&&(r=t)}),r}function y(n){function t(t){var i,r,u,f=t?"start":"end";i=n[f+"Container"],r=n[f+"Offset"],i.nodeType==1&&i.nodeName=="TR"&&(u=i.childNodes,i=u[Math.min(t?r:r-1,u.length-1)],i&&(r=t?0:i.childNodes.length,n["set"+(t?"Start":"End")](i,r)))}return t(!0),t(),n}function p(){function r(n,t){var r=n[t?"startContainer":"endContainer"],o=n[t?"startOffset":"endOffset"],h=[],e,s,c=0;if(r.nodeType==3){if(i)for(e=r.previousSibling;e&&e.nodeType==3;e=e.previousSibling)o+=e.nodeValue.length;h.push(o)}else s=r.childNodes,o>=s.length&&s.length&&(c=1,o=Math.max(0,s.length-1)),h.push(u.dom.nodeIndex(s[o],i)+c);for(;r&&r!=f;r=r.parentNode)h.push(u.dom.nodeIndex(r,i));return h}var t=u.getRng(!0),f=h.getRoot(),n={};return n.start=r(t,!0),u.isCollapsed()||(n.end=r(t)),n}var u=this,h=u.dom,r,f,e,a,o,s,l="﻿",c;if(n==2)return u.tridentSel?u.tridentSel.getBookmark(n):p();if(n)return{rng:u.getRng()};if(r=u.getRng(),e=h.uniqueId(),a=tinyMCE.activeEditor.selection.isCollapsed(),c="overflow:hidden;line-height:0px",r.duplicate||r.item){if(r.item)return s=r.item(0),o=s.nodeName,{name:o,index:v(o,s)};f=r.duplicate();try{r.collapse(),r.pasteHTML('<span data-mce-type="bookmark" id="'+e+'_start" style="'+c+'">'+l+"<\/span>"),a||(f.collapse(!1),r.moveToElementText(f.parentElement()),r.compareEndPoints("StartToEnd",f)===0&&f.move("character",-1),f.pasteHTML('<span data-mce-type="bookmark" id="'+e+'_end" style="'+c+'">'+l+"<\/span>"))}catch(w){return null}}else{if(s=u.getNode(),o=s.nodeName,o=="IMG")return{name:o,index:v(o,s)};f=y(r.cloneRange()),a||(f.collapse(!1),f.insertNode(h.create("span",{"data-mce-type":"bookmark",id:e+"_end",style:c},l))),r=y(r),r.collapse(!0),r.insertNode(h.create("span",{"data-mce-type":"bookmark",id:e+"_start",style:c},l))}return u.moveToBookmark({id:e,keep:1}),{id:e}},moveToBookmark:function(i){function a(n){var r=i[n?"start":"end"],u,t,e,o;if(r){for(e=r[0],t=l,u=r.length-1;u>=1;u--){if(o=t.childNodes,r[u]>o.length-1)return;t=o[r[u]]}t.nodeType===3&&(e=Math.min(r[0],t.nodeValue.length)),t.nodeType===1&&(e=Math.min(r[0],t.childNodes.length)),n?f.setStart(t,e):f.setEnd(t,e)}return!0}function v(u){var f=r.get(i.id+"_"+u),a,e,v,l,y=i.keep;if(f&&(a=f.parentNode,u=="start"?(y?(a=f.firstChild,e=1):e=r.nodeIndex(f),h=o=a,c=s=e):(y?(a=f.firstChild,e=1):e=r.nodeIndex(f),o=a,s=e),!y)){for(l=f.previousSibling,v=f.nextSibling,t(n.grep(f.childNodes),function(n){n.nodeType==3&&(n.nodeValue=n.nodeValue.replace(/\uFEFF/g,""))});f=r.get(i.id+"_"+u);)r.remove(f,1);l&&v&&l.nodeType==v.nodeType&&l.nodeType==3&&!n.isOpera&&(e=l.nodeValue.length,l.appendData(v.nodeValue),r.remove(v),u=="start"?(h=o=l,c=s=e):(o=l,s=e))}}function y(n){return!r.isBlock(n)||n.innerHTML||u||(n.innerHTML='<br data-mce-bogus="1" />'),n}var e=this,r=e.dom,f,l,h,o,c,s;if(i)if(i.start){if(f=r.createRng(),l=r.getRoot(),e.tridentSel)return e.tridentSel.moveToBookmark(i);a(!0)&&a()&&e.setRng(f)}else i.id?(v("start"),v("end"),h&&(f=r.createRng(),f.setStart(y(h),c),f.setEnd(y(o),s),e.setRng(f))):i.name?e.select(r.select(i.name)[i.index]):i.rng&&e.setRng(i.rng)},select:function(t,r){function s(t,r){var f=new i(t,t);do{if(t.nodeType==3&&n.trim(t.nodeValue).length!==0){r?u.setStart(t,0):u.setEnd(t,t.nodeValue.length);return}if(t.nodeName=="BR"){r?u.setStartBefore(t):u.setEndBefore(t);return}}while(t=r?f.next():f.prev())}var e=this,o=e.dom,u=o.createRng(),f;return t&&(f=o.nodeIndex(t),u.setStart(t.parentNode,f),u.setEnd(t.parentNode,f+1),r&&(s(t,1),s(t)),e.setRng(u)),t},isCollapsed:function(){var t=this,n=t.getRng(),i=t.getSel();return!n||n.item?!1:n.compareEndPoints?n.compareEndPoints("StartToEnd",n)===0:!i||n.collapsed},collapse:function(n){var i=this,t=i.getRng(),r;t.item&&(r=t.item(0),t=i.win.document.body.createTextRange(),t.moveToElementText(r)),t.collapse(!!n),i.setRng(t)},getSel:function(){var t=this,n=this.win;return n.getSelection?n.getSelection():n.document.selection},getRng:function(t){var r=this,e,i,f,u=r.win.document;if(t&&r.tridentSel)return r.tridentSel.getRangeAt(0);try{(e=r.getSel())&&(i=e.rangeCount>0?e.getRangeAt(0):e.createRange?e.createRange():u.createRange())}catch(o){}return n.isIE&&i&&i.setStart&&u.selection.createRange().item&&(f=u.selection.createRange().item(0),i=u.createRange(),i.setStartBefore(f),i.setEndAfter(f)),i||(i=u.createRange?u.createRange():u.body.createTextRange()),i.setStart&&i.startContainer.nodeType===9&&i.collapsed&&(f=r.dom.getRoot(),i.setStart(f,0),i.setEnd(f,0)),r.selectedRange&&r.explicitRange&&(i.compareBoundaryPoints(i.START_TO_START,r.selectedRange)===0&&i.compareBoundaryPoints(i.END_TO_END,r.selectedRange)===0?i=r.explicitRange:(r.selectedRange=null,r.explicitRange=null)),i},setRng:function(n,t){var i,r=this;if(r.tridentSel){if(n.cloneRange)try{r.tridentSel.addRange(n);return}catch(u){}try{n.select()}catch(u){}}else if(i=r.getSel(),i){r.explicitRange=n;try{i.removeAllRanges()}catch(u){}i.addRange(n),t===!1&&i.extend&&(i.collapse(n.endContainer,n.endOffset),i.extend(n.startContainer,n.startOffset)),r.selectedRange=i.rangeCount>0?i.getRangeAt(0):null}},setNode:function(n){var t=this;return t.setContent(t.dom.getOuterHTML(n)),n},getNode:function(){function f(n,t){for(var i=n;n&&n.nodeType===3&&n.length===0;)n=t?n.nextSibling:n.previousSibling;return n||i}var u=this,n=u.getRng(),e=u.getSel(),i,t=n.startContainer,r=n.endContainer;return n?n.setStart?(i=n.commonAncestorContainer,!n.collapsed&&(n.startContainer==n.endContainer&&n.endOffset-n.startOffset<2&&n.startContainer.hasChildNodes()&&(i=n.startContainer.childNodes[n.startOffset]),t.nodeType===3&&r.nodeType===3&&(t=t.length===n.startOffset?f(t.nextSibling,!0):t.parentNode,r=n.endOffset===0?f(r.previousSibling,!1):r.parentNode,t&&t===r)))?t:i&&i.nodeType==3?i.parentNode:i:n.item?n.item(0):n.parentElement():u.dom.getRoot()},getSelectedBlocks:function(n,t){var s=this,f=s.dom,r,u,e,o=[],h;if(r=f.getParent(n||s.getStart(),f.isBlock),u=f.getParent(t||s.getEnd(),f.isBlock),r&&o.push(r),r&&u&&r!=u)for(e=r,h=new i(r,f.getRoot());(e=h.next())&&e!=u;)f.isBlock(e)&&o.push(e);return u&&r!=u&&o.push(u),o},isForward:function(){var r=this.dom,n=this.getSel(),t,i;return!n||n.anchorNode==null||n.focusNode==null?!0:(t=r.createRng(),t.setStart(n.anchorNode,n.anchorOffset),t.collapse(!0),i=r.createRng(),i.setStart(n.focusNode,n.focusOffset),i.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,i)<=0)},normalize:function(){function e(n){function y(n,t){for(var r=new i(n,h.getParent(n.parentNode,h.isBlock)||c);n=r[t?"prev":"next"]();)if(n.nodeName==="BR")return!0}function v(n,t){var a,f;for(t=t||o,a=new i(t,h.getParent(t.parentNode,h.isBlock)||c);e=a[n?"prev":"next"]();){if(e.nodeType===3&&e.nodeValue.length>0){o=e,s=n?e.nodeValue.length:0,r=!0;return}if(h.isBlock(e)||l[e.nodeName.toLowerCase()])return;f=e}u&&f&&(o=f,r=!0,s=0)}var o,s,a,h=f.dom,c=h.getRoot(),e,l,p;if(o=t[(n?"start":"end")+"Container"],s=t[(n?"start":"end")+"Offset"],l=h.schema.getNonEmptyElements(),o.nodeType===9&&(o=h.getRoot(),s=0),o===c){if(n&&(e=o.childNodes[s>0?s-1:0],e&&(p=e.nodeName.toLowerCase(),l[e.nodeName]||e.nodeName=="TABLE")))return;if(o.hasChildNodes()&&(o=o.childNodes[Math.min(!n&&s>0?s-1:s,o.childNodes.length-1)],s=0,o.hasChildNodes()&&!/TABLE/.test(o.nodeName))){e=o,a=new i(o,c);do{if(e.nodeType===3&&e.nodeValue.length>0){s=n?0:e.nodeValue.length,o=e,r=!0;break}if(l[e.nodeName.toLowerCase()]){s=h.nodeIndex(e),o=e.parentNode,e.nodeName!="IMG"||n||s++,r=!0;break}}while(e=n?a.next():a.prev())}}u&&(o.nodeType===3&&s===0&&v(!0),o.nodeType===1&&(e=o.childNodes[s],!e||e.nodeName!=="BR"||y(e)||y(e,!0)||v(!0,o.childNodes[s]))),n&&!u&&o.nodeType===3&&s===o.nodeValue.length&&v(!1),r&&t["set"+(n?"Start":"End")](o,s)}var f=this,t,r,u;n.isIE||(t=f.getRng(),u=t.collapsed,e(!0),u||e(),r&&(u&&t.collapse(!0),f.setRng(t,f.isForward())))},selectorChanged:function(n,i){var r=this,u;return r.selectorChangedData||(r.selectorChangedData={},u={},r.editor.onNodeChange.addToTop(function(n,i,f){var e=r.dom,o=e.getParents(f,null,e.getRoot()),s={};t(r.selectorChangedData,function(n,i){t(o,function(r){if(e.is(r,i))return u[i]||(t(n,function(n){n(!0,{node:r,selector:i,parents:o})}),u[i]=n),s[i]=n,!1})}),t(u,function(n,i){s[i]||(delete u[i],t(n,function(n){n(!1,{node:f,selector:i,parents:o})}))})})),r.selectorChangedData[n]||(r.selectorChangedData[n]=[]),r.selectorChangedData[n].push(i),r},scrollIntoView:function(n){var t,i,r=this,u=r.dom;i=u.getViewPort(r.editor.getWin()),t=u.getPos(n).y,(t<i.y||t+25>i.y+i.h)&&r.editor.getWin().scrollTo(0,t<i.y?t:t-i.h+25)},destroy:function(t){var i=this;i.win=null,t||n.removeUnload(i.destroy)},_fixIESelection:function(){function e(n,t){var i=s.createTextRange();try{i.moveToPoint(n,t)}catch(r){i=null}return i}function o(n){var i;n.button?(i=e(n.x,n.y),i&&(i.compareEndPoints("StartToStart",t)>0?i.setEndPoint("StartToStart",t):i.setEndPoint("EndToEnd",t),i.select())):r()}function r(){var f=n.selection.createRange();t&&!f.item&&f.compareEndPoints("StartToEnd",f)===0&&t.select(),i.unbind(n,"mouseup",r),i.unbind(n,"mousemove",o),t=u=0}var i=this.dom,n=i.doc,s=n.body,u,t,f;n.documentElement.unselectable=!0,i.bind(n,["mousedown","contextmenu"],function(s){if(s.target.nodeName==="HTML"){if(u&&r(),f=n.documentElement,f.scrollHeight>f.clientHeight)return;u=1,t=e(s.x,s.y),t&&(i.bind(n,"mouseup",r),i.bind(n,"mousemove",o),i.win.focus(),t.select())}})}})}(tinymce),function(n){n.dom.Serializer=function(t,i,r){var f,e,o=n.isIE,s=n.each,u;return t.apply_source_formatting||(t.indent=!1),i=i||n.DOM,r=r||new n.html.Schema(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs="remove_trailing_brs"in t?t.remove_trailing_brs:!0,f=new n.util.Dispatcher(self),e=new n.util.Dispatcher(self),u=new n.html.DomParser(t,r),u.addAttributeFilter("src,href,style",function(n,r){for(var e=n.length,f,u,o="data-mce-"+r,s=t.url_converter,h=t.url_converter_scope,c;e--;)f=n[e],u=f.attributes.map[o],u!==c?(f.attr(r,u.length>0?u:null),f.attr(o,null)):(u=f.attributes.map[r],r==="style"?u=i.serializeStyle(i.parseStyle(u),f.name):s&&(u=s.call(h,u,r,f.name)),f.attr(r,u.length>0?u:null))}),u.addAttributeFilter("class",function(n){for(var r=n.length,t,i;r--;)t=n[r],i=t.attr("class").replace(/(?:^|\s)mce(Item\w+|Selected)(?!\S)/g,""),t.attr("class",i.length>0?i:null)}),u.addAttributeFilter("data-mce-type",function(n,t,i){for(var u=n.length,r;u--;)r=n[u],r.attributes.map["data-mce-type"]!=="bookmark"||i.cleanup||r.remove()}),u.addAttributeFilter("data-mce-expando",function(n,t){for(var i=n.length;i--;)n[i].attr(t,null)}),u.addNodeFilter("noscript",function(t){for(var r=t.length,i;r--;)i=t[r].firstChild,i&&(i.value=n.html.Entities.decode(i.value))}),u.addNodeFilter("script,style",function(n,t){function f(n){return n.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var u=n.length,i,r;u--;)i=n[u],r=i.firstChild?i.firstChild.value:"",t==="script"?(i.attr("type",(i.attr("type")||"text/javascript").replace(/^mce\-/,"")),r.length>0&&(i.firstChild.value="// <![CDATA[\n"+f(r)+"\n// ]\]>")):r.length>0&&(i.firstChild.value="<!--\n"+f(r)+"\n-->")}),u.addNodeFilter("#comment",function(n){for(var i=n.length,t;i--;)t=n[i],t.value.indexOf("[CDATA[")===0?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):t.value.indexOf("mce:protected ")===0&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),u.addNodeFilter("xml:namespace,input",function(n,t){for(var r=n.length,i;r--;)i=n[r],i.type===7?i.remove():i.type===1&&(t!=="input"||"type"in i.attributes.map||i.attr("type","text"))}),t.fix_list_elements&&u.addNodeFilter("ul,ol",function(n){for(var r=n.length,t,i;r--;)t=n[r],i=t.parent,(i.name==="ul"||i.name==="ol")&&t.prev&&t.prev.name==="li"&&t.prev.append(t)}),u.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(n,t){for(var i=n.length;i--;)n[i].attr(t,null)}),{schema:r,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,onPreProcess:f,onPostProcess:e,serialize:function(h,c){var a,l,v,y,p;return o&&i.select("script,style,select,map").length>0?(p=h.innerHTML,h=h.cloneNode(!1),i.setHTML(h,p)):h=h.cloneNode(!0),a=h.ownerDocument.implementation,a.createHTMLDocument&&(l=a.createHTMLDocument(""),s(h.nodeName=="BODY"?h.childNodes:[h],function(n){l.body.appendChild(l.importNode(n,!0))}),h=h.nodeName!="BODY"?l.body.firstChild:l.body,v=i.doc,i.doc=l),c=c||{},c.format=c.format||"html",c.no_events||(c.node=h,f.dispatch(self,c)),y=new n.html.Serializer(t,r),c.content=y.serialize(u.parse(n.trim(c.getInner?h.innerHTML:i.getOuterHTML(h)),c)),c.cleanup||(c.content=c.content.replace(/\uFEFF/g,"")),c.no_events||e.dispatch(self,c),v&&(i.doc=v),c.node=null,c.content},addRules:function(n){r.addValidElements(n)},setRules:function(n){r.setValidElements(n)}}}}(tinymce),function(n){n.dom.ScriptLoader=function(){function c(t,i){function s(){f.remove(o),r&&(r.onreadystatechange=r.onload=r=null),i()}function h(){typeof console!="undefined"&&console.log&&console.log("Failed to load: "+t)}var c=this,f=n.DOM,r,u,e,o;if(o=f.uniqueId(),n.isIE6&&(u=new n.util.URI(t),e=location,u.host==e.hostname&&u.port==e.port&&u.protocol+":"==e.protocol&&u.protocol.toLowerCase()!="file")){n.util.XHR.send({url:n._addVer(u.getURI()),success:function(n){var t=f.create("script",{type:"text/javascript"});t.text=n,document.getElementsByTagName("head")[0].appendChild(t),f.remove(t),s()},error:h});return}r=document.createElement("script"),r.id=o,r.type="text/javascript",r.src=n._addVer(t),n.isIE||(r.onload=s),r.onerror=h,n.isOpera||(r.onreadystatechange=function(){var n=r.readyState;(n=="complete"||n=="loaded")&&s()}),(document.getElementsByTagName("head")[0]||document.body).appendChild(r)}var h=0,e=1,r=2,t={},o=[],i={},u=[],f=0,s;this.isDone=function(n){return t[n]==r},this.markDone=function(n){t[n]=r},this.add=this.load=function(n,r,u){var f=t[n];f==s&&(o.push(n),t[n]=h),r&&(i[n]||(i[n]=[]),i[n].push({func:r,scope:u||this}))},this.loadQueue=function(n,t){this.loadScripts(o,n,t)},this.loadScripts=function(o,h,l){function v(t){n.each(i[t],function(n){n.func.call(n.scope)}),i[t]=s}var a;u.push({func:h,scope:l||this}),a=function(){var i=n.grep(o);o.length=0,n.each(i,function(n){if(t[n]==r){v(n);return}t[n]!=e&&(t[n]=e,f++,c(n,function(){t[n]=r,f--,v(n),a()}))}),f||(n.each(u,function(n){n.func.call(n.scope)}),u.length=0)},a()}},n.ScriptLoader=new n.dom.ScriptLoader}(tinymce),function(n){n.dom.RangeUtils=function(t){this.walk=function(i,r){function y(n){var t;return t=n[0],t.nodeType===3&&t===f&&p>=t.nodeValue.length&&n.splice(0,1),t=n[n.length-1],w===0&&n.length>0&&t===e&&t.nodeType===3&&n.splice(n.length-1,1),n}function b(n,t,i){for(var r=[];n&&n!=i;n=n[t])r.push(n);return r}function k(n,t){do{if(n.parentNode==t)return n;n=n.parentNode}while(n)}function l(n,t,i){var f=i?"nextSibling":"previousSibling";for(u=n,a=u.parentNode;u&&u!=t;u=a)a=u.parentNode,s=b(u==n?u:u[f],f),s.length&&(i||s.reverse(),r(y(s)))}var f=i.startContainer,p=i.startOffset,e=i.endContainer,w=i.endOffset,o,h,c,u,a,s,v;if(v=t.select("td.mceSelected,th.mceSelected"),v.length>0){n.each(v,function(n){r([n])});return}if(f.nodeType==1&&f.hasChildNodes()&&(f=f.childNodes[p]),e.nodeType==1&&e.hasChildNodes()&&(e=e.childNodes[Math.min(w-1,e.childNodes.length-1)]),f==e)return r(y([f]));for(o=t.findCommonAncestor(f,e),u=f;u;u=u.parentNode){if(u===e)return l(f,o,!0);if(u===o)break}for(u=e;u;u=u.parentNode){if(u===f)return l(e,o);if(u===o)break}h=k(f,o)||f,c=k(e,o)||e,l(f,h,!0),s=b(h==f?h:h.nextSibling,"nextSibling",c==e?c.nextSibling:c),s.length&&r(y(s)),l(e,c)},this.split=function(n){function f(n,t){return n.splitText(t)}var i=n.startContainer,r=n.startOffset,t=n.endContainer,u=n.endOffset;return i==t&&i.nodeType==3?r>0&&r<i.nodeValue.length&&(t=f(i,r),i=t.previousSibling,u>r?(u=u-r,i=t=f(t,u).previousSibling,u=t.nodeValue.length,r=0):u=0):(i.nodeType==3&&r>0&&r<i.nodeValue.length&&(i=f(i,r),r=0),t.nodeType==3&&u>0&&u<t.nodeValue.length&&(t=f(t,u).previousSibling,u=t.nodeValue.length)),{startContainer:i,startOffset:r,endContainer:t,endOffset:u}}},n.dom.RangeUtils.compareRanges=function(n,t){if(n&&t)if(n.item||n.duplicate){if(n.item&&t.item&&n.item(0)===t.item(0)||n.isEqual&&t.isEqual&&t.isEqual(n))return!0}else return n.startContainer==t.startContainer&&n.startOffset==t.startOffset;return!1}}(tinymce),function(n){var t=n.dom.Event,i=n.each;n.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(r,u){var f=this,s=r.root,e=r.items,y=r.enableUpDown,p=r.enableLeftRight||!r.enableUpDown,w=r.excludeFromTabOrder,h,c,l,a,o,v;u=u||n.DOM,h=function(n){o=n.target.id},c=function(n){u.setAttrib(n.target.id,"tabindex","-1")},a=function(){var n=u.get(o);u.setAttrib(n,"tabindex","0"),n.focus()},f.focus=function(){u.get(o).focus()},f.destroy=function(){i(e,function(n){var t=u.get(n.id);u.unbind(t,"focus",h),u.unbind(t,"blur",c)});var n=u.get(s);u.unbind(n,"focus",a),u.unbind(n,"keydown",l),e=u=s=f.focus=h=c=l=a=null,f.destroy=function(){}},f.moveFocus=function(n,s){var h=-1,l=f.controls,c;if(o){if(i(e,function(n,t){if(n.id===o)return h=t,!1}),h+=n,h<0?h=e.length-1:h>=e.length&&(h=0),c=e[h],u.setAttrib(o,"tabindex","-1"),u.setAttrib(c.id,"tabindex","0"),u.get(c.id).focus(),r.actOnFocus)r.onAction(c.id);s&&t.cancel(s)}},l=function(n){switch(n.keyCode){case 37:p&&f.moveFocus(-1);break;case 39:p&&f.moveFocus(1);break;case 38:y&&f.moveFocus(-1);break;case 40:y&&f.moveFocus(1);break;case 27:r.onCancel&&(r.onCancel(),t.cancel(n));break;case 14:case 13:case 32:if(r.onAction){r.onAction(o);t.cancel(n)}}},i(e,function(n,t){var r,i;n.id||(n.id=u.uniqueId("_mce_item_")),i=u.get(n.id),w?(u.bind(i,"blur",c),r="-1"):r=t===0?"0":"-1",i.setAttribute("tabindex",r),u.bind(i,"focus",h)}),e[0]&&(o=e[0].id),u.setAttrib(s,"tabindex","-1"),v=u.get(s),u.bind(v,"focus",a),u.bind(v,"keydown",l)}})}(tinymce),function(n){var t=n.DOM,i=n.is;n.create("tinymce.ui.Control",{Control:function(t,i,r){this.id=t,this.settings=i=i||{},this.rendered=!1,this.onRender=new n.util.Dispatcher(this),this.classPrefix="",this.scope=i.scope||this,this.disabled=0,this.active=0,this.editor=r},setAriaProperty:function(n,i){var r=t.get(this.id+"_aria")||t.get(this.id);r&&t.setAttrib(r,"aria-"+n,!!i)},focus:function(){t.get(this.id).focus()},setDisabled:function(n){n!=this.disabled&&(this.setAriaProperty("disabled",n),this.setState("Disabled",n),this.setState("Enabled",!n),this.disabled=n)},isDisabled:function(){return this.disabled},setActive:function(n){n!=this.active&&(this.setState("Active",n),this.active=n,this.setAriaProperty("pressed",n))},isActive:function(){return this.active},setState:function(n,i){var r=t.get(this.id);n=this.classPrefix+n,i?t.addClass(r,n):t.removeClass(r,n)},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(n){t.setHTML(n,this.renderHTML())},postRender:function(){var n=this,t;i(n.disabled)&&(t=n.disabled,n.disabled=-1,n.setDisabled(t)),i(n.active)&&(t=n.active,n.active=-1,n.setActive(t))},remove:function(){t.remove(this.id),this.destroy()},destroy:function(){n.dom.Event.clear(this.id)}})}(tinymce),tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(n,t,i){this.parent(n,t,i),this.controls=[],this.lookup={}},add:function(n){return this.lookup[n.id]=n,this.controls.push(n),n},get:function(n){return this.lookup[n]}}),tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(n,t){this.parent(n,t),this.classPrefix="mceSeparator",this.setDisabled(!0)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}}),function(n){var t=n.is,i=n.DOM,r=n.each,u=n.walk;n.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(n,t){this.parent(n,t),this.classPrefix="mceMenuItem"},setSelected:function(n){this.setState("Selected",n),this.setAriaProperty("checked",!!n),this.selected=n},isSelected:function(){return this.selected},postRender:function(){var n=this;n.parent(),t(n.selected)&&n.setSelected(n.selected)}})}(tinymce),function(n){var r=n.is,i=n.DOM,u=n.each,t=n.walk;n.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(t,i){var r=this;r.parent(t,i),r.items={},r.collapsed=!1,r.menuCount=0,r.onAddItem=new n.util.Dispatcher(this)},expand:function(n){var i=this;n&&t(i,function(n){n.expand&&n.expand()},"items",i),i.collapsed=!1},collapse:function(n){var i=this;n&&t(i,function(n){n.collapse&&n.collapse()},"items",i),i.collapsed=!0},isCollapsed:function(){return this.collapsed},add:function(t){return t.settings||(t=new n.ui.MenuItem(t.id||i.uniqueId(),t)),this.onAddItem.dispatch(this,t),this.items[t.id]=t},addSeparator:function(){return this.add({separator:!0})},addMenu:function(n){return n.collapse||(n=this.createMenu(n)),this.menuCount++,this.add(n)},hasMenus:function(){return this.menuCount!==0},remove:function(n){delete this.items[n.id]},removeAll:function(){var n=this;t(n,function(n){n.removeAll?n.removeAll():n.remove(),n.destroy()},"items",n),n.items={}},createMenu:function(t){var r=new n.ui.Menu(t.id||i.uniqueId(),t);return r.onAddItem.add(this.onAddItem.dispatch,this.onAddItem),r}})}(tinymce),function(n){var f=n.is,t=n.DOM,r=n.each,i=n.dom.Event,u=n.dom.Element;n.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(i,r){r=r||{},r.container=r.container||t.doc.body,r.offset_x=r.offset_x||0,r.offset_y=r.offset_y||0,r.vp_offset_x=r.vp_offset_x||0,r.vp_offset_y=r.vp_offset_y||0,f(r.icons)&&!r.icons&&(r["class"]+=" mceNoIcons"),this.parent(i,r),this.onShowMenu=new n.util.Dispatcher(this),this.onHideMenu=new n.util.Dispatcher(this),this.classPrefix="mceMenu"},createMenu:function(i){var u=this,r=u.settings,f;return i.container=i.container||r.container,i.parent=u,i.constrain=i.constrain||r.constrain,i["class"]=i["class"]||r["class"],i.vp_offset_x=i.vp_offset_x||r.vp_offset_x,i.vp_offset_y=i.vp_offset_y||r.vp_offset_y,i.keyboard_focus=r.keyboard_focus,f=new n.ui.DropMenu(i.id||t.uniqueId(),i),f.onAddItem.add(u.onAddItem.dispatch,u.onAddItem),f},focus:function(){var n=this;n.keyboardNav&&n.keyboardNav.focus()},update:function(){var i=this,n=i.settings,r=t.get("menu_"+i.id+"_tbl"),e=t.get("menu_"+i.id+"_co"),u,f;u=n.max_width?Math.min(r.offsetWidth,n.max_width):r.offsetWidth,f=n.max_height?Math.min(r.offsetHeight,n.max_height):r.offsetHeight,t.boxModel?i.element.setStyles({width:u,height:f}):i.element.setStyles({width:u+2,height:f+2}),n.max_width&&t.setStyle(e,"width",u),n.max_height&&(t.setStyle(e,"height",f),r.clientHeight<n.max_height&&t.setStyle(e,"overflow","hidden"))},showMenu:function(f,e,o){var s=this,c=s.settings,h,l=t.getViewPort(),v,p,w,b,y=2,a,k=s.classPrefix;(s.collapse(1),s.isMenuVisible)||(s.rendered?h=t.get("menu_"+s.id):(h=t.add(s.settings.container,s.renderNode()),r(s.items,function(n){n.postRender()}),s.element=new u("menu_"+s.id,{blocker:1,container:c.container})),n.isOpera||t.setStyles(h,{left:-65535,top:-65535}),t.show(h),s.update(),f+=c.offset_x||0,e+=c.offset_y||0,l.w-=4,l.h-=4,c.constrain&&(v=h.clientWidth-y,p=h.clientHeight-y,w=l.x+l.w,b=l.y+l.h,f+c.vp_offset_x+v>w&&(f=o?o-v:Math.max(0,w-c.vp_offset_x-v)),e+c.vp_offset_y+p>b&&(e=Math.max(0,b-c.vp_offset_y-p))),t.setStyles(h,{left:f,top:e}),s.element.update(),s.isMenuVisible=1,s.mouseClickFunc=i.add(h,"click",function(n){var i;if(n=n.target,n&&(n=t.getParent(n,"tr"))&&!t.hasClass(n,k+"ItemSub")){if(i=s.items[n.id],i.isDisabled())return;for(a=s;a;)a.hideMenu&&a.hideMenu(),a=a.settings.parent;if(i.settings.onclick)i.settings.onclick(n);return!1}}),s.hasMenus()&&(s.mouseOverFunc=i.add(h,"mouseover",function(n){var i,r;if(n=n.target,n&&(n=t.getParent(n,"tr"))){if(i=s.items[n.id],s.lastMenu&&s.lastMenu.collapse(1),i.isDisabled())return;n&&t.hasClass(n,k+"ItemSub")&&(r=t.getRect(n),i.showMenu(r.x+r.w-y,r.y-y,r.x),s.lastMenu=i,t.addClass(t.get(i.id).firstChild,k+"ItemActive"))}})),i.add(h,"keydown",s._keyHandler,s),s.onShowMenu.dispatch(s),c.keyboard_focus&&s._setupKeyboardNav())},hideMenu:function(n){var r=this,u=t.get("menu_"+r.id),f;r.isMenuVisible&&(r.keyboardNav&&r.keyboardNav.destroy(),i.remove(u,"mouseover",r.mouseOverFunc),i.remove(u,"click",r.mouseClickFunc),i.remove(u,"keydown",r._keyHandler),t.hide(u),r.isMenuVisible=0,n||r.collapse(1),r.element&&r.element.hide(),(f=t.get(r.id))&&t.removeClass(f.firstChild,r.classPrefix+"ItemActive"),r.onHideMenu.dispatch(r))},add:function(n){var i=this,r;return n=i.parent(n),i.isRendered&&(r=t.get("menu_"+i.id))&&i._add(t.select("tbody",r)[0],n),n},collapse:function(n){this.parent(n),this.hideMenu(1)},remove:function(n){return t.remove(n.id),this.destroy(),this.parent(n)},destroy:function(){var n=this,r=t.get("menu_"+n.id);n.keyboardNav&&n.keyboardNav.destroy(),i.remove(r,"mouseover",n.mouseOverFunc),i.remove(t.select("a",r),"focus",n.mouseOverFunc),i.remove(r,"click",n.mouseClickFunc),i.remove(r,"keydown",n._keyHandler),n.element&&n.element.remove(),t.remove(r)},renderNode:function(){var n=this,i=n.settings,o,s,e,f;return f=t.create("div",{role:"listbox",id:"menu_"+n.id,"class":i["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"}),n.settings.parent&&t.setAttrib(f,"aria-parent","menu_"+n.settings.parent.id),e=t.add(f,"div",{role:"presentation",id:"menu_"+n.id+"_co","class":n.classPrefix+(i["class"]?" "+i["class"]:"")}),n.element=new u("menu_"+n.id,{blocker:1,container:i.container}),i.menu_line&&t.add(e,"span",{"class":n.classPrefix+"Line"}),o=t.add(e,"table",{role:"presentation",id:"menu_"+n.id+"_tbl",border:0,cellPadding:0,cellSpacing:0}),s=t.add(o,"tbody"),r(n.items,function(t){n._add(s,t)}),n.rendered=!0,f},_setupKeyboardNav:function(){var r,u,i=this;r=t.get("menu_"+i.id),u=t.select("a[role=option]","menu_"+i.id),u.splice(0,0,r),i.keyboardNav=new n.ui.KeyboardNavigation({root:"menu_"+i.id,items:u,onCancel:function(){i.hideMenu()},enableUpDown:!0}),r.focus()},_keyHandler:function(n){var t=this;switch(n.keyCode){case 37:t.settings.parent&&(t.hideMenu(),t.settings.parent.focus(),i.cancel(n));break;case 39:t.mouseOverFunc&&t.mouseOverFunc(n)}},_add:function(n,i){var r,u=i.settings,o,f,s,e=this.classPrefix,h;if(u.separator){f=t.add(n,"tr",{id:i.id,"class":e+"ItemSeparator"}),t.add(f,"td",{"class":e+"ItemSeparator"}),(r=f.previousSibling)&&t.addClass(r,"mceLast");return}r=f=t.add(n,"tr",{id:i.id,"class":e+"Item "+e+"ItemEnabled"}),r=s=t.add(r,u.titleItem?"th":"td"),r=o=t.add(r,"a",{id:i.id+"_aria",role:u.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"}),u.parent&&(t.setAttrib(o,"aria-haspopup","true"),t.setAttrib(o,"aria-owns","menu_"+i.id)),t.addClass(s,u["class"]),h=t.add(r,"span",{"class":"mceIcon"+(u.icon?" mce_"+u.icon:"")}),u.icon_src&&t.add(h,"img",{src:u.icon_src}),r=t.add(r,u.element||"span",{"class":"mceText",title:i.settings.title},i.settings.title),i.settings.style&&(typeof i.settings.style=="function"&&(i.settings.style=i.settings.style()),t.setAttrib(r,"style",i.settings.style)),n.childNodes.length==1&&t.addClass(f,"mceFirst"),(r=f.previousSibling)&&t.hasClass(r,e+"ItemSeparator")&&t.addClass(f,"mceFirst"),i.collapse&&t.addClass(f,e+"ItemSub"),(r=f.previousSibling)&&t.removeClass(r,"mceLast"),t.addClass(f,"mceLast")}})}(tinymce),function(n){var t=n.DOM;n.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(n,t,i){this.parent(n,t,i),this.classPrefix="mceButton"},renderHTML:function(){var r=this.classPrefix,n=this.settings,u,i;return i=t.encode(n.label||""),u='<a role="button" id="'+this.id+'" href="javascript:;" class="'+r+" "+r+"Enabled "+n["class"]+(i?" "+r+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+t.encode(n.title)+'">',u+=!n.image||this.editor&&this.editor.forcedHighContrastMode?'<span class="mceIcon '+n["class"]+'"><\/span>'+(i?'<span class="'+r+'Label">'+i+"<\/span>":""):'<span class="mceIcon '+n["class"]+'"><img class="mceIcon" src="'+n.image+'" alt="'+t.encode(n.title)+'" /><\/span>'+(i?'<span class="'+r+'Label">'+i+"<\/span>":""),u+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+n.title+"<\/span>",u+"<\/a>"},postRender:function(){var t=this,i=t.settings,r;n.isIE&&t.editor&&n.dom.Event.add(t.id,"mousedown",function(){var n=t.editor.selection.getNode().nodeName;r=n==="IMG"?t.editor.selection.getBookmark():null}),n.dom.Event.add(t.id,"click",function(u){if(!t.isDisabled())return n.isIE&&t.editor&&r!==null&&t.editor.selection.moveToBookmark(r),i.onclick.call(i.scope,u)}),n.dom.Event.add(t.id,"keyup",function(r){if(!t.isDisabled()&&r.keyCode==n.VK.SPACEBAR)return i.onclick.call(i.scope,r)})}})}(tinymce),function(n){var t=n.DOM,i=n.dom.Event,r=n.each,u=n.util.Dispatcher,f;n.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(t,i,r){var f=this;f.parent(t,i,r),f.items=[],f.onChange=new u(f),f.onPostRender=new u(f),f.onAdd=new u(f),f.onRenderMenu=new n.util.Dispatcher(this),f.classPrefix="mceListBox",f.marked={}},select:function(n){var t=this,i,u;if(t.marked={},n==f)return t.selectByIndex(-1);u=n&&typeof n=="function"?n:function(t){return t==n},n!=t.selectedValue&&(r(t.items,function(n,r){if(u(n.value))return i=1,t.selectByIndex(r),!1}),i||t.selectByIndex(-1))},selectByIndex:function(n){var i=this,r,u,f;i.marked={},n!=i.selectedIndex&&(r=t.get(i.id+"_text"),f=t.get(i.id+"_voiceDesc"),u=i.items[n],u?(i.selectedValue=u.value,i.selectedIndex=n,t.setHTML(r,t.encode(u.title)),t.setHTML(f,i.settings.title+" - "+u.title),t.removeClass(r,"mceTitle"),t.setAttrib(i.id,"aria-valuenow",u.title)):(t.setHTML(r,t.encode(i.settings.title)),t.setHTML(f,t.encode(i.settings.title)),t.addClass(r,"mceTitle"),i.selectedValue=i.selectedIndex=null,t.setAttrib(i.id,"aria-valuenow",i.settings.title)),r=0)},mark:function(n){this.marked[n]=!0},add:function(t,i,r){var u=this;r=r||{},r=n.extend(r,{title:t,value:i}),u.items.push(r),u.onAdd.dispatch(u,r)},getLength:function(){return this.items.length},renderHTML:function(){var i="",n=this,r=n.settings,u=n.classPrefix;return i='<span role="listbox" aria-haspopup="true" aria-labelledby="'+n.id+'_voiceDesc" aria-describedby="'+n.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+n.id+'" cellpadding="0" cellspacing="0" class="'+u+" "+u+"Enabled"+(r["class"]?" "+r["class"]:"")+'"><tbody><tr>',i+="<td>"+t.createHTML("span",{id:n.id+"_voiceDesc","class":"voiceLabel",style:"display:none;"},n.settings.title),i+=t.createHTML("a",{id:n.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},t.encode(n.settings.title))+"<\/td>",i+="<td>"+t.createHTML("a",{id:n.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">▼<\/span><\/span>')+"<\/td>",i+"<\/tr><\/tbody><\/table><\/span>"},showMenu:function(){var u=this,e,o=t.get(this.id),f;if(!u.isDisabled()&&u.items.length!==0){if(u.menu&&u.menu.isMenuVisible)return u.hideMenu();u.isMenuRendered||(u.renderMenu(),u.isMenuRendered=!0),e=t.getPos(o),f=u.menu,f.settings.offset_x=e.x,f.settings.offset_y=e.y,f.settings.keyboard_focus=!n.isOpera,r(u.items,function(n){f.items[n.id]&&f.items[n.id].setSelected(0)}),r(u.items,function(n){f.items[n.id]&&u.marked[n.value]&&f.items[n.id].setSelected(1),n.value===u.selectedValue&&f.items[n.id].setSelected(1)}),f.showMenu(0,o.clientHeight),i.add(t.doc,"mousedown",u.hideMenu,u),t.addClass(u.id,u.classPrefix+"Selected")}},hideMenu:function(n){var r=this;if(r.menu&&r.menu.isMenuVisible){if(t.removeClass(r.id,r.classPrefix+"Selected"),n&&n.type=="mousedown"&&(n.target.id==r.id+"_text"||n.target.id==r.id+"_open"))return;n&&t.getParent(n.target,".mceMenu")||(t.removeClass(r.id,r.classPrefix+"Selected"),i.remove(t.doc,"mousedown",r.hideMenu,r),r.menu.hideMenu())}},renderMenu:function(){var n=this,i;i=n.settings.control_manager.createDropMenu(n.id+"_menu",{menu_line:1,"class":n.classPrefix+"Menu mceNoIcons",max_width:250,max_height:150}),i.onHideMenu.add(function(){n.hideMenu(),n.focus()}),i.add({title:n.settings.title,"class":"mceMenuItemTitle",onclick:function(){n.settings.onselect("")!==!1&&n.select("")}}),r(n.items,function(r){r.value===f?i.add({title:r.title,role:"option","class":"mceMenuItemTitle",onclick:function(){n.settings.onselect("")!==!1&&n.select("")}}):(r.id=t.uniqueId(),r.role="option",r.onclick=function(){n.settings.onselect(r.value)!==!1&&n.select(r.value)},i.add(r))}),n.onRenderMenu.dispatch(n,i),n.menu=i},postRender:function(){var r=this,u=r.classPrefix;i.add(r.id,"click",r.showMenu,r),i.add(r.id,"keydown",function(n){n.keyCode==32&&(r.showMenu(n),i.cancel(n))}),i.add(r.id,"focus",function(){r._focused||(r.keyDownHandler=i.add(r.id,"keydown",function(n){n.keyCode==40&&(r.showMenu(),i.cancel(n))}),r.keyPressHandler=i.add(r.id,"keypress",function(n){var t;if(n.keyCode==13){t=r.selectedValue,r.selectedValue=null,i.cancel(n);r.settings.onselect(t)}})),r._focused=1}),i.add(r.id,"blur",function(){i.remove(r.id,"keydown",r.keyDownHandler),i.remove(r.id,"keypress",r.keyPressHandler),r._focused=0}),(n.isIE6||!t.boxModel)&&(i.add(r.id,"mouseover",function(){t.hasClass(r.id,u+"Disabled")||t.addClass(r.id,u+"Hover")}),i.add(r.id,"mouseout",function(){t.hasClass(r.id,u+"Disabled")||t.removeClass(r.id,u+"Hover")})),r.onPostRender.dispatch(r,t.get(r.id))},destroy:function(){this.parent(),i.clear(this.id+"_text"),i.clear(this.id+"_open")}})}(tinymce),function(n){var t=n.DOM,i=n.dom.Event,r=n.each,f=n.util.Dispatcher,u;n.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(n,t){this.parent(n,t),this.classPrefix="mceNativeListBox"},setDisabled:function(n){t.get(this.id).disabled=n,this.setAriaProperty("disabled",n)},isDisabled:function(){return t.get(this.id).disabled},select:function(n){var t=this,i,f;if(n==u)return t.selectByIndex(-1);f=n&&typeof n=="function"?n:function(t){return t==n},n!=t.selectedValue&&(r(t.items,function(n,r){if(f(n.value))return i=1,t.selectByIndex(r),!1}),i||t.selectByIndex(-1))},selectByIndex:function(n){t.get(this.id).selectedIndex=n+1,this.selectedValue=this.items[n]?this.items[n].value:null},add:function(n,i,r){var f,u=this;r=r||{},r.value=i,u.isRendered()&&t.add(t.get(this.id),"option",r,n),f={title:n,value:i,attribs:r},u.items.push(f),u.onAdd.dispatch(u,f)},getLength:function(){return this.items.length},renderHTML:function(){var i,n=this;return i=t.createHTML("option",{value:""},"-- "+n.settings.title+" --"),r(n.items,function(n){i+=t.createHTML("option",{value:n.value},n.title)}),i=t.createHTML("select",{id:n.id,"class":"mceNativeListBox","aria-labelledby":n.id+"_aria"},i),i+=t.createHTML("span",{id:n.id+"_aria",style:"display: none"},n.settings.title)},postRender:function(){function f(n){var t=r.items[n.target.selectedIndex-1];if(t&&(t=t.value)&&(r.onChange.dispatch(r,t),r.settings.onselect))r.settings.onselect(t)}var r=this,e,u=!0;r.rendered=!0,i.add(r.id,"change",f),i.add(r.id,"keydown",function(t){var o;return(i.remove(r.id,"change",e),u=!1,o=i.add(r.id,"blur",function(){u||(u=!0,i.add(r.id,"change",f),i.remove(r.id,"blur",o))}),n.isWebKit&&(t.keyCode==37||t.keyCode==39))?i.prevent(t):t.keyCode==13||t.keyCode==32?(f(t),i.cancel(t)):void 0}),r.onPostRender.dispatch(r,t.get(r.id))}})}(tinymce),function(n){var t=n.DOM,i=n.dom.Event,r=n.each;n.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(i,r,u){this.parent(i,r,u),this.onRenderMenu=new n.util.Dispatcher(this),r.menu_container=r.menu_container||t.doc.body},showMenu:function(){var n=this,e,u,f=t.get(n.id),r;if(!n.isDisabled()){if(n.isMenuRendered||(n.renderMenu(),n.isMenuRendered=!0),n.isMenuVisible)return n.hideMenu();e=t.getPos(n.settings.menu_container),u=t.getPos(f),r=n.menu,r.settings.offset_x=u.x,r.settings.offset_y=u.y,r.settings.vp_offset_x=u.x,r.settings.vp_offset_y=u.y,r.settings.keyboard_focus=n._focused,r.showMenu(0,f.firstChild.clientHeight),i.add(t.doc,"mousedown",n.hideMenu,n),n.setState("Selected",1),n.isMenuVisible=1}},renderMenu:function(){var n=this,t;t=n.settings.control_manager.createDropMenu(n.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:n.settings.icons}),t.onHideMenu.add(function(){n.hideMenu(),n.focus()}),n.onRenderMenu.dispatch(n,t),n.menu=t},hideMenu:function(n){var r=this;n&&n.type=="mousedown"&&t.getParent(n.target,function(n){return n.id===r.id||n.id===r.id+"_open"})||(n&&t.getParent(n.target,".mceMenu")||(r.setState("Selected",0),i.remove(t.doc,"mousedown",r.hideMenu,r),r.menu&&r.menu.hideMenu()),r.isMenuVisible=0)},postRender:function(){var n=this,t=n.settings;i.add(n.id,"click",function(){if(!n.isDisabled()){if(t.onclick)t.onclick(n.value);n.showMenu()}})}})}(tinymce),function(n){var i=n.DOM,t=n.dom.Event,r=n.each;n.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(n,t,i){this.parent(n,t,i),this.classPrefix="mceSplitButton"},renderHTML:function(){var t,r=this,n=r.settings,u;return t="<tbody><tr>",u=n.image?i.createHTML("img ",{src:n.image,role:"presentation","class":"mceAction "+n["class"]}):i.createHTML("span",{"class":"mceAction "+n["class"]},""),u+=i.createHTML("span",{"class":"mceVoiceLabel mceIconOnly",id:r.id+"_voice",style:"display:none;"},n.title),t+="<td >"+i.createHTML("a",{role:"button",id:r.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+n["class"],onclick:"return false;",onmousedown:"return false;",title:n.title},u)+"<\/td>",u=i.createHTML("span",{"class":"mceOpen "+n["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">▼<\/span>'),t+="<td >"+i.createHTML("a",{role:"button",id:r.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+n["class"],onclick:"return false;",onmousedown:"return false;",title:n.title},u)+"<\/td>",t+="<\/tr><\/tbody>",t=i.createHTML("table",{role:"presentation","class":"mceSplitButton mceSplitButtonEnabled "+n["class"],cellpadding:"0",cellspacing:"0",title:n.title},t),i.createHTML("div",{id:r.id,role:"button",tabindex:"0","aria-labelledby":r.id+"_voice","aria-haspopup":"true"},t)},postRender:function(){var r=this,f=r.settings,u;f.onclick&&(u=function(n){if(!r.isDisabled()){f.onclick(r.value);t.cancel(n)}},t.add(r.id+"_action","click",u),t.add(r.id,["click","keydown"],function(n){n.keyCode!==32&&n.keyCode!==13&&n.keyCode!==14||n.altKey||n.ctrlKey||n.metaKey?(n.type==="click"||n.keyCode===40)&&(r.showMenu(),t.cancel(n)):(u(),t.cancel(n))})),t.add(r.id+"_open","click",function(n){r.showMenu(),t.cancel(n)}),t.add([r.id,r.id+"_open"],"focus",function(){r._focused=1}),t.add([r.id,r.id+"_open"],"blur",function(){r._focused=0}),(n.isIE6||!i.boxModel)&&(t.add(r.id,"mouseover",function(){i.hasClass(r.id,"mceSplitButtonDisabled")||i.addClass(r.id,"mceSplitButtonHover")}),t.add(r.id,"mouseout",function(){i.hasClass(r.id,"mceSplitButtonDisabled")||i.removeClass(r.id,"mceSplitButtonHover")}))},destroy:function(){this.parent(),t.clear(this.id+"_action"),t.clear(this.id+"_open"),t.clear(this.id)}})}(tinymce),function(n){var t=n.DOM,i=n.dom.Event,r=n.is,u=n.each;n.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(t,i,r){var u=this;u.parent(t,i,r),u.settings=i=n.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},u.settings),u.onShowMenu=new n.util.Dispatcher(u),u.onHideMenu=new n.util.Dispatcher(u),u.value=i.default_color},showMenu:function(){var r=this,u,f;if(!r.isDisabled()){if(r.isMenuRendered||(r.renderMenu(),r.isMenuRendered=!0),r.isMenuVisible)return r.hideMenu();u=t.get(r.id),t.show(r.id+"_menu"),t.addClass(u,"mceSplitButtonSelected"),f=t.getPos(u),t.setStyles(r.id+"_menu",{left:f.x,top:f.y+u.firstChild.clientHeight,zIndex:2e5}),u=0,i.add(t.doc,"mousedown",r.hideMenu,r),r.onShowMenu.dispatch(r),r._focused&&(r._keyHandler=i.add(r.id+"_menu","keydown",function(n){n.keyCode==27&&r.hideMenu()}),t.select("a",r.id+"_menu")[0].focus()),r.keyboardNav=new n.ui.KeyboardNavigation({root:r.id+"_menu",items:t.select("a",r.id+"_menu"),onCancel:function(){r.hideMenu(),r.focus()}}),r.keyboardNav.focus(),r.isMenuVisible=1}},hideMenu:function(n){var r=this;if(r.isMenuVisible){if(n&&n.type=="mousedown"&&t.getParent(n.target,function(n){return n.id===r.id+"_open"}))return;n&&t.getParent(n.target,".mceSplitButtonMenu")||(t.removeClass(r.id,"mceSplitButtonSelected"),i.remove(t.doc,"mousedown",r.hideMenu,r),i.remove(r.id+"_menu","keydown",r._keyHandler),t.hide(r.id+"_menu")),r.isMenuVisible=0,r.onHideMenu.dispatch(),r.keyboardNav.destroy()}},renderMenu:function(){var o=this,s,c=0,e=o.settings,f,h,v,l,a;return l=t.add(e.menu_container,"div",{role:"listbox",id:o.id+"_menu","class":e.menu_class+" "+e["class"],style:"position:absolute;left:0;top:-1000px;"}),s=t.add(l,"div",{"class":e["class"]+" mceSplitButtonMenu"}),t.add(s,"span",{"class":"mceMenuLine"}),f=t.add(s,"table",{role:"presentation","class":"mceColorSplitMenu"}),h=t.add(f,"tbody"),c=0,u(r(e.colors,"array")?e.colors:e.colors.split(","),function(i){i=i.replace(/^#/,""),c--||(v=t.add(h,"tr"),c=e.grid_width-1),f=t.add(v,"td");var r={href:"javascript:;",style:{backgroundColor:"#"+i},title:o.editor.getLang("colors."+i,i),"data-mce-color":"#"+i};n.isIE||(r.role="option"),f=t.add(f,"a",r),o.editor.forcedHighContrastMode&&(f=t.add(f,"canvas",{width:16,height:16,"aria-hidden":"true"}),f.getContext&&(a=f.getContext("2d"))?(a.fillStyle="#"+i,a.fillRect(0,0,16,16)):t.remove(f))}),e.more_colors_func&&(f=t.add(h,"tr"),f=t.add(f,"td",{colspan:e.grid_width,"class":"mceMoreColors"}),f=t.add(f,"a",{role:"option",id:o.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},e.more_colors_title),i.add(f,"click",function(n){return e.more_colors_func.call(e.more_colors_scope||this),i.cancel(n)})),t.addClass(s,"mceColorSplitMenu"),i.add(o.id+"_menu","mousedown",function(n){return i.cancel(n)}),i.add(o.id+"_menu","click",function(n){var i;return n=t.getParent(n.target,"a",h),n&&n.nodeName.toLowerCase()=="a"&&(i=n.getAttribute("data-mce-color"))&&o.setColor(i),!1}),l},setColor:function(n){this.displayColor(n),this.hideMenu();this.settings.onselect(n)},displayColor:function(n){var i=this;t.setStyle(i.id+"_preview","backgroundColor",n),i.value=n},postRender:function(){var n=this,i=n.id;n.parent(),t.add(i+"_action","div",{id:i+"_preview","class":"mceColorPreview"}),t.setStyle(n.id+"_preview","backgroundColor",n.value)},destroy:function(){var n=this;n.parent(),i.clear(n.id+"_menu"),i.clear(n.id+"_more"),t.remove(n.id+"_menu"),n.keyboardNav&&n.keyboardNav.destroy()}})}(tinymce),function(n){var t=n.DOM,i=n.each,r=n.dom.Event;n.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var r=this,i=[],u=r.controls,f=n.each,e=r.settings;return i.push('<div id="'+r.id+'" role="group" aria-labelledby="'+r.id+'_voice">'),i.push("<span role='application'>"),i.push('<span id="'+r.id+'_voice" class="mceVoiceLabel" style="display:none;">'+t.encode(e.name)+"<\/span>"),f(u,function(n){i.push(n.renderHTML())}),i.push("<\/span>"),i.push("<\/div>"),i.join("")},focus:function(){var n=this;t.get(n.id).focus()},postRender:function(){var r=this,u=[];i(r.controls,function(n){i(n.controls,function(n){n.id&&u.push(n)})}),r.keyNav=new n.ui.KeyboardNavigation({root:r.id,items:u,onCancel:function(){n.isWebKit&&t.get(r.editor.id+"_ifr").focus(),r.editor.focus()},excludeFromTabOrder:!r.settings.tab_focus_toolbar})},destroy:function(){var n=this;n.parent(),n.keyNav.destroy(),r.clear(n.id)}})}(tinymce),function(n){var t=n.DOM,i=n.each;n.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){for(var e=this,u="",i,n,h=e.settings,o,s,f=e.controls,r=0;r<f.length;r++)n=f[r],o=f[r-1],s=f[r+1],r===0&&(i="mceToolbarStart",n.Button?i+=" mceToolbarStartButton":n.SplitButton?i+=" mceToolbarStartSplitButton":n.ListBox&&(i+=" mceToolbarStartListBox"),u+=t.createHTML("td",{"class":i},t.createHTML("span",null,"<!-- IE -->"))),o&&n.ListBox&&(o.Button||o.SplitButton)&&(u+=t.createHTML("td",{"class":"mceToolbarEnd"},t.createHTML("span",null,"<!-- IE -->"))),u+=t.stdMode?'<td style="position: relative">'+n.renderHTML()+"<\/td>":"<td>"+n.renderHTML()+"<\/td>",s&&n.ListBox&&(s.Button||s.SplitButton)&&(u+=t.createHTML("td",{"class":"mceToolbarStart"},t.createHTML("span",null,"<!-- IE -->")));return i="mceToolbarEnd",n.Button?i+=" mceToolbarEndButton":n.SplitButton?i+=" mceToolbarEndSplitButton":n.ListBox&&(i+=" mceToolbarEndListBox"),u+=t.createHTML("td",{"class":i},t.createHTML("span",null,"<!-- IE -->")),t.createHTML("table",{id:e.id,"class":"mceToolbar"+(h["class"]?" "+h["class"]:""),cellpadding:"0",cellspacing:"0",align:e.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+u+"<\/tr><\/tbody>")}})}(tinymce),function(n){var t=n.util.Dispatcher,i=n.each;n.create("tinymce.AddOnManager",{AddOnManager:function(){var n=this;n.items=[],n.urls={},n.lookup={},n.onAdd=new t(n)},get:function(n){return this.lookup[n]?this.lookup[n].instance:undefined},dependencies:function(n){var t;return this.lookup[n]&&(t=this.lookup[n].dependencies),t||[]},requireLangPack:function(t){var i=n.settings;i&&i.language&&i.language_load!==!1&&n.ScriptLoader.add(this.urls[t]+"/langs/"+i.language+".js")},add:function(n,t,i){return this.items.push(t),this.lookup[n]={instance:t,dependencies:i},this.onAdd.dispatch(this,n,t),t},createUrl:function(n,t){return typeof t=="object"?t:{prefix:n.prefix,resource:t,suffix:n.suffix}},addComponents:function(t,i){var r=this.urls[t];n.each(i,function(t){n.ScriptLoader.add(r+"/"+t)})},load:function(t,i,r,u){function o(){var f=e.dependencies(t);n.each(f,function(n){var t=e.createUrl(i,n);e.load(t.resource,t,undefined,undefined)}),r&&(u?r.call(u):r.call(n.ScriptLoader))}var e=this,f=i;e.urls[t]||(typeof i=="object"&&(f=i.prefix+i.resource+i.suffix),f.indexOf("/")!==0&&f.indexOf("://")==-1&&(f=n.baseURL+"/"+f),e.urls[t]=f.substring(0,f.lastIndexOf("/")),e.lookup[t]?o():n.ScriptLoader.add(f,o,u))}}),n.PluginManager=new n.AddOnManager,n.ThemeManager=new n.AddOnManager}(tinymce),function(n){var t=n.each,e=n.extend,i=n.DOM,u=n.dom.Event,h=n.ThemeManager,c=n.PluginManager,o=n.explode,r=n.util.Dispatcher,f,s=0;n.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n.documentBaseURL)||(n.documentBaseURL+="/"),n.baseURL=new n.util.URI(n.documentBaseURL).toAbsolute(n.baseURL),n.baseURI=new n.util.URI(n.baseURL),n.onBeforeUnload=new r(n),u.add(window,"beforeunload",function(t){n.onBeforeUnload.dispatch(n,t)}),n.onAddEditor=new r(n),n.onRemoveEditor=new r(n),n.EditorManager=e(n,{editors:[],i18n:{},activeEditor:null,init:function(r){function h(n){var t=n.id;return t||(t=n.name,t=t&&!i.get(t)?n.name:i.uniqueId(),n.setAttribute("id",t)),t}function c(t,i,r){var u=t[i];if(u)return n.is(u,"string")&&(r=u.replace(/\.\w+$/,""),r=r?n.resolve(r):0,u=n.resolve(u)),u.apply(r||this,Array.prototype.slice.call(arguments,2))}function l(n,t){return t.constructor===RegExp?t.test(n.className):i.hasClass(n,t)}var a=this,v=n.ScriptLoader,e=[],f;a.settings=r,u.bind(window,"ready",function(){var u,a;c(r,"onpageload");switch(r.mode){case"exact":u=r.elements||"",u.length>0&&t(o(u),function(u){i.get(u)?(f=new n.Editor(u,r),e.push(f),f.render(1)):t(document.forms,function(o){t(o.elements,function(t){t.name===u&&(u="mce_editor_"+s++,i.setAttrib(t,"id",u),f=new n.Editor(u,r),e.push(f),f.render(1))})})});break;case"textareas":case"specific_textareas":t(i.select("textarea"),function(t){r.editor_deselector&&l(t,r.editor_deselector)||(!r.editor_selector||l(t,r.editor_selector))&&(f=new n.Editor(h(t),r),e.push(f),f.render(1))});break;default:r.types?t(r.types,function(u){t(i.select(u.selector),function(t){var i=new n.Editor(h(t),n.extend({},r,u));e.push(i),i.render(1)})}):r.selector&&t(i.select(r.selector),function(t){var i=new n.Editor(h(t),r);e.push(i),i.render(1)})}r.oninit&&(u=a=0,t(e,function(n){a++,n.initialized?u++:n.onInit.add(function(){u++,u==a&&c(r,"oninit")}),u==a&&c(r,"oninit")}))})},get:function(n){return n===f?this.editors:this.editors.hasOwnProperty(n)?this.editors[n]:f},getInstanceById:function(n){return this.get(n)},add:function(n){var t=this,i=t.editors;return i[n.id]=n,i.push(n),t._setActive(n),t.onAddEditor.dispatch(t,n),n},remove:function(n){var i=this,r,t=i.editors;if(!t[n.id])return null;for(delete t[n.id],r=0;r<t.length;r++)if(t[r]==n){t.splice(r,1);break}return i.activeEditor==n&&i._setActive(t[0]),n.destroy(),i.onRemoveEditor.dispatch(i,n),n},execCommand:function(t,i,r){function o(){u.destroy(),f.detachEvent("onunload",o),f=f.tinyMCE=f.tinymce=null}var e=this,u=e.get(r),f;switch(t){case"mceFocus":return u.focus(),!0;case"mceAddEditor":case"mceAddControl":return e.get(r)||new n.Editor(r,e.settings).render(),!0;case"mceAddFrameControl":return f=r.window,f.tinyMCE=tinyMCE,f.tinymce=n,n.DOM.doc=f.document,n.DOM.win=f,u=new n.Editor(r.element_id,r),u.render(),n.isIE&&f.attachEvent("onunload",o),r.page_window=null,!0;case"mceRemoveEditor":case"mceRemoveControl":return u&&u.remove(),!0;case"mceToggleEditor":return u?(u.isHidden()?u.show():u.hide(),!0):(e.execCommand("mceAddControl",0,r),!0)}return e.activeEditor?e.activeEditor.execCommand(t,i,r):!1},execInstanceCommand:function(n,t,i,r){var u=this.get(n);return u?u.execCommand(t,i,r):!1},triggerSave:function(){t(this.editors,function(n){n.save()})},addI18n:function(i,r){var u=this.i18n;n.is(i,"string")?t(r,function(n,t){u[i+"."+t]=n}):t(i,function(n,i){t(n,function(n,r){t(n,function(n,t){r==="common"?u[i+"."+t]=n:u[i+"."+r+"."+t]=n})})})},_setActive:function(n){this.selectedInstance=this.activeEditor=n}})}(tinymce),function(n){var t=n.DOM,r=n.dom.Event,h=n.extend,i=n.each,c=n.isGecko,e=n.isIE,l=n.isWebKit,u=n.is,s=n.ThemeManager,f=n.PluginManager,o=n.explode;n.create("tinymce.Editor",{Editor:function(t,i){var u=this,r=!0;u.settings=i=h({id:t,language:"en",theme:"advanced",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:n.documentBaseURL,add_form_submit_trigger:r,submit_patch:r,add_unload_trigger:r,convert_urls:r,relative_urls:r,remove_script_host:r,table_inline_editing:!1,object_resizing:r,accessibility_focus:r,doctype:n.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual:r,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",apply_source_formatting:r,directionality:"ltr",forced_root_block:"p",hidden_input:r,padd_empty_editor:r,render_ui:r,indentation:"30px",fix_table_elements:r,inline_styles:r,convert_fonts_to_spans:r,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:r,entity_encoding:"named",url_converter:u.convertURL,url_converter_scope:u,ie7_compat:r},i),u.id=u.editorId=t,u.isNotDirty=!1,u.plugins={},u.documentBaseURI=new n.util.URI(i.document_base_url||n.documentBaseURL,{base_uri:tinyMCE.baseURI}),u.baseURI=n.baseURI,u.contentCSS=[],u.contentStyles=[],u.setupEvents(),u.execCommands={},u.queryStateCommands={},u.queryValueCommands={},u.execCallback("setup",u)},render:function(){function l(){e.language&&e.language_load!==!1&&c.add(n.baseURL+"/langs/"+e.language+".js"),e.theme&&typeof e.theme!="function"&&e.theme.charAt(0)!="-"&&!s.urls[e.theme]&&s.load(e.theme,"themes/"+e.theme+"/editor_template"+n.suffix+".js"),i(o(e.plugins),function(t){if(t&&!f.urls[t])if(t.charAt(0)=="-"){t=t.substr(1,t.length);var r=f.dependencies(t);i(r,function(t){var i={prefix:"plugins/",resource:t,suffix:"/editor_plugin"+n.suffix+".js"};t=f.createUrl(i,t),f.load(t.resource,t)})}else{if(t=="safari")return;f.load(t,{prefix:"plugins/",resource:t,suffix:"/editor_plugin"+n.suffix+".js"})}}),c.loadQueue(function(){u.removed||u.init()})}var u=this,e=u.settings,h=u.id,c=n.ScriptLoader;if(!r.domLoaded){r.add(window,"ready",function(){u.render()});return}(tinyMCE.settings=e,u.getElement())&&(!n.isIDevice||n.isIOS5)&&(!/TEXTAREA|INPUT/i.test(u.getElement().nodeName)&&e.hidden_input&&t.getParent(h,"form")&&t.insertAfter(t.create("input",{type:"hidden",name:h}),h),e.content_editable||(u.orgVisibility=u.getElement().style.visibility,u.getElement().style.visibility="hidden"),n.WindowManager&&(u.windowManager=new n.WindowManager(u)),e.encoding=="xml"&&u.onGetContent.add(function(n,i){i.save&&(i.content=t.encode(i.content))}),e.add_form_submit_trigger&&u.onSubmit.addToTop(function(){u.initialized&&(u.save(),u.isNotDirty=1)}),e.add_unload_trigger&&(u._beforeUnload=tinyMCE.onBeforeUnload.add(function(){!u.initialized||u.destroyed||u.isHidden()||u.save({format:"raw",no_events:!0})})),n.addUnload(u.destroy,u),e.submit_patch&&u.onBeforeRenderUI.add(function(){var t=u.getElement().form;t&&(t._mceOldSubmit||(t.submit.nodeType||t.submit.length||(u.formElement=t,t._mceOldSubmit=t.submit,t.submit=function(){return n.triggerSave(),u.isNotDirty=1,u.formElement._mceOldSubmit(u.formElement)}),t=null))}),l())},init:function(){function nt(t){var e=f.get(t),o=f.urls[t]||n.documentBaseURL.replace(/\/$/,""),u;e&&n.inArray(g,t)===-1&&(i(f.dependencies(t),function(n){nt(n)}),u=new e(r,o),r.plugins[t]=u,u.init&&(u.init(r,o),g.push(t)))}var b,r=this,u=r.settings,v,c,p,l=r.getElement(),h,k,a,y,d,w,g=[];if(n.add(r),u.aria_label=u.aria_label||t.getAttrib(l,"aria-label",r.getLang("aria.rich_text_area")),u.theme&&(typeof u.theme!="function"?(u.theme=u.theme.replace(/-/,""),h=s.get(u.theme),r.theme=new h,r.theme.init&&r.theme.init(r,s.urls[u.theme]||n.documentBaseURL.replace(/\/$/,""))):r.theme=u.theme),i(o(u.plugins.replace(/\-/g,"")),nt),u.popup_css!==!1&&(u.popup_css=u.popup_css?r.documentBaseURI.toAbsolute(u.popup_css):r.baseURI.toAbsolute("themes/"+u.theme+"/skins/"+u.skin+"/dialog.css")),u.popup_css_add&&(u.popup_css+=","+r.documentBaseURI.toAbsolute(u.popup_css_add)),r.controlManager=new n.ControlManager(r),r.onBeforeRenderUI.dispatch(r,r.controlManager),u.render_ui&&r.theme&&(r.orgDisplay=l.style.display,typeof u.theme!="function"?(v=u.width||l.style.width||l.offsetWidth,c=u.height||l.style.height||l.offsetHeight,p=u.min_height||100,d=/^[0-9\.]+(|px)$/i,d.test(""+v)&&(v=Math.max(parseInt(v,10)+(h.deltaWidth||0),100)),d.test(""+c)&&(c=Math.max(parseInt(c,10)+(h.deltaHeight||0),p)),h=r.theme.renderUI({targetNode:l,width:v,height:c,deltaWidth:u.delta_width,deltaHeight:u.delta_height}),t.setStyles(h.sizeContainer||h.editorContainer,{width:v,height:c}),c=(h.iframeHeight||c)+(typeof c=="number"?h.deltaHeight||0:""),c<p&&(c=p)):(h=u.theme(r,l),h.editorContainer.nodeType&&(h.editorContainer=h.editorContainer.id=h.editorContainer.id||r.id+"_parent"),h.iframeContainer.nodeType&&(h.iframeContainer=h.iframeContainer.id=h.iframeContainer.id||r.id+"_iframecontainer"),c=h.iframeHeight||l.offsetHeight,e&&r.onInit.add(function(n){n.dom.bind(n.getBody(),"beforedeactivate keydown",function(){n.lastIERng=n.selection.getRng()})})),r.editorContainer=h.editorContainer),u.content_css&&i(o(u.content_css),function(n){r.contentCSS.push(r.documentBaseURI.toAbsolute(n))}),u.content_style&&r.contentStyles.push(u.content_style),u.content_editable)return l=b=h=null,r.initContentBody();for(document.domain&&location.hostname!=document.domain&&(n.relaxedDomain=document.domain),r.iframeHTML=u.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">',u.document_base_url!=n.documentBaseURL&&(r.iframeHTML+='<base href="'+r.documentBaseURI.getURI()+'" />'),n.isIE8&&(r.iframeHTML+=u.ie7_compat?'<meta http-equiv="X-UA-Compatible" content="IE=7" />':'<meta http-equiv="X-UA-Compatible" content="IE=edge" />'),r.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',w=0;w<r.contentCSS.length;w++)r.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+r.contentCSS[w]+'" />';r.contentCSS=[],a=u.body_id||"tinymce",a.indexOf("=")!=-1&&(a=r.getParam("body_id","","hash"),a=a[r.id]||a),y=u.body_class||"",y.indexOf("=")!=-1&&(y=r.getParam("body_class","","hash"),y=y[r.id]||""),r.iframeHTML+='<\/head><body id="'+a+'" class="mceContentBody '+y+'" onload="window.parent.tinyMCE.get(\''+r.id+"').onLoad.dispatch();\"><br><\/body><\/html>",n.relaxedDomain&&(e||n.isOpera&&parseFloat(opera.version())<11)&&(k='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+r.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()'),b=t.add(h.iframeContainer,"iframe",{id:r.id+"_ifr",src:k||'javascript:""',frameBorder:"0",allowTransparency:"true",title:u.aria_label,style:{width:"100%",height:c,display:"block"}}),r.contentAreaContainer=h.iframeContainer,h.editorContainer&&(t.get(h.editorContainer).style.display=r.orgDisplay),l.style.visibility=r.orgVisibility,t.get(r.id).style.display="none",t.setAttrib(r.id,"aria-hidden",!0),n.relaxedDomain&&k||r.initContentBody(),l=b=h=null},initContentBody:function(){var r=this,u=r.settings,s=t.get(r.id),f=r.getDoc(),o,h;e&&n.relaxedDomain||u.content_editable||(f.open(),f.write(r.iframeHTML),f.close(),n.relaxedDomain&&(f.domain=n.relaxedDomain)),u.content_editable&&(t.addClass(s,"mceContentBody"),r.contentDocument=f=u.content_document||document,r.contentWindow=u.content_window||window,r.bodyElement=s,u.content_document=u.content_window=null),o=r.getBody(),o.disabled=!0,u.readonly||(o.contentEditable=r.getParam("content_editable_state",!0)),o.disabled=!1,r.schema=new n.html.Schema(u),r.dom=new n.dom.DOMUtils(f,{keep_values:!0,url_converter:r.convertURL,url_converter_scope:r,hex_colors:u.force_hex_style_colors,class_filter:u.class_filter,update_styles:!0,root_element:u.content_editable?r.id:null,schema:r.schema}),r.parser=new n.html.DomParser(u,r.schema),r.parser.addAttributeFilter("src,href,style",function(n,t){for(var e=n.length,i,o=r.dom,f,u;e--;)i=n[e],f=i.attr(t),u="data-mce-"+t,i.attributes.map[u]||(t==="style"?i.attr(u,o.serializeStyle(o.parseStyle(f),i.name)):i.attr(u,r.convertURL(f,t,i.name)))}),r.parser.addNodeFilter("script",function(n){for(var i=n.length,t;i--;)t=n[i],t.attr("type","mce-"+(t.attr("type")||"text/javascript"))}),r.parser.addNodeFilter("#cdata",function(n){for(var i=n.length,t;i--;)t=n[i],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),r.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var u=t.length,i,f=r.schema.getNonEmptyElements();u--;)i=t[u],i.isEmpty(f)&&(i.empty().append(new n.html.Node("br",1)).shortEnded=!0)}),r.serializer=new n.dom.Serializer(u,r.dom,r.schema),r.selection=new n.dom.Selection(r.dom,r.getWin(),r.serializer,r),r.formatter=new n.Formatter(r),r.undoManager=new n.UndoManager(r),r.forceBlocks=new n.ForceBlocks(r),r.enterKey=new n.EnterKey(r),r.editorCommands=new n.EditorCommands(r),r.onExecCommand.add(function(n,t){/^(FontName|FontSize)$/.test(t)||r.nodeChanged()}),r.serializer.onPreProcess.add(function(n,t){return r.onPreProcess.dispatch(r,t,n)}),r.serializer.onPostProcess.add(function(n,t){return r.onPostProcess.dispatch(r,t,n)}),r.onPreInit.dispatch(r),u.browser_spellcheck||u.gecko_spellcheck||(f.body.spellcheck=!1),u.readonly||r.bindNativeEvents(),r.controlManager.onPostRender.dispatch(r,r.controlManager),r.onPostRender.dispatch(r),r.quirks=n.util.Quirks(r),u.directionality&&(o.dir=u.directionality),u.nowrap&&(o.style.whiteSpace="nowrap"),u.protect&&r.onBeforeSetContent.add(function(n,t){i(u.protect,function(n){t.content=t.content.replace(n,function(n){return"<!--mce:protected "+escape(n)+"-->"})})}),r.onSetContent.add(function(){r.addVisual(r.getBody())}),u.padd_empty_editor&&r.onPostProcess.add(function(n,t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),r.load({initial:!0,format:"html"}),r.startContent=r.getContent({format:"raw"}),r.initialized=!0,r.onInit.dispatch(r),r.execCallback("setupcontent_callback",r.id,o,f),r.execCallback("init_instance_callback",r),r.focus(!0),r.nodeChanged({initial:!0}),r.contentStyles.length>0&&(h="",i(r.contentStyles,function(n){h+=n+"\r\n"}),r.dom.addStyle(h)),i(r.contentCSS,function(n){r.dom.loadCSS(n)}),u.auto_focus&&setTimeout(function(){var t=n.get(u.auto_focus);t.selection.select(t.getBody(),1),t.selection.collapse(1),t.getBody().focus(),t.getWin().focus()},100),s=f=o=null},focus:function(t){var u,i=this,o=i.selection,s=i.settings.content_editable,r,f,h=i.getDoc(),e;t||(i.lastIERng&&o.setRng(i.lastIERng),r=o.getRng(),r.item&&(f=r.item(0)),i._refreshContentEditable(),s||i.getWin().focus(),(n.isGecko||s)&&(e=i.getBody(),e.setActive?e.setActive():e.focus(),s&&o.normalize()),f&&f.ownerDocument==h&&(r=h.body.createControlRange(),r.addElement(f),r.select())),n.activeEditor!=i&&((u=n.activeEditor)!=null&&u.onDeactivate.dispatch(u,i),i.onActivate.dispatch(i,u)),n._setActive(i)},execCallback:function(t){var f=this,r=f.settings[t],i;if(r)return f.callbackLookup&&(i=f.callbackLookup[t])&&(r=i.func,i=i.scope),u(r,"string")&&(i=r.replace(/\.\w+$/,""),i=i?n.resolve(i):0,r=n.resolve(r),f.callbackLookup=f.callbackLookup||{},f.callbackLookup[t]={func:r,scope:i}),r.apply(i||f,Array.prototype.slice.call(arguments,1))},translate:function(t){var i=this.settings.language||"en",r=n.i18n;return t?r[i+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(n,t){return r[i+"."+t]||"{#"+t+"}"}):""},getLang:function(t,i){return n.i18n[(this.settings.language||"en")+"."+t]||(u(i)?i:"{#"+t+"}")},getParam:function(t,r,f){var s=n.trim,e=u(this.settings[t])?this.settings[t]:r,o;return f==="hash"?(o={},u(e,"string")?i(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(n){n=n.split("="),o[s(n[0])]=n.length>1?s(n[1]):s(n)}):o=e,o):e},nodeChanged:function(n){var t=this,r=t.selection,i;t.initialized&&(n=n||{},i=r.getStart()||t.getBody(),i=e&&i.ownerDocument!=t.getDoc()?t.getBody():i,n.parents=[],t.dom.getParent(i,function(t){if(t.nodeName=="BODY")return!0;n.parents.push(t)}),t.onNodeChange.dispatch(t,n?n.controlManager||t.controlManager:t.controlManager,i,r.isCollapsed(),n))},addButton:function(n,t){var i=this;i.buttons=i.buttons||{},i.buttons[n]=t},addCommand:function(n,t,i){this.execCommands[n]={func:t,scope:i||this}},addQueryStateHandler:function(n,t,i){this.queryStateCommands[n]={func:t,scope:i||this}},addQueryValueHandler:function(n,t,i){this.queryValueCommands[n]={func:t,scope:i||this}},addShortcut:function(n,t,r,f){var e=this,s;return e.settings.custom_shortcuts===!1?!1:(e.shortcuts=e.shortcuts||{},u(r,"string")&&(s=r,r=function(){e.execCommand(s,!1,null)}),u(r,"object")&&(s=r,r=function(){e.execCommand(s[0],s[1],s[2])}),i(o(n),function(n){var u={func:r,scope:f||this,desc:e.translate(t),alt:!1,ctrl:!1,shift:!1};i(o(n,"+"),function(n){switch(n){case"alt":case"ctrl":case"shift":u[n]=!0;break;default:u.charCode=n.charCodeAt(0),u.keyCode=n.toUpperCase().charCodeAt(0)}}),e.shortcuts[(u.ctrl?"ctrl":"")+","+(u.alt?"alt":"")+","+(u.shift?"shift":"")+","+u.keyCode]=u}),!0)},execCommand:function(n,t,r,u){var f=this,s=0,e,o;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(n)||u&&u.skip_focus||f.focus(),u=h({},u),f.onBeforeExecCommand.dispatch(f,n,t,r,u),u.terminate)return!1;if(f.execCallback("execcommand_callback",f.id,f.selection.getNode(),n,t,r))return f.onExecCommand.dispatch(f,n,t,r,u),!0;if((e=f.execCommands[n])&&(o=e.func.call(e.scope,t,r),o!==!0))return f.onExecCommand.dispatch(f,n,t,r,u),o;if(i(f.plugins,function(i){if(i.execCommand&&i.execCommand(n,t,r))return f.onExecCommand.dispatch(f,n,t,r,u),s=1,!1}),s)return!0;if(f.theme&&f.theme.execCommand&&f.theme.execCommand(n,t,r)||f.editorCommands.execCommand(n,t,r))return f.onExecCommand.dispatch(f,n,t,r,u),!0;f.getDoc().execCommand(n,t,r),f.onExecCommand.dispatch(f,n,t,r,u)},queryCommandState:function(n){var i=this,t,r;if(!i._isHidden()){if((t=i.queryStateCommands[n])&&(r=t.func.call(t.scope),r!==!0))return r;if(t=i.editorCommands.queryCommandState(n),t!==-1)return t;try{return this.getDoc().queryCommandState(n)}catch(u){}}},queryCommandValue:function(n){var i=this,t,r;if(!i._isHidden()){if((t=i.queryValueCommands[n])&&(r=t.func.call(t.scope),r!==!0))return r;if(t=i.editorCommands.queryCommandValue(n),u(t))return t;try{return this.getDoc().queryCommandValue(n)}catch(f){}}},show:function(){var n=this;t.show(n.getContainer()),t.hide(n.id),n.load()},hide:function(){var n=this,i=n.getDoc();e&&i&&i.execCommand("SelectAll"),n.save(),t.hide(n.getContainer()),t.setStyle(n.id,"display",n.orgDisplay)},isHidden:function(){return!t.isHidden(this.id)},setProgressState:function(n,t,i){return this.onSetProgressState.dispatch(this,n,t,i),n},load:function(n){var i=this,t=i.getElement(),r;if(t)return n=n||{},n.load=!0,r=i.setContent(u(t.value)?t.value:t.innerHTML,n),n.element=t,n.no_events||i.onLoadContent.dispatch(i,n),n.element=t=null,r},save:function(n){var r=this,u=r.getElement(),f,e;if(u&&r.initialized)return n=n||{},n.save=!0,n.element=u,f=n.content=r.getContent(n),n.no_events||r.onSaveContent.dispatch(r,n),f=n.content,/TEXTAREA|INPUT/i.test(u.nodeName)?u.value=f:(u.innerHTML=f,(e=t.getParent(r.id,"form"))&&i(e.elements,function(n){if(n.name==r.id)return n.value=f,!1})),n.element=u=null,f},setContent:function(t,i){var r=this,f=r.getBody(),u;if(i=i||{},i.format=i.format||"html",i.set=!0,i.content=t,i.no_events||r.onBeforeSetContent.dispatch(r,i),t=i.content,!n.isIE&&(t.length===0||/^\s+$/.test(t))){u=r.settings.forced_root_block,t=u?"<"+u+'><br data-mce-bogus="1"><\/'+u+">":'<br data-mce-bogus="1">',f.innerHTML=t,r.selection.select(f,!0),r.selection.collapse(!0);return}return i.format!=="raw"&&(t=new n.html.Serializer({},r.schema).serialize(r.parser.parse(t))),i.content=n.trim(t),r.dom.setHTML(f,i.content),i.no_events||r.onSetContent.dispatch(r,i),r.settings.content_editable&&document.activeElement!==r.getBody()||r.selection.normalize(),i.content},getContent:function(t){var i=this,u,r=i.getBody();return t=t||{},t.format=t.format||"html",t.get=!0,t.getInner=!0,t.no_events||i.onBeforeGetContent.dispatch(i,t),u=t.format=="raw"?r.innerHTML:t.format=="text"?r.innerText||r.textContent:i.serializer.serialize(r,t),t.content=t.format!="text"?n.trim(u):u,t.no_events||i.onGetContent.dispatch(i,t),t.content},isDirty:function(){var t=this;return n.trim(t.startContent)!=n.trim(t.getContent({format:"raw",no_events:1}))&&!t.isNotDirty},getContainer:function(){var n=this;return n.container||(n.container=t.get(n.editorContainer||n.id+"_parent")),n.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return t.get(this.settings.content_element||this.id)},getWin:function(){var n=this,i;return n.contentWindow||(i=t.get(n.id+"_ifr"),i&&(n.contentWindow=i.contentWindow)),n.contentWindow},getDoc:function(){var n=this,t;return n.contentDocument||(t=n.getWin(),t&&(n.contentDocument=t.document)),n.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(n,t,i){var r=this,u=r.settings;return u.urlconverter_callback?r.execCallback("urlconverter_callback",n,i,!0,t):!u.convert_urls||i&&i.nodeName=="LINK"||n.indexOf("file:")===0?n:u.relative_urls?r.documentBaseURI.toRelative(n):r.documentBaseURI.toAbsolute(n,u.remove_script_host)},addVisual:function(n){var t=this,e=t.settings,r=t.dom,f;n=n||t.getBody(),u(t.hasVisual)||(t.hasVisual=e.visual),i(r.select("table,a",n),function(n){var i;switch(n.nodeName){case"TABLE":f=e.visual_table_class||"mceItemTable",i=r.getAttrib(n,"border"),i&&i!="0"||(t.hasVisual?r.addClass(n,f):r.removeClass(n,f));return;case"A":r.getAttrib(n,"href",!1)||(i=r.getAttrib(n,"name")||n.id,f="mceItemAnchor",i&&(t.hasVisual?r.addClass(n,f):r.removeClass(n,f)));return}}),t.onVisualAid.dispatch(t,n,t.hasVisual)},remove:function(){var i=this,u=i.getContainer(),f=i.getDoc();i.removed||(i.removed=1,e&&f&&f.execCommand("SelectAll"),i.save(),t.setStyle(i.id,"display",i.orgDisplay),i.settings.content_editable||(r.unbind(i.getWin()),r.unbind(i.getDoc())),r.unbind(i.getBody()),r.clear(u),i.execCallback("remove_instance_callback",i),i.onRemove.dispatch(i),i.onExecCommand.listeners=[],n.remove(i),t.remove(u))},destroy:function(t){var i=this;i.destroyed||(c&&(r.unbind(i.getDoc()),r.unbind(i.getWin()),r.unbind(i.getBody())),t||(n.removeUnload(i.destroy),tinyMCE.onBeforeUnload.remove(i._beforeUnload),i.theme&&i.theme.destroy&&i.theme.destroy(),i.controlManager.destroy(),i.selection.destroy(),i.dom.destroy()),i.formElement&&(i.formElement.submit=i.formElement._mceOldSubmit,i.formElement._mceOldSubmit=null),i.contentAreaContainer=i.formElement=i.container=i.settings.content_element=i.bodyElement=i.contentDocument=i.contentWindow=null,i.selection&&(i.selection=i.selection.win=i.selection.dom=i.selection.dom.doc=null),i.destroyed=1)},_refreshContentEditable:function(){var i=this,n,t;i._isHidden()&&(n=i.getBody(),t=n.parentNode,t.removeChild(n),t.appendChild(n),n.focus())},_isHidden:function(){var n;return c?(n=this.selection.getSel(),!n||!n.rangeCount||n.rangeCount===0):0}})}(tinymce),function(n){var t=n.each;n.Editor.prototype.setupEvents=function(){var i=this,r=i.settings;t(["onPreInit","onBeforeRenderUI","onPostRender","onLoad","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState","onSetAttrib"],function(t){i[t]=new n.util.Dispatcher(i)}),r.cleanup_callback&&(i.onBeforeSetContent.add(function(n,t){t.content=n.execCallback("cleanup_callback","insert_to_editor",t.content,t)}),i.onPreProcess.add(function(n,t){t.set&&n.execCallback("cleanup_callback","insert_to_editor_dom",t.node,t),t.get&&n.execCallback("cleanup_callback","get_from_editor_dom",t.node,t)}),i.onPostProcess.add(function(n,t){t.set&&(t.content=n.execCallback("cleanup_callback","insert_to_editor",t.content,t)),t.get&&(t.content=n.execCallback("cleanup_callback","get_from_editor",t.content,t))})),r.save_callback&&i.onGetContent.add(function(n,t){t.save&&(t.content=n.execCallback("save_callback",n.id,t.content,n.getBody()))}),r.handle_event_callback&&i.onEvent.add(function(n,t,r){i.execCallback("handle_event_callback",t,n,r)===!1&&(t.preventDefault(),t.stopPropagation())}),r.handle_node_change_callback&&i.onNodeChange.add(function(n,t,i){n.execCallback("handle_node_change_callback",n.id,i,-1,-1,!0,n.selection.isCollapsed())}),r.save_callback&&i.onSaveContent.add(function(n,t){var i=n.execCallback("save_callback",n.id,t.content,n.getBody());i&&(t.content=i)}),r.onchange_callback&&i.onChange.add(function(n,t){n.execCallback("onchange_callback",n,t)})},n.Editor.prototype.bindNativeEvents=function(){function u(n,t){var r=n.type;i.removed||i.onEvent.dispatch(i,n,t)!==!1&&i[e[n.fakeType||n.type]].dispatch(i,n,t)}function s(){i.focus(!0)}function h(t,r){r.keyCode==65&&n.VK.metaKeyPressed(r)||i.selection.normalize(),i.nodeChanged()}function o(r,u){(r.altKey||r.ctrlKey||r.metaKey)&&t(i.shortcuts,function(t){var i=n.isMac?r.metaKey:r.ctrlKey;if(t.ctrl==i&&t.alt==r.altKey&&t.shift==r.shiftKey)return r.keyCode==t.keyCode||r.charCode&&r.charCode==t.charCode?(r.preventDefault(),u&&t.func.call(t.scope),!0):void 0})}var i=this,f=i.settings,r=i.dom,e;e={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"},t(e,function(t,e){var o=f.content_editable?i.getBody():i.getDoc();switch(e){case"contextmenu":r.bind(o,e,u);break;case"paste":r.bind(i.getBody(),e,u);break;case"submit":case"reset":r.bind(i.getElement().form||n.DOM.getParent(i.id,"form"),e,u);break;default:r.bind(o,e,u)}}),r.bind(f.content_editable?i.getBody():n.isGecko?i.getDoc():i.getWin(),"focus",function(){i.focus(!0)}),f.content_editable&&n.isOpera&&(r.bind(i.getBody(),"click",s),r.bind(i.getBody(),"keydown",s)),i.onMouseUp.add(h),i.onKeyUp.add(function(t,i){var r=i.keyCode;(r>=33&&r<=36||r>=37&&r<=40||r==13||r==45||r==46||r==8||n.isMac&&(r==91||r==93)||i.ctrlKey)&&h(t,i)}),i.onReset.add(function(){i.setContent(i.startContent,{format:"raw"})}),i.onKeyUp.add(function(n,t){o(t)}),i.onKeyPress.add(function(n,t){o(t)}),i.onKeyDown.add(function(n,t){o(t,!0)}),n.isOpera&&i.onClick.add(function(n,t){t.preventDefault()})}}(tinymce),function(n){var r=n.each,u,t=!0,i=!1;n.EditorCommands=function(f){function k(n,r,u){var f;return(n=n.toLowerCase(),f=y.exec[n])?(f(n,r,u),t):i}function l(n){var t;return(n=n.toLowerCase(),t=y.state[n])?t(n):-1}function g(n){var t;return(n=n.toLowerCase(),t=y.value[n])?t(n):i}function a(n,t){t=t||"exec",r(n,function(n,i){r(i.toLowerCase().split(","),function(i){y[t][i]=n})})}function v(n,t,r){return t===u&&(t=i),r===u&&(r=null),f.getDoc().execCommand(n,t,r)}function d(n){return s.match(n)}function h(n,t){s.toggle(n,t?{value:t}:u)}function p(n){b=e.getBookmark(n)}function w(){e.moveToBookmark(b)}var o=f.dom,e=f.selection,y={state:{},exec:{},value:{}},c=f.settings,s=f.formatter,b;n.extend(this,{execCommand:k,queryCommandState:l,queryCommandValue:g,addCommands:a}),a({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){f.undoManager.add()},"Cut,Copy,Paste":function(i){var u=f.getDoc(),r;try{v(i)}catch(e){r=t}(r||!u.queryCommandSupported(i))&&(n.isGecko?f.windowManager.confirm(f.getLang("clipboard_msg"),function(n){n&&open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}):f.windowManager.alert(f.getLang("clipboard_no_support")))},unlink:function(n){e.isCollapsed()&&e.select(e.getNode()),v(n),e.collapse(i)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(n){var t=n.substring(7);r("left,center,right,full".split(","),function(n){t!=n&&s.remove("align"+n)}),h("align"+t),k("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(n){var t,i;v(n),t=o.getParent(e.getNode(),"ol,ul"),t&&(i=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)&&(p(),o.split(i,t),w()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){h(n)},"ForeColor,HiliteColor,FontName":function(n,t,i){h(n,i)},FontSize:function(t,i,r){var u,f;r>=1&&r<=7&&(f=n.explode(c.font_size_style_values),u=n.explode(c.font_size_classes),r=u?u[r-1]||r:f[r-1]||r),h(t,r)},RemoveFormat:function(n){s.remove(n)},mceBlockQuote:function(){h("blockquote")},FormatBlock:function(n,t,i){return h(i||"p")},mceCleanup:function(){var n=e.getBookmark();f.setContent(f.getContent({cleanup:t}),{cleanup:t}),e.moveToBookmark(n)},mceRemoveNode:function(n,i,r){var u=r||e.getNode();u!=f.getBody()&&(p(),f.dom.remove(u,t),w())},mceSelectNodeDepth:function(n,t,r){var u=0;o.getParent(e.getNode(),function(n){if(n.nodeType==1&&u++==r)return e.select(n),i},f.getBody())},mceSelectNode:function(n,t,i){e.select(i)},mceInsertContent:function(t,i,r){var b,p,s,a,w,v,h,c,l,y,u,g,k,d;if(b=f.parser,p=new n.html.Serializer({},f.schema),k='<span id="mce_marker" data-mce-type="bookmark">﻿<\/span>',v={content:r,format:"html"},e.onBeforeSetContent.dispatch(e,v),r=v.content,r.indexOf("{$caret}")==-1&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,k),e.isCollapsed()||f.getDoc().execCommand("Delete",!1,null),s=e.getNode(),v={context:s.nodeName.toLowerCase()},w=b.parse(r,v),u=w.lastChild,u.attr("id")=="mce_marker")for(h=u,u=u.prev;u;u=u.walk(!0))if(u.type==3||!o.isBlock(u.name)){u.parent.insert(h,u,u.name==="br");break}if(v.invalid){for(e.setContent(k),s=e.getNode(),a=f.getBody(),s.nodeType==9?s=u=a:u=s;u!==a;)s=u,u=u.parentNode;r=s==a?a.innerHTML:o.getOuterHTML(s),r=p.serialize(b.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return p.serialize(w)}))),s==a?o.setHTML(a,r):o.setOuterHTML(s,r)}else r=p.serialize(w),u=s.firstChild,g=s.lastChild,u&&(u!==g||u.nodeName!=="BR")?e.setContent(r):o.setHTML(s,r);h=o.get("mce_marker"),c=o.getRect(h),l=o.getViewPort(f.getWin()),(c.y+c.h>l.y+l.h||c.y<l.y||c.x>l.x+l.w||c.x<l.x)&&(d=n.isIE?f.getDoc().documentElement:f.getBody(),d.scrollLeft=c.x,d.scrollTop=c.y-l.h+25),y=o.createRng(),u=h.previousSibling,u&&u.nodeType==3?y.setStart(u,u.nodeValue.length):(y.setStartBefore(h),y.setEndBefore(h)),o.remove(h),e.setRng(y),e.onSetContent.dispatch(e,v),f.addVisual()},mceInsertRawHTML:function(n,t,i){e.setContent("tiny_mce_marker"),f.setContent(f.getContent().replace(/tiny_mce_marker/g,function(){return i}))},mceToggleFormat:function(n,t,i){h(i)},mceSetContent:function(n,t,i){f.setContent(i)},"Indent,Outdent":function(n){var t,i,u;t=c.indentation,i=/[a-z%]+$/i.exec(t),t=parseInt(t),l("InsertUnorderedList")||l("InsertOrderedList")?v(n):(c.forced_root_block||o.getParent(e.getNode(),o.isBlock)||s.apply("div"),r(e.getSelectedBlocks(),function(r){n=="outdent"?(u=Math.max(0,parseInt(r.style.paddingLeft||0)-t),o.setStyle(r,"paddingLeft",u?u+i:"")):o.setStyle(r,"paddingLeft",parseInt(r.style.paddingLeft||0)+t+i)}))},mceRepaint:function(){if(n.isGecko)try{p(t),e.getSel()&&e.getSel().selectAllChildren(f.getBody()),e.collapse(t),w()}catch(i){}},mceToggleFormat:function(n,t,i){s.toggle(i)},InsertHorizontalRule:function(){f.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){f.hasVisual=!f.hasVisual,f.addVisual()},mceReplaceContent:function(n,t,i){f.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,e.getContent({format:"text"})))},mceInsertLink:function(n,t,i){var r;typeof i=="string"&&(i={href:i}),r=o.getParent(e.getNode(),"a"),i.href=i.href.replace(" ","%20"),r&&i.href||s.remove("link"),i.href&&s.apply("link",i,r)},selectAll:function(){var n=o.getRoot(),t=o.createRng();e.getRng().setStart?(t.setStart(n,0),t.setEnd(n,n.childNodes.length),e.setRng(t)):v("SelectAll")}}),a({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(i){var r="align"+i.substring(7),u=e.isCollapsed()?[o.getParent(e.getNode(),o.isBlock)]:e.getSelectedBlocks(),f=n.map(u,function(n){return!!s.matchNode(n,r)});return n.inArray(f,t)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){return d(n)},mceBlockQuote:function(){return d("blockquote")},Outdent:function(){var n;return c.inline_styles&&((n=o.getParent(e.getStart(),o.isBlock))&&parseInt(n.style.paddingLeft)>0||(n=o.getParent(e.getEnd(),o.isBlock))&&parseInt(n.style.paddingLeft)>0)?t:l("InsertUnorderedList")||l("InsertOrderedList")||!c.inline_styles&&!!o.getParent(e.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(n){var t=o.getParent(e.getNode(),"ul,ol");return t&&(n==="insertunorderedlist"&&t.tagName==="UL"||n==="insertorderedlist"&&t.tagName==="OL")}},"state"),a({"FontSize,FontName":function(n){var i=0,t;return(t=o.getParent(e.getNode(),"span"))&&(i=n=="fontsize"?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),i}},"value"),a({Undo:function(){f.undoManager.undo()},Redo:function(){f.undoManager.redo()}})}}(tinymce),function(n){var t=n.util.Dispatcher;n.UndoManager=function(i){function l(){return n.trim(i.getContent({format:"raw",no_events:1}).replace(/<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\/span>/g,""))}function e(){r.typing=!1,r.add()}var r,f=0,u=[],c,o,s,h;return onBeforeAdd=new t(r),o=new t(r),s=new t(r),h=new t(r),o.add(function(n,t){if(n.hasUndo())return i.onChange.dispatch(i,t,n)}),s.add(function(n,t){return i.onUndo.dispatch(i,t,n)}),h.add(function(n,t){return i.onRedo.dispatch(i,t,n)}),i.onInit.add(function(){r.add()}),i.onBeforeExecCommand.add(function(n,t,i,u,f){t=="Undo"||t=="Redo"||t=="mceRepaint"||f&&f.skip_undo||r.beforeChange()}),i.onExecCommand.add(function(n,t,i,u,f){t=="Undo"||t=="Redo"||t=="mceRepaint"||f&&f.skip_undo||r.add()}),i.onSaveContent.add(e),i.dom.bind(i.dom.getRoot(),"dragend",e),i.dom.bind(i.getBody(),"focusout",function(){!i.removed&&r.typing&&e()}),i.onKeyUp.add(function(n,t){var i=t.keyCode;(i>=33&&i<=36||i>=37&&i<=40||i==45||i==13||t.ctrlKey)&&e()}),i.onKeyDown.add(function(n,t){var i=t.keyCode;if(i>=33&&i<=36||i>=37&&i<=40||i==45){r.typing&&e();return}(i<16||i>20)&&i!=224&&i!=91&&!r.typing&&(r.beforeChange(),r.typing=!0,r.add())}),i.onMouseDown.add(function(){r.typing&&e()}),i.addShortcut("ctrl+z","undo_desc","Undo"),i.addShortcut("ctrl+y","redo_desc","Redo"),r={data:u,typing:!1,onBeforeAdd:onBeforeAdd,onAdd:o,onUndo:s,onRedo:h,beforeChange:function(){c=i.selection.getBookmark(2,!0)},add:function(n){var t,o=i.settings,e;if(n=n||{},n.content=l(),r.onBeforeAdd.dispatch(r,n),e=u[f],e&&e.content==n.content)return null;if(u[f]&&(u[f].beforeBookmark=c),o.custom_undo_redo_levels&&u.length>o.custom_undo_redo_levels){for(t=0;t<u.length-1;t++)u[t]=u[t+1];u.length--,f=u.length}return n.bookmark=i.selection.getBookmark(2,!0),f<u.length-1&&(u.length=f+1),u.push(n),f=u.length-1,r.onAdd.dispatch(r,n),i.isNotDirty=0,n},undo:function(){var n;return r.typing&&(r.add(),r.typing=!1),f>0&&(n=u[--f],i.setContent(n.content,{format:"raw"}),i.selection.moveToBookmark(n.beforeBookmark),r.onUndo.dispatch(r,n)),n},redo:function(){var n;return f<u.length-1&&(n=u[++f],i.setContent(n.content,{format:"raw"}),i.selection.moveToBookmark(n.bookmark),r.onRedo.dispatch(r,n)),n},clear:function(){u=[],f=0,r.typing=!1},hasUndo:function(){return f>0||this.typing},hasRedo:function(){return f<u.length-1&&!this.typing}}}}(tinymce),tinymce.ForceBlocks=function(n){function f(){var f=i.getStart(),l=n.getBody(),e,a,o,v,s,h,c,y=-16777215,p,w;if(f&&f.nodeType===1&&t.forced_root_block){while(f&&f!=l){if(u[f.nodeName])return;f=f.parentNode}for(e=i.getRng(),e.setStart?(a=e.startContainer,o=e.startOffset,v=e.endContainer,s=e.endOffset):(e.item&&(f=e.item(0),e=n.getDoc().body.createTextRange(),e.moveToElementText(f)),w=e.parentElement().ownerDocument===n.getDoc(),tmpRng=e.duplicate(),tmpRng.collapse(!0),o=tmpRng.move("character",y)*-1,tmpRng.collapsed||(tmpRng=e.duplicate(),tmpRng.collapse(!1),s=tmpRng.move("character",y)*-1-o)),f=l.firstChild;f;)if(f.nodeType!==3&&(f.nodeType!=1||u[f.nodeName]))h=null,f=f.nextSibling;else{if(f.nodeType===3&&f.nodeValue.length==0){c=f,f=f.nextSibling,r.remove(c);continue}h||(h=r.create(t.forced_root_block),f.parentNode.insertBefore(h,f),p=!0),c=f,f=f.nextSibling,h.appendChild(c)}if(p){if(e.setStart)e.setStart(a,o),e.setEnd(v,s),i.setRng(e);else if(w)try{e=n.getDoc().body.createTextRange(),e.moveToElementText(l),e.collapse(!0),e.moveStart("character",o),s>0&&e.moveEnd("character",s),e.select()}catch(b){}n.nodeChanged()}}}var t=n.settings,r=n.dom,i=n.selection,u=n.schema.getBlockElements();t.forced_root_block&&(n.onKeyUp.add(f),n.onNodeChange.add(f))},function(n){var u=n.DOM,r=n.dom.Event,i=n.each,t=n.extend;n.create("tinymce.ControlManager",{ControlManager:function(t,r){var u=this;r=r||{},u.editor=t,u.controls={},u.onAdd=new n.util.Dispatcher(u),u.onPostRender=new n.util.Dispatcher(u),u.prefix=r.prefix||t.id+"_",u._cls={},u.onPostRender.add(function(){i(u.controls,function(n){n.postRender()})})},get:function(n){return this.controls[this.prefix+n]||this.controls[n]},setActive:function(n,t){var i=null;return(i=this.get(n))&&i.setActive(t),i},setDisabled:function(n,t){var i=null;return(i=this.get(n))&&i.setDisabled(t),i},add:function(n){var t=this;return n&&(t.controls[n.id]=n,t.onAdd.dispatch(n,t)),n},createControl:function(n){var r,u,o,t=this,f=t.editor,e;for(t.controlFactories||(t.controlFactories=[],i(f.plugins,function(n){n.createControl&&t.controlFactories.push(n)})),e=t.controlFactories,u=0,o=e.length;u<o;u++)if(r=e[u].createControl(n,t),r)return t.add(r);return n==="|"||n==="separator"?t.createSeparator():f.buttons&&(r=f.buttons[n])?t.createButton(n,r):t.add(r)},createDropMenu:function(i,r,u){var o=this,f=o.editor,e,s,h,c;return r=t({"class":"mceDropDown",constrain:f.settings.constrain_menus},r),r["class"]=r["class"]+" "+f.getParam("skin")+"Skin",(h=f.getParam("skin_variant"))&&(r["class"]+=" "+f.getParam("skin")+"Skin"+h.substring(0,1).toUpperCase()+h.substring(1)),r["class"]+=f.settings.directionality=="rtl"?" mceRtl":"",i=o.prefix+i,c=u||o._cls.dropmenu||n.ui.DropMenu,e=o.controls[i]=new c(i,r),e.onAddItem.add(function(n,t){var i=t.settings;i.title=f.getLang(i.title,i.title),i.onclick||(i.onclick=function(){i.cmd&&f.execCommand(i.cmd,i.ui||!1,i.value)})}),f.onRemove.add(function(){e.destroy()}),n.isIE&&(e.onShowMenu.add(function(){f.focus(),s=f.selection.getBookmark(1)}),e.onHideMenu.add(function(){s&&(f.selection.moveToBookmark(s),s=0)})),o.add(e)},createListBox:function(i,u,f){function c(t){return t.settings.use_accessible_selects&&!n.isGecko}var s=this,e=s.editor,o,h;return s.get(i)?null:(u.title=e.translate(u.title),u.scope=u.scope||e,u.onselect||(u.onselect=function(n){e.execCommand(u.cmd,u.ui||!1,n||u.value)}),u=t({title:u.title,"class":"mce_"+i,scope:u.scope,control_manager:s},u),i=s.prefix+i,e.settings.use_native_selects||c(e)?o=new n.ui.NativeListBox(i,u):(h=f||s._cls.listbox||n.ui.ListBox,o=new h(i,u,e)),s.controls[i]=o,n.isWebKit&&o.onPostRender.add(function(n,t){r.add(t,"mousedown",function(){e.bookmark=e.selection.getBookmark(1)}),r.add(t,"focus",function(){e.selection.moveToBookmark(e.bookmark),e.bookmark=null})}),o.hideMenu&&e.onMouseDown.add(o.hideMenu,o),s.add(o))},createButton:function(i,r,u){var e=this,f=e.editor,o,s;return e.get(i)?null:(r.title=f.translate(r.title),r.label=f.translate(r.label),r.scope=r.scope||f,r.onclick||r.menu_button||(r.onclick=function(){f.execCommand(r.cmd,r.ui||!1,r.value)}),r=t({title:r.title,"class":"mce_"+i,unavailable_prefix:f.getLang("unavailable",""),scope:r.scope,control_manager:e},r),i=e.prefix+i,r.menu_button?(s=u||e._cls.menubutton||n.ui.MenuButton,o=new s(i,r,f),f.onMouseDown.add(o.hideMenu,o)):(s=e._cls.button||n.ui.Button,o=new s(i,r,f)),e.add(o))},createMenuButton:function(n,t,i){return t=t||{},t.menu_button=1,this.createButton(n,t,i)},createSplitButton:function(i,r,u){var f=this,e=f.editor,o,s;return f.get(i)?null:(r.title=e.translate(r.title),r.scope=r.scope||e,r.onclick||(r.onclick=function(n){e.execCommand(r.cmd,r.ui||!1,n||r.value)}),r.onselect||(r.onselect=function(n){e.execCommand(r.cmd,r.ui||!1,n||r.value)}),r=t({title:r.title,"class":"mce_"+i,scope:r.scope,control_manager:f},r),i=f.prefix+i,s=u||f._cls.splitbutton||n.ui.SplitButton,o=f.add(new s(i,r,e)),e.onMouseDown.add(o.hideMenu,o),o)},createColorSplitButton:function(i,r,u){var o=this,f=o.editor,e,h,s;return o.get(i)?null:(r.title=f.translate(r.title),r.scope=r.scope||f,r.onclick||(r.onclick=function(t){n.isIE&&(s=f.selection.getBookmark(1)),f.execCommand(r.cmd,r.ui||!1,t||r.value)}),r.onselect||(r.onselect=function(n){f.execCommand(r.cmd,r.ui||!1,n||r.value)}),r=t({title:r.title,"class":"mce_"+i,menu_class:f.getParam("skin")+"Skin",scope:r.scope,more_colors_title:f.getLang("more_colors")},r),i=o.prefix+i,h=u||o._cls.colorsplitbutton||n.ui.ColorSplitButton,e=new h(i,r,f),f.onMouseDown.add(e.hideMenu,e),f.onRemove.add(function(){e.destroy()}),n.isIE&&(e.onShowMenu.add(function(){f.focus(),s=f.selection.getBookmark(1)}),e.onHideMenu.add(function(){s&&(f.selection.moveToBookmark(s),s=0)})),o.add(e))},createToolbar:function(t,i,r){var f,u=this,e;return(t=u.prefix+t,e=r||u._cls.toolbar||n.ui.Toolbar,f=new e(t,i,u.editor),u.get(t))?null:u.add(f)},createToolbarGroup:function(t,i,r){var f,u=this,e;return(t=u.prefix+t,e=r||this._cls.toolbarGroup||n.ui.ToolbarGroup,f=new e(t,i,u.editor),u.get(t))?null:u.add(f)},createSeparator:function(t){var i=t||this._cls.separator||n.ui.Separator;return new i},setControlType:function(n,t){return this._cls[n.toLowerCase()]=t},destroy:function(){i(this.controls,function(n){n.destroy()}),this.controls=null}})}(tinymce),function(n){var i=n.util.Dispatcher,u=n.each,t=n.isIE,r=n.isOpera;n.create("tinymce.WindowManager",{WindowManager:function(n){var t=this;t.editor=n,t.onOpen=new i(t),t.onClose=new i(t),t.params={},t.features={}},open:function(i,f){var e=this,o="",h=e.editor.settings.dialog_type=="modal",c,l,a,v=n.DOM.getViewPort(),s;i=i||{},f=f||{},l=r?v.w:screen.width,a=r?v.h:screen.height,i.name=i.name||"mc_"+(new Date).getTime(),i.width=parseInt(i.width||320),i.height=parseInt(i.height||240),i.resizable=!0,i.left=i.left||parseInt(l/2)-i.width/2,i.top=i.top||parseInt(a/2)-i.height/2,f.inline=!1,f.mce_width=i.width,f.mce_height=i.height,f.mce_auto_focus=i.auto_focus,h&&t&&(i.center=!0,i.help=!1,i.dialogWidth=i.width+"px",i.dialogHeight=i.height+"px",i.scroll=i.scrollbars||!1),u(i,function(i,r){n.is(i,"boolean")&&(i=i?"yes":"no"),/^(name|url)$/.test(r)||(o+=t&&h?(o?";":"")+r+":"+i:(o?",":"")+r+"="+i)}),e.features=i,e.params=f,e.onOpen.dispatch(e,i,f),s=i.url||i.file,s=n._addVer(s);try{t&&h?(c=1,window.showModalDialog(s,window,o)):c=window.open(s,i.name,o)}catch(y){}c||alert(e.editor.getLang("popup_blocked"))},close:function(n){n.close(),this.onClose.dispatch(this)},createInstance:function(t,i,r,u,f,e){var o=n.resolve(t);return new o(i,r,u,f,e)},confirm:function(n,t,i,r){r=r||window,t.call(i||this,r.confirm(this._decode(this.editor.getLang(n,n))))},alert:function(n,t,i,r){var u=this;r=r||window,r.alert(u._decode(u.editor.getLang(n,n))),t&&t.call(i||u)},resizeBy:function(n,t,i){i.resizeBy(n,t)},_decode:function(t){return n.DOM.decode(t).replace(/\\n/g,"\n")}})}(tinymce),function(n){n.Formatter=function(t){function pt(n){return!!t.schema.getTextBlocks()[n.toLowerCase()]}function g(n,t){return i.getParents(n,t,i.getRoot())}function st(n){return n.nodeType===1&&n.id==="_mce_caret"}function ii(){nt({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"}}],alignfull:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,t,u){r(u,function(t,r){i.setAttrib(n,r,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),r("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(n){nt(n,{block:n,remove:"all"})}),nt(t.settings.formats)}function ri(){t.addShortcut("ctrl+b","bold_desc","Bold"),t.addShortcut("ctrl+i","italic_desc","Italic"),t.addShortcut("ctrl+u","underline_desc","Underline");for(var n=1;n<=6;n++)t.addShortcut("ctrl+"+n,"",["FormatBlock",!1,"h"+n]);t.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),t.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),t.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function l(n){return n?et[n]:et}function nt(n,t){n&&(typeof n!="string"?r(n,function(n,t){nt(t,n)}):(t=t.length?t:[t],r(t,function(n){n.deep===w&&(n.deep=!n.selector),n.split===w&&(n.split=!n.selector||n.inline),n.remove===w&&n.selector&&!n.inline&&(n.remove="none"),n.selector&&n.inline&&(n.mixed=!0,n.block_expand=!0),typeof n.classes=="string"&&(n.classes=n.classes.split(/\s+/))}),et[n]=t))}function k(a,v,w){function et(n,t){if(t=t||d,n){if(t.onformat)t.onformat(n,t,v,w);r(t.styles,function(t,r){i.setStyle(n,r,y(t,v))}),r(t.attributes,function(t,r){i.setAttrib(n,r,y(t,v))}),r(t.classes,function(t){t=y(t,v),i.hasClass(n,t)||i.addClass(n,t)})}}function wt(){function e(n,t){var i=new p(t);for(w=i.current();w;w=i.prev())if(w.childNodes.length>1||w==n||w.tagName=="BR")return w}var n=t.selection.getRng(),r=n.startContainer,u=n.endContainer,i,f;return r!=u&&n.endOffset===0&&(i=e(r,u),f=i.nodeType==3?i.length:i.childNodes.length,n.setEnd(i,f)),n}function dt(t,u,f,o,s){var v=[],h=-1,a,c=-1,y=-1,l;return r(t.childNodes,function(n,t){if(n.nodeName==="UL"||n.nodeName==="OL")return h=t,a=n,!1}),r(t.childNodes,function(n,t){n.nodeName==="SPAN"&&i.getAttrib(n,"data-mce-type")=="bookmark"&&(n.id==u.id+"_start"?c=t:n.id==u.id+"_end"&&(y=t))}),h<=0||c<h&&y>h?(r(n.grep(t.childNodes),s),0):(l=i.clone(f,e),r(n.grep(t.childNodes),function(n,t){(c<h&&t<h||c>h&&t>h)&&(v.push(n),n.parentNode.removeChild(n))}),c<h?t.insertBefore(l,a):c>h&&t.insertBefore(l,a.nextSibling),o.push(l),r(v,function(n){l.appendChild(n)}),l)}function at(t,u,l){var y=[],w,k,p=!0;w=d.inline||d.block,k=i.create(w),et(k),rt.walk(t,function(t){function o(t){var s,it,rt,nt,tt;if(tt=p,s=t.nodeName.toLowerCase(),it=t.parentNode.nodeName.toLowerCase(),t.nodeType===1&&b(t)&&(tt=p,p=b(t)==="true",nt=!0),c(s,"br")){f=0,d.block&&i.remove(t);return}if(d.wrapper&&h(t,a,v)){f=0;return}if(p&&!nt&&d.block&&!d.wrapper&&pt(s)){t=i.rename(t,w),et(t),y.push(t),f=0;return}if(d.selector&&(r(g,function(n){"collapsed"in n&&n.collapsed!==vt||i.is(t,n.selector)&&!st(t)&&(et(t,n),rt=!0)}),!d.inline||rt)){f=0;return}!p||nt||!ot(w,s)||!ot(it,w)||!l&&t.nodeType===3&&t.nodeValue.length===1&&t.nodeValue.charCodeAt(0)===65279||st(t)?s=="li"&&u?f=dt(t,u,k,y,o):(f=0,r(n.grep(t.childNodes),o),nt&&(p=tt),f=0):(f||(f=i.clone(k,e),t.parentNode.insertBefore(f,t),y.push(f)),f.appendChild(t))}var f;r(t,o)}),d.wrap_links===!1&&r(y,function(t){function u(t){var f,o,s;if(t.nodeName==="A"){for(o=i.clone(k,e),y.push(o),s=n.grep(t.childNodes),f=0;f<s.length;f++)o.appendChild(s[f]);t.appendChild(o)}r(n.grep(t.childNodes),u)}u(t)}),r(y,function(n){function u(n){var t=0;return r(n.childNodes,function(n){tt(n)||s(n)||t++}),t}function c(n){var t,u;return r(n.childNodes,function(n){if(n.nodeType==1&&!s(n)&&!st(n))return t=n,e}),t&&lt(t,d)&&(u=i.clone(t,e),et(u),i.replace(u,n,f),i.remove(t,1)),u||n}var t;if(t=u(n),(y.length>1||!o(n))&&t===0){i.remove(n,1);return}if(d.inline||d.wrapper){if(d.exact||t!==1||(n=c(n)),r(g,function(t){r(i.select(t.inline,n),function(n){var i;if(t.wrap_links===!1){i=n.parentNode;do if(i.nodeName==="A")return;while(i=i.parentNode)}ft(t,v,n,t.exact?n:null)})}),h(n.parentNode,a,v))return i.remove(n,1),n=0,f;d.merge_with_parents&&i.getParent(n.parentNode,function(t){if(h(t,a,v))return i.remove(n,1),n=0,f}),n&&d.merge_siblings!==!1&&(n=kt(yt(n),n),n=kt(n,yt(n,f)))}})}var g=l(a),d=g[0],ct,nt,vt=u.isCollapsed(),ht;d&&(w?w.nodeType?(nt=i.createRng(),nt.setStartBefore(w),nt.setEndAfter(w),at(it(nt,g),null,!0)):at(w,null,!0):vt&&d.inline&&!i.select("td.mceSelected,th.mceSelected").length?gt("apply",a,v):(ht=t.selection.getNode(),ut||!g[0].defaultBlock||i.getParent(ht,i.isBlock)||k(g[0].defaultBlock),t.selection.setRng(wt()),ct=u.getBookmark(),at(it(u.getRng(f),g),ct),d.styles&&(d.styles.color||d.styles.textDecoration)&&(n.walk(ht,bt,"childNodes"),bt(ht)),u.moveToBookmark(ct),ni(u.getRng(f)),t.nodeChanged()))}function ht(c,a,v){function et(t){var r,i,u,e,f;if(t.nodeType!==3){if(t.nodeType===1&&b(t)&&(e=k,k=b(t)==="true",f=!0),r=n.grep(t.childNodes),k&&!f)for(i=0,u=y.length;i<u;i++)if(ft(y[i],a,t,t))break;if(p.deep&&r.length){for(i=0,u=r.length;i<u;i++)et(r[i]);f&&(k=e)}}}function st(n){var t;return r(g(n.parentNode).reverse(),function(n){var i;t||n.id=="_start"||n.id=="_end"||(i=h(n,c,a),i&&i.split!==!1&&(t=n))}),t}function ht(n,t,r,u){var s,f,h,l,c,v;if(n){for(v=n.parentNode,s=t.parentNode;s&&s!=v;s=s.parentNode){for(f=i.clone(s,e),c=0;c<y.length;c++)if(ft(y[c],a,f,f)){f=0;break}f&&(h&&f.appendChild(h),l||(l=f),h=f)}!u||p.mixed&&o(n)||(t=i.split(n,t)),h&&(r.parentNode.insertBefore(h,r),l.appendChild(r))}return t}function nt(n){return ht(st(n),n,n,!0)}function ot(n){var r=i.get(n?"_start":"_end"),t=r[n?"firstChild":"lastChild"];return s(t)&&(t=t[n?"firstChild":"lastChild"]),i.remove(r,!0),t}function tt(n){var i,u;n=it(n,y,f),p.split&&(i=dt(n,f),u=dt(n),i!=u?(/^(TR|TD)$/.test(i.nodeName)&&i.firstChild&&(i=(i.nodeName=="TD"?i.firstChild:i.firstChild.firstChild)||i),i=vt(i,"span",{id:"_start","data-mce-type":"bookmark"}),u=vt(u,"span",{id:"_end","data-mce-type":"bookmark"}),nt(i),nt(u),i=ot(f),u=ot()):i=u=nt(i),n.startContainer=i.parentNode,n.startOffset=d(i),n.endContainer=u.parentNode,n.endOffset=d(u)+1),rt.walk(n,function(n){r(n,function(n){et(n),n.nodeType===1&&t.dom.getStyle(n,"text-decoration")==="underline"&&n.parentNode&&wt(n.parentNode)==="underline"&&ft({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,n)})})}var y=l(c),p=y[0],ut,w,k=!0;if(v){v.nodeType?(w=i.createRng(),w.setStartBefore(v),w.setEndAfter(v),tt(w)):tt(v);return}u.isCollapsed()&&p.inline&&!i.select("td.mceSelected,th.mceSelected").length?gt("remove",c,a):(ut=u.getBookmark(),tt(u.getRng(f)),u.moveToBookmark(ut),p.inline&&ct(c,a,u.getStart())&&ni(u.getRng(!0)),t.nodeChanged())}function ui(n,t,i){var r=l(n);!ct(n,t,i)||"toggle"in r[0]&&!r[0].toggle?k(n,t,i):ht(n,t,i)}function h(n,t,r,u){function h(n,t,f){var o,h,e=t[f],s;if(t.onmatch)return t.onmatch(n,t,f);if(e)if(e.length===w){for(o in e)if(e.hasOwnProperty(o)){if(h=f==="attributes"?i.getAttrib(n,o):at(n,o),u&&!h&&!t.exact)return;if((!u||t.exact)&&!c(h,y(e[o],r)))return}}else for(s=0;s<e.length;s++)if(f==="attributes"?i.getAttrib(n,e[s]):at(n,e[s]))return t;return t}var o=l(t),e,f,s;if(o&&n)for(f=0;f<o.length;f++)if(e=o[f],lt(n,e)&&h(n,e,"attributes")&&h(n,e,"styles")){if(s=e.classes)for(f=0;f<s.length;f++)if(!i.hasClass(n,s[f]))return;return e}}function ct(n,t,r){function s(r){return r=i.getParent(r,function(i){return!!h(i,n,t,!0)}),h(r,n,t)}var o;return r?s(r):(r=u.getNode(),s(r))?f:(o=u.getStart(),o!=r&&s(o))?f:e}function fi(n,t){var r,f=[],e={};return r=u.getStart(),i.getParent(r,function(i){for(var r,u=0;u<n.length;u++)r=n[u],!e[r]&&h(i,r,t)&&(e[r]=!0,f.push(r))},i.getRoot()),f}function ei(n){var o=l(n),c,s,t,r,h;if(o)for(c=u.getStart(),s=g(c),r=o.length-1;r>=0;r--){if(h=o[r].selector,!h)return f;for(t=s.length-1;t>=0;t--)if(i.is(s[t],h))return f}return e}function oi(n,i,u){var f;return v||(v={},f={},t.onNodeChange.addToTop(function(n,t,i){var u=g(i),e={};r(v,function(n,t){r(u,function(i){if(h(i,t,{},n.similar))return f[t]||(r(n,function(n){n(!0,{node:i,format:t,parents:u})}),f[t]=n),e[t]=n,!1})}),r(f,function(n,t){e[t]||(delete f[t],r(n,function(n){n(!1,{node:i,format:t,parents:u})}))})})),r(n.split(","),function(n){v[n]||(v[n]=[],v[n].similar=u),v[n].push(i)}),this}function lt(n,t){return c(n,t.inline)?f:c(n,t.block)?f:t.selector?i.is(n,t.selector):void 0}function c(n,t){return n=n||"",t=t||"",n=""+(n.nodeName||n),t=""+(t.nodeName||t),n.toLowerCase()==t.toLowerCase()}function at(n,t){var r=i.getStyle(n,t);return(t=="color"||t=="backgroundColor")&&(r=i.toHex(r)),t=="fontWeight"&&r==700&&(r="bold"),""+r}function y(n,t){return typeof n!="string"?n=n(t):t&&(n=n.replace(/%(\w+)/g,function(n,i){return t[i]||n})),n}function tt(n){return n&&n.nodeType===3&&/^([\t \r\n]+|)$/.test(n.nodeValue)}function vt(n,t,r){var u=i.create(t,r);return n.parentNode.insertBefore(u,n),u.appendChild(n),u}function it(n,r,u){function nt(n){function y(n){return n.nodeName=="BR"&&n.getAttribute("data-mce-bogus")&&!n.nextSibling}var u,t,e,c,l;if(u=t=n?h:f,c=n?"previousSibling":"nextSibling",l=i.getRoot(),u.nodeType==3&&!tt(u)&&(n?v>0:a<u.nodeValue.length))return u;for(;;){if(!r[0].block_expand&&o(t))return t;for(e=t[c];e;e=e[c])if(!s(e)&&!tt(e)&&!y(e))return t;if(t.parentNode==l){u=t;break}t=t.parentNode}return u}function it(n,t){for(t===w&&(t=n.nodeType===3?n.length:n.childNodes.length);n&&n.hasChildNodes();)n=n.childNodes[t],n&&(t=n.nodeType===3?n.length:n.childNodes.length);return{node:n,offset:t}}function rt(n){for(var t=n;t;){if(t.nodeType===1&&b(t))return b(t)==="false"?t:n;t=t.parentNode}return n}function ut(n,r,f){function l(n,t){var i,r,e=n.nodeValue;return typeof t=="undefined"&&(t=f?e.length:0),f?(i=e.lastIndexOf(" ",t),r=e.lastIndexOf(" ",t),i=i>r?i:r,i===-1||u||i++):(i=e.indexOf(" ",t),r=e.indexOf(" ",t),i=i!==-1&&(r===-1||i<r)?i:r),i}var c,e,s,h;if(n.nodeType===3){if(s=l(n,r),s!==-1)return{container:n,offset:s};h=n}for(c=new p(n,i.getParent(n,o)||t.getBody());e=c[f?"prev":"next"]();)if(e.nodeType===3){if(h=e,s=l(e),s!==-1)return{container:e,offset:s}}else if(o(e))break;if(h)return r=f?0:h.length,{container:h,offset:r}}function ft(t,u){var e,f,o,s;for(t.nodeType==3&&t.nodeValue.length===0&&t[u]&&(t=t[u]),e=g(t),f=0;f<e.length;f++)for(o=0;o<r.length;o++)if((s=r[o],!("collapsed"in s)||s.collapsed===n.collapsed)&&i.is(e[f],s.selector))return e[f];return t}function et(n,t){var u;if(r[0].wrapper||(u=i.getParent(n,r[0].block)),u||(u=i.getParent(n.nodeType==3?n.parentNode:n,pt)),u&&r[0].wrapper&&(u=g(u,"ul,ol").reverse()[0]||u),!u)for(u=n;u[t]&&!o(u[t]);)if(u=u[t],c(u,"br"))break;return u||n}var k,l,y,h=n.startContainer,v=n.startOffset,f=n.endContainer,a=n.endOffset;if(h.nodeType==1&&h.hasChildNodes()&&(k=h.childNodes.length-1,h=h.childNodes[v>k?k:v],h.nodeType==3&&(v=0)),f.nodeType==1&&f.hasChildNodes()&&(k=f.childNodes.length-1,f=f.childNodes[a>k?k:a-1],f.nodeType==3&&(a=f.nodeValue.length)),h=rt(h),f=rt(f),(s(h.parentNode)||s(h))&&(h=s(h)?h:h.parentNode,h=h.nextSibling||h,h.nodeType==3&&(v=0)),(s(f.parentNode)||s(f))&&(f=s(f)?f:f.parentNode,f=f.previousSibling||f,f.nodeType==3&&(a=f.length)),r[0].inline&&(n.collapsed&&(y=ut(h,v,!0),y&&(h=y.container,v=y.offset),y=ut(f,a),y&&(f=y.container,a=y.offset)),l=it(f,a),l.node)){while(l.node&&l.offset===0&&l.node.previousSibling)l=it(l.node.previousSibling);l.node&&l.offset>0&&l.node.nodeType===3&&l.node.nodeValue.charAt(l.offset-1)===" "&&l.offset>1&&(f=l.node,f.splitText(l.offset-1))}return(r[0].inline||r[0].block_expand)&&(r[0].inline&&h.nodeType==3&&v!==0||(h=nt(!0)),r[0].inline&&f.nodeType==3&&a!==f.nodeValue.length||(f=nt())),r[0].selector&&r[0].expand!==e&&!r[0].inline&&(h=ft(h,"previousSibling"),f=ft(f,"nextSibling")),(r[0].block||r[0].selector)&&(h=et(h,"previousSibling"),f=et(f,"nextSibling"),r[0].block&&(o(h)||(h=nt(!0)),o(f)||(f=nt()))),h.nodeType==1&&(v=d(h),h=h.parentNode),f.nodeType==1&&(a=d(f)+1,f=f.parentNode),{startContainer:h,startOffset:v,endContainer:f,endOffset:a}}function ft(n,t,u,o){var s,h,l;if(!lt(u,n))return e;if(n.remove!="all")for(r(n.styles,function(n,r){n=y(n,t),typeof r=="number"&&(r=n,o=0),(!o||c(at(o,r),n))&&i.setStyle(u,r,""),l=1}),l&&i.getAttrib(u,"style")==""&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),r(n.attributes,function(n,f){var e;if(n=y(n,t),typeof f=="number"&&(f=n,o=0),!o||c(i.getAttrib(o,f),n)){if(f=="class"&&(n=i.getAttrib(u,f),n&&(e="",r(n.split(/\s+/),function(n){/mce\w+/.test(n)&&(e+=(e?" ":"")+n)}),e))){i.setAttrib(u,f,e);return}f=="class"&&u.removeAttribute("className"),ti.test(f)&&u.removeAttribute("data-mce-"+f),u.removeAttribute(f)}}),r(n.classes,function(n){n=y(n,t),(!o||i.hasClass(o,n))&&i.removeClass(u,n)}),h=i.getAttribs(u),s=0;s<h.length;s++)if(h[s].nodeName.indexOf("_")!==0)return e;if(n.remove!="none")return si(u,n),f}function si(t,u){function h(n,t,i){return n=yt(n,t,i),!n||n.nodeName=="BR"||o(n)}var l=t.parentNode,s;(u.block&&(ut?l==i.getRoot()&&(u.list_block&&c(t,u.list_block)||r(n.grep(t.childNodes),function(n){ot(ut,n.nodeName.toLowerCase())?s?s.appendChild(n):s=vt(n,ut):s=0})):o(t)&&!o(l)&&(h(t,e)||h(t.firstChild,f,1)||t.insertBefore(i.create("br"),t.firstChild),h(t,f)||h(t.lastChild,e,1)||t.appendChild(i.create("br")))),u.selector&&u.inline&&!c(u.inline,t))||i.remove(t,1)}function yt(n,t,i){if(n)for(t=t?"nextSibling":"previousSibling",n=i?n:n[t];n;n=n[t])if(n.nodeType==1||!tt(n))return n}function s(n){return n&&n.nodeType==1&&n.getAttribute("data-mce-type")=="bookmark"}function kt(t,u){function l(n,t){function u(n){var t={};return r(i.getAttribs(n),function(r){var u=r.nodeName.toLowerCase();u.indexOf("_")!==0&&u!=="style"&&(t[u]=i.getAttrib(n,u))}),t}function o(n,t){var r,i;for(i in n)if(n.hasOwnProperty(i)){if((r=t[i],r===w)||n[i]!=r)return e;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return e;return f}return n.nodeName!=t.nodeName?e:o(u(n),u(t))?o(i.parseStyle(i.getAttrib(n,"style")),i.parseStyle(i.getAttrib(t,"style")))?f:e:e}function c(n,t){for(o=n;o;o=o[t]){if(o.nodeType==3&&o.nodeValue.length!==0)return n;if(o.nodeType==1&&!s(o))return o}return n}var o,h;if(t&&u&&(t=c(t,"previousSibling"),u=c(u,"nextSibling"),l(t,u))){for(o=t.nextSibling;o&&o!=u;)h=o,o=o.nextSibling,t.appendChild(h);return i.remove(u),r(n.grep(u.childNodes),function(n){t.appendChild(n)}),t}return u}function pt(n){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(n)}function dt(n,i){var r,u,f;return r=n[i?"startContainer":"endContainer"],u=n[i?"startOffset":"endOffset"],r.nodeType==1&&(f=r.childNodes.length-1,!i&&u&&u--,r=r.childNodes[u>f?f:u]),r.nodeType===3&&i&&u>=r.nodeValue.length&&(r=new p(r,t.getBody()).next()||r),r.nodeType!==3||i||u!==0||(r=new p(r,t.getBody()).prev()||r),r}function gt(r,f,e){function y(n){var r=i.create("span",{id:s,"data-mce-bogus":!0,style:d?"color:red":""});return n&&r.appendChild(t.getDoc().createTextNode(a)),r}function w(n,t){while(n){if(n.nodeType===3&&n.nodeValue!==a||n.childNodes.length>1)return!1;t&&n.nodeType===1&&t.push(n),n=n.firstChild}return!0}function o(n){while(n){if(n.id===s)return n;n=n.parentNode}}function b(n){var t;if(n)for(t=new p(n,n),n=t.current();n;n=t.next())if(n.nodeType===3)return n}function c(n,t){var r,f;if(n)f=u.getRng(!0),w(n)?(t!==!1&&(f.setStartBefore(n),f.setEndBefore(n)),i.remove(n)):(r=b(n),r.nodeValue.charAt(0)===a&&(r=r.deleteData(0,1)),i.remove(n,1)),u.setRng(f);else if(n=o(u.getStart()),!n)while(n=i.get(s))c(n,!1)}function g(){var n,t,s,i,h,c,r;n=u.getRng(!0),i=n.startOffset,c=n.startContainer,r=c.nodeValue,t=o(u.getStart()),t&&(s=b(t)),r&&i>0&&i<r.length&&/\w/.test(r.charAt(i))&&/\w/.test(r.charAt(i-1))?(h=u.getBookmark(),n.collapse(!0),n=it(n,l(f)),n=rt.split(n),k(f,e,n),u.moveToBookmark(h)):(t&&s.nodeValue===a?k(f,e,t):(t=y(!0),s=t.firstChild,n.insertNode(t),i=1,k(f,e,t)),u.setCursorLocation(s,i))}function nt(){var t=u.getRng(!0),r,w,b,s,n,c,v=[],o,p;for(r=t.startContainer,w=t.startOffset,n=r,r.nodeType==3&&((w!=r.nodeValue.length||r.nodeValue===a)&&(s=!0),n=n.parentNode);n;){if(h(n,f,e)){c=n;break}n.nextSibling&&(s=!0),v.push(n),n=n.parentNode}if(c)if(s)b=u.getBookmark(),t.collapse(!0),t=it(t,l(f),!0),t=rt.split(t),ht(f,e,t),u.moveToBookmark(b);else{for(p=y(),n=p,o=v.length-1;o>=0;o--)n.appendChild(i.clone(v[o],!1)),n=n.firstChild;n.appendChild(i.doc.createTextNode(a)),n=n.firstChild,i.insertAfter(p,c),u.setCursorLocation(n,1)}}function v(){var t;t=o(u.getStart()),t&&!i.isEmpty(t)&&n.walk(t,function(n){n.nodeType!=1||n.id===s||i.isEmpty(n)||i.setAttrib(n,"data-mce-bogus",null)},"childNodes")}var s="_mce_caret",d=t.settings.caret_debug;self._hasCaretEvents||(t.onBeforeGetContent.addToTop(function(){var n=[],t;if(w(o(u.getStart()),n))for(t=n.length;t--;)i.setAttrib(n[t],"data-mce-bogus","1")}),n.each("onMouseUp onKeyUp".split(" "),function(n){t[n].addToTop(function(){c(),v()})}),t.onKeyDown.addToTop(function(n,t){var i=t.keyCode;(i==8||i==37||i==39)&&c(o(u.getStart())),v()}),u.onSetContent.add(v),self._hasCaretEvents=!0),r=="apply"?g():nt()}function ni(n){var t=n.startContainer,f=n.startOffset,h,e,r,o,s;if(t.nodeType==3&&f>=t.nodeValue.length&&(f=d(t),t=t.parentNode,h=!0),t.nodeType==1)for(o=t.childNodes,t=o[Math.min(f,o.length-1)],e=new p(t,i.getParent(t,i.isBlock)),(f>o.length-1||h)&&e.next(),r=e.current();r;r=e.next())if(r.nodeType==3&&!tt(r)){s=i.create("a",null,a),r.parentNode.insertBefore(s,r),n.setStart(r,0),u.setRng(n),i.remove(s);return}}var et={},r=n.each,i=t.dom,u=t.selection,p=n.dom.TreeWalker,rt=new n.dom.RangeUtils(i),ot=t.schema.isValidChild,hi=n.isArray,o=i.isBlock,ut=t.settings.forced_root_block,d=i.nodeIndex,a="﻿",ti=/^(src|href|style)$/,e=!1,f=!0,v,w,b=i.getContentEditable,wt=function(n){var i;return t.dom.getParent(n,function(n){return i=t.dom.getStyle(n,"text-decoration"),i&&i!=="none"}),i},bt=function(n){var i;n.nodeType===1&&n.parentNode&&n.parentNode.nodeType===1&&(i=wt(n.parentNode),t.dom.getStyle(n,"color")&&i?t.dom.setStyle(n,"text-decoration",i):t.dom.getStyle(n,"textdecoration")===i&&t.dom.setStyle(n,"text-decoration",null))};n.extend(this,{get:l,register:nt,apply:k,remove:ht,toggle:ui,match:ct,matchAll:fi,matchNode:h,canApply:ei,formatChanged:oi}),ii(),ri()}}(tinymce),tinymce.onAddEditor.add(function(n,t){function u(t,r){n.each(r,function(n,r){n&&i.setStyle(t,r,n)}),i.rename(t,"span")}function f(u,f){i=u.dom,r.convert_fonts_to_spans&&n.each(i.select("font,u,strike",f.node),function(n){e[n.nodeName.toLowerCase()](t.dom,n)})}var e,o,i,r=t.settings;r.inline_styles&&(o=n.explode(r.font_size_legacy_values),e={font:function(n,t){u(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:o[parseInt(t.size,10)-1]})},u:function(n,t){u(t,{textDecoration:"underline"})},strike:function(n,t){u(t,{textDecoration:"line-through"})}},t.onPreProcess.add(f),t.onSetContent.add(f),t.onInit.add(function(){t.selection.onSetContent.add(f)}))}),function(n){var t=n.dom.TreeWalker;n.EnterKey=function(i){function s(s){function et(n){return n&&r.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&r.getContentEditable(n)!=="true"}function ot(t){var i;n.isIE&&r.isBlock(t)&&(i=u.getRng(),t.appendChild(r.create("span",null," ")),u.select(t),t.lastChild.outerHTML="",u.setRng(i))}function ht(n){for(var t=n,i=[],u;t=t.firstChild;){if(r.isBlock(t))return;t.nodeType!=1||o[t.nodeName.toLowerCase()]||i.push(t)}for(u=i.length;u--;)t=i[u],t.hasChildNodes()&&(t.firstChild!=t.lastChild||t.firstChild.nodeValue!=="")?t.nodeName=="A"&&(t.innerText||t.textContent)===" "&&r.remove(t):r.remove(t)}function ft(n){var c,e,f,s,h,l=n,a;if(f=r.createRng(),n.hasChildNodes()){for(c=new t(n,n);e=c.current();){if(e.nodeType==3){f.setStart(e,0),f.setEnd(e,0);break}if(o[e.nodeName.toLowerCase()]){f.setStartBefore(e),f.setEndBefore(e);break}l=e,e=c.next()}e||(f.setStart(l,0),f.setEnd(l,0))}else n.nodeName=="BR"?n.nextSibling&&r.isBlock(n.nextSibling)?((!nt||nt<9)&&(a=r.create("br"),n.parentNode.insertBefore(a,n)),f.setStartBefore(n),f.setEndBefore(n)):(f.setStartAfter(n),f.setEndAfter(n)):(f.setStart(n,0),f.setEnd(n,0));u.setRng(f),r.remove(a),h=r.getViewPort(i.getWin()),s=r.getPos(n).y,(s<h.y||s+25>h.y+h.h)&&i.getWin().scrollTo(0,s<h.y?s:s-h.h+25)}function rt(t){var e=h,i,u,o;if(i=t||b=="TABLE"?r.create(t||v):c.cloneNode(!1),o=i,f.keep_styles!==!1)do if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(e.nodeName)){if(e.id=="_mce_caret")continue;u=e.cloneNode(!1),r.setAttrib(u,"id",""),i.hasChildNodes()?(u.appendChild(i.firstChild),i.appendChild(u)):(o=u,i.appendChild(u))}while(e=e.parentNode);return n.isIE||(o.innerHTML='<br data-mce-bogus="1">'),i}function st(n){var i,r,u;if(h.nodeType==3&&(n?p>0:p<h.nodeValue.length))return!1;if(h.parentNode==c&&tt&&!n||n&&h.nodeType==1&&h==c.firstChild)return!0;if(h.nodeName==="TABLE"||h.previousSibling&&h.previousSibling.nodeName=="TABLE")return tt&&!n||!tt&&n;for(i=new t(h,c),h.nodeType==3&&(n&&p==0?i.prev():n||p!=h.nodeValue.length||i.next());r=i.current();){if(r.nodeType===1){if(!r.getAttribute("data-mce-bogus")&&(u=r.nodeName.toLowerCase(),o[u]&&u!=="br"))return!1}else if(r.nodeType===3&&!/^[ \t\r\n]*$/.test(r.nodeValue))return!1;n?i.prev():i.next()}return!0}function ct(n,t){var u,f,e,i,o,s=v||"P";if(f=r.getParent(n,r.isBlock),!f||!et(f)){if(f=f||g,!f.hasChildNodes())return u=r.create(s),f.appendChild(u),l.setStart(u,0),l.setEnd(u,0),u;for(i=n;i.parentNode!=f;)i=i.parentNode;while(i&&!r.isBlock(i))e=i,i=i.previousSibling;if(e){for(u=r.create(s),e.parentNode.insertBefore(u,e),i=e;i&&!r.isBlock(i);)o=i.nextSibling,u.appendChild(i),i=o;l.setStart(n,t),l.setEnd(n,t)}}return n}function lt(){function n(n){for(var t=y[n?"firstChild":"lastChild"];t;){if(t.nodeType==1)break;t=t[n?"nextSibling":"previousSibling"]}return t===c}a=v?rt(v):r.create("BR"),n(!0)&&n()?r.replace(a,y):n(!0)?y.parentNode.insertBefore(a,y):n()?(r.insertAfter(a,y),ot(a)):(k=l.cloneRange(),k.setStartAfter(c),k.setEndAfter(y),d=k.extractContents(),r.insertAfter(d,y),r.insertAfter(a,y)),r.remove(c),ft(a),e.add()}function at(){for(var i=new t(h,c),n;n=i.current();){if(n.nodeName=="BR")return!0;n=i.next()}}function ut(){var t,f,i;h&&h.nodeType==3&&p>=h.nodeValue.length&&(n.isIE||at()||(t=r.create("br"),l.insertNode(t),l.setStartAfter(t),l.setEndAfter(t),f=!0)),t=r.create("br"),l.insertNode(t),n.isIE&&b=="PRE"&&(!nt||nt<8)&&t.parentNode.insertBefore(r.doc.createTextNode("\r"),t),i=r.create("span",{},"&nbsp;"),t.parentNode.insertBefore(i,t),u.scrollIntoView(i),r.remove(i),f?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)),u.setRng(l),e.add()}function vt(n){do n.nodeType===3&&(n.nodeValue=n.nodeValue.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)}function yt(n){for(var i=r.getRoot(),u,t=n;t!==i&&r.getContentEditable(t)!=="false";)r.getContentEditable(t)==="true"&&(u=t),t=t.parentNode;return t!==i?u:i}function pt(t){var i;n.isIE||(t.normalize(),i=t.lastChild,(!i||/^(left|right)$/gi.test(r.getStyle(i,"float",!0)))&&r.add(t,"br"))}var l=u.getRng(!0),k,g,h,p,c,nt,w,a,d,y,b,it,v,tt;if(!l.collapsed){i.execCommand("Delete");return}if(!s.isDefaultPrevented()&&(h=l.startContainer,p=l.startOffset,v=(f.force_p_newlines?"p":"")||f.forced_root_block,v=v?v.toUpperCase():"",nt=r.doc.documentMode,w=s.shiftKey,h.nodeType==1&&h.hasChildNodes()&&(tt=p>h.childNodes.length-1,h=h.childNodes[Math.min(p,h.childNodes.length-1)]||h,p=tt&&h.nodeType==3?h.nodeValue.length:0),g=yt(h),g)){if(e.beforeChange(),!r.isBlock(g)&&g!=r.getRoot()){(!v||w)&&ut();return}if((v&&!w||!v&&w)&&(h=ct(h,p)),c=r.getParent(h,r.isBlock),y=c?r.getParent(c.parentNode,r.isBlock):null,b=c?c.nodeName.toUpperCase():"",it=y?y.nodeName.toUpperCase():"",it!="LI"||s.ctrlKey||(c=y,b=it),b=="LI"){if(!v&&w){ut();return}if(r.isEmpty(c)){if(/^(UL|OL|LI)$/.test(y.parentNode.nodeName))return!1;lt();return}}if(b=="PRE"&&f.br_in_pre!==!1){if(!w){ut();return}}else if(!v&&!w&&b!="LI"||v&&w){ut();return}v=v||"P",st()?(a=/^(H[1-6]|PRE)$/.test(b)&&it!="HGROUP"?rt(v):rt(),f.end_container_on_empty_block&&et(y)&&r.isEmpty(c)?a=r.split(y,c):r.insertAfter(a,c),ft(a)):st(!0)?(a=c.parentNode.insertBefore(rt(),c),ot(a)):(k=l.cloneRange(),k.setEndAfter(c),d=k.extractContents(),vt(d),a=d.firstChild,r.insertAfter(d,c),ht(a),pt(c),ft(a)),r.setAttrib(a,"id",""),e.add()}}var r=i.dom,u=i.selection,f=i.settings,e=i.undoManager,o=i.schema.getNonEmptyElements();i.onKeyDown.add(function(n,t){t.keyCode==13&&s(t)!==!1&&t.preventDefault()})}}(tinymce),function(n){function u(){function e(n){n==="remove"&&this.each(function(n,t){var i=u(t);i&&i.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(n,t){var i=tinyMCE.get(t.id.replace(/_parent$/,""));i&&i.remove()})}function o(n){var t=this,r;if(n!==i)e.call(t),t.each(function(t,i){var r;(r=tinyMCE.get(i.id))&&r.setContent(n)});else if(t.length>0&&(r=tinyMCE.get(t[0].id)))return r.getContent()}function u(n){var i=null;return n&&n.id&&t.tinymce&&(i=tinyMCE.get(n.id)),i}function f(n){return!!(n&&n.length&&t.tinymce&&n.is(":tinymce"))}var r={};n.each(["text","html","val"],function(t,e){var s=r[e]=n.fn[e],h=e==="text";n.fn[e]=function(t){var r=this,e,c;return f(r)?t!==i?(o.call(r.filter(":tinymce"),t),s.apply(r.not(":tinymce"),arguments),r):(e="",c=arguments,(h?r:r.eq(0)).each(function(t,i){var r=u(i);e+=r?h?r.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):r.getContent({save:!0}):s.apply(n(i),c)}),e):s.apply(r,arguments)}}),n.each(["append","prepend"],function(t,e){var o=r[e]=n.fn[e],s=e==="prepend";n.fn[e]=function(n){var t=this;return f(t)?n!==i?(t.filter(":tinymce").each(function(t,i){var r=u(i);r&&r.setContent(s?n+r.getContent():r.getContent()+n)}),o.apply(t.not(":tinymce"),arguments),t):void 0:o.apply(t,arguments)}}),n.each(["remove","replaceWith","replaceAll","empty"],function(t,i){var u=r[i]=n.fn[i];n.fn[i]=function(){return e.call(this,i),u.apply(this,arguments)}}),r.attr=n.fn.attr,n.fn.attr=function(t,e){var s=this,h=arguments,c,l;return!t||t!=="value"||!f(s)?e!==i?r.attr.apply(s,h):r.attr.apply(s,h):e!==i?(o.call(s.filter(":tinymce"),e),r.attr.apply(s.not(":tinymce"),h),s):(c=s[0],l=u(c),l?l.getContent({save:!0}):r.attr.apply(n(c),h))}}var i,r,f=[],t=window;n.fn.tinymce=function(i){function l(){var t=[],r=0;u&&(u(),u=null),o.each(function(n,u){var f,e=u.id,s=i.oninit;e||(u.id=e=tinymce.DOM.uniqueId()),f=new tinymce.Editor(e,i),t.push(f),f.onInit.add(function(){var i,n=s;o.css("visibility",""),s&&++r==t.length&&(tinymce.is(n,"string")&&(i=n.indexOf(".")===-1?null:tinymce.resolve(n.replace(/\.\w+$/,"")),n=tinymce.resolve(n)),n.apply(i||tinymce,t))})}),n.each(t,function(n,t){t.render()})}var o=this,e,a,c,h,v="",s="";return o.length?i?(o.css("visibility","hidden"),t.tinymce||r||!(e=i.script_url)?r===1?f.push(l):l():(r=1,a=e.substring(0,e.lastIndexOf("/")),/_(src|dev)\.js/g.test(e)&&(s="_src"),c=e.lastIndexOf("?"),c!=-1&&(v=e.substring(c+1)),t.tinyMCEPreInit=t.tinyMCEPreInit||{base:a,suffix:s,query:v},e.indexOf("gzip")!=-1&&(h=i.language||"en",e=e+(/\?/.test(e)?"&":"?")+"js=true&core=true&suffix="+escape(s)+"&themes="+escape(i.theme)+"&plugins="+escape(i.plugins)+"&languages="+h,t.tinyMCE_GZ||(tinyMCE_GZ={start:function(){function t(n){tinymce.ScriptLoader.markDone(tinyMCE.baseURI.toAbsolute(n))}tinymce.suffix=s,t("langs/"+h+".js"),t("themes/"+i.theme+"/editor_template"+s+".js"),t("themes/"+i.theme+"/langs/"+h+".js"),n.each(i.plugins.split(","),function(n,i){i&&(t("plugins/"+i+"/editor_plugin"+s+".js"),t("plugins/"+i+"/langs/"+h+".js"))})},end:function(){}})),n.ajax({type:"GET",url:e,dataType:"script",cache:!0,success:function(){tinymce.dom.Event.domLoaded=1,r=2,i.script_loaded&&i.script_loaded(),l(),n.each(f,function(n,t){t()})}})),o):tinyMCE.get(o[0].id):o},n.extend(n.expr[":"],{tinymce:function(n){return!!(n.id&&"tinyMCE"in window&&tinyMCE.get(n.id))}})}(jQuery);
//@ sourceMappingURL=tinymce.min.js.map